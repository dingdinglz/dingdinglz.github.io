[{"content":"æœ¬å‘¨å·¥ä½œçŠ¶æ€ å…³äº æˆ–è®¸æˆ‘ä¼šå†™äº›å¼€å‘æ–¹é¢çš„å°æŠ€å·§ï¼Œä¹Ÿè®¸æˆ‘æ­£è®¡åˆ’ç€åšäº›å…³äºgolangå’Œcçš„æ•™ç¨‹foråˆå­¦è€…ä»¬ã€‚\nä¹Ÿè®¸æˆ‘åªæ˜¯æƒ³å†™ç‚¹ç”Ÿæ´»ä¸­å¹³å¹³æ·¡æ·¡çš„ä¸œè¥¿ã€‚\nè”ç³»æˆ‘ mail: dinglz@mail.dlut.edu.cn\nå‹é“¾ è·é›¨å¤´ä¸Šæ’ç€è–„è·ğŸ€ â„¡å‚²é›ª\u0026amp;æ˜Ÿç«ã´ Javaä¹‹çˆ¶ã®blogï¼ˆç‰¢ä¸‡ï¼‰ å°è±¡å¹³å‡¡ ","date":"2024-10-15T08:00:00Z","image":"https://dingdinglz.github.io/p/hello-world/cover_hu6307248181568134095.jpg","permalink":"https://dingdinglz.github.io/p/hello-world/","title":"Hello World"},{"content":"æ¦‚è¿° Go è¯­è¨€åœ¨ 1.23 ç‰ˆæœ¬ä¸­æ­£å¼å¼•å…¥äº† iter åŒ…ï¼Œè¿™æ˜¯ Go è¯­è¨€è¿­ä»£å™¨æœºåˆ¶çš„ä¸€ä¸ªé‡å¤§å˜é©ã€‚å®ƒé…åˆè¯­è¨€å±‚é¢çš„æ–°ç‰¹æ€§ Range Over Functionï¼ˆå‡½æ•°è¿­ä»£ï¼‰ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿä»¥ç»Ÿä¸€ã€æ ‡å‡†çš„æ–¹å¼è‡ªå®šä¹‰è¿­ä»£é€»è¾‘ã€‚\nè¿‡å»æˆ‘ä»¬åªèƒ½å¯¹ sliceã€mapã€channel è¿›è¡Œ for-range éå†ï¼Œç°åœ¨ä»»ä½•ç¬¦åˆ iter.Seq æˆ– iter.Seq2 ç­¾åçš„å‡½æ•°éƒ½å¯ä»¥ç›´æ¥è¢« for-range ä½¿ç”¨ã€‚è¿™è®© Go åœ¨ä¿æŒç®€æ´çš„åŒæ—¶ï¼Œæ‹¥æœ‰äº†ç±»ä¼¼ Python ç”Ÿæˆå™¨çš„èƒ½åŠ›ï¼Œä½†å®ç°ä¸Šæ›´åŠ è½»é‡ã€‚\næœ¬æ–‡å†…å®¹ç´§è·Ÿ Go 1.23 å®˜æ–¹å‘å¸ƒï¼Œå»ºè®®é…åˆå®˜æ–¹æ–‡æ¡£é£Ÿç”¨ï¼šhttps://pkg.go.dev/iter\nä½†æ˜¯ï¼æˆ‘åœ¨ç½‘ä¸Šæ‰¾åˆ°çš„æ‰€æœ‰æ•™ç¨‹è®²çš„éƒ½æå…¶æ™¦æ¶©éš¾æ‡‚ï¼Œäºæ˜¯æˆ‘å†™äº†ä¸‹é¢çš„å†…å®¹å¸Œæœ›èƒ½å¸®åŠ©å¤§å®¶ç†è§£ã€‚\næ ¸å¿ƒæ¦‚å¿µï¼šä»€ä¹ˆæ˜¯ iter.Seqï¼Ÿ iter åŒ…å®šä¹‰äº†ä¸¤ä¸ªæ ¸å¿ƒç±»å‹ï¼Œå®ƒä»¬æœ¬è´¨ä¸Šæ˜¯å‡½æ•°ç±»å‹ã€‚\niter.Seq[V] (å•å€¼è¿­ä»£å™¨) 1 type Seq[V any] func(yield func(V) bool) ç”¨é€”ï¼šç”¨äºæ¯æ¬¡è¿­ä»£äº§å‡ºä¸€ä¸ªå€¼ï¼ˆä¾‹å¦‚éå†åˆ‡ç‰‡çš„å€¼ï¼‰ å·¥ä½œåŸç†ï¼š Seq æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªåä¸º yield çš„å›è°ƒå‡½æ•° ç¼–å†™è¿­ä»£å™¨æ—¶ï¼Œè°ƒç”¨ yield(value) æŠŠæ•°æ®\u0026quot;æ¨\u0026quot;ç»™è°ƒç”¨è€… å¦‚æœ yield è¿”å› falseï¼Œè¡¨ç¤ºè°ƒç”¨è€…å¸Œæœ›åœæ­¢è¿­ä»£ï¼ˆæ¯”å¦‚å¾ªç¯é‡Œé‡åˆ°äº† breakï¼‰ï¼Œæ­¤æ—¶è¿­ä»£å™¨å‡½æ•°åº”è¯¥ç«‹å³è¿”å› iter.Seq2[K, V] (åŒå€¼è¿­ä»£å™¨) 1 type Seq2[K, V any] func(yield func(K, V) bool) å’Œä¸Šé¢å¾ˆç±»ä¼¼\nç”¨é€”ï¼šç”¨äºæ¯æ¬¡è¿­ä»£äº§å‡ºä¸¤ä¸ªå€¼ï¼ˆä¾‹å¦‚éå† map çš„ key å’Œ valueï¼Œæˆ–è€… slice çš„ index å’Œ valueï¼‰ åŸºç¡€ç”¨æ³•ï¼šè‡ªå®šä¹‰è¿­ä»£å™¨ ç¤ºä¾‹ 1ï¼šåˆ›å»ºä¸€ä¸ªç®€å•çš„æ•°å­—ç”Ÿæˆå™¨ (iter.Seq) å‡è®¾æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œç”Ÿæˆä» 0 åˆ° n-1 çš„æ•´æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;iter\u0026#34; ) // GenNumbers è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œç”Ÿæˆ [0, n) func GenNumbers(n int) iter.Seq[int] { return func(yield func(int) bool) { for i := 0; i \u0026lt; n; i++ { // æ ¸å¿ƒé€»è¾‘ï¼š // 1. è°ƒç”¨ yield(i) å‘é€æ•°æ® // 2. æ£€æŸ¥è¿”å›å€¼ã€‚å¦‚æœæ˜¯ falseï¼Œè¯´æ˜å¤–éƒ¨å¾ªç¯è§¦å‘äº† breakï¼Œå¿…é¡»åœæ­¢ if !yield(i) { return } } } } func main() { // ç›´æ¥ä½¿ç”¨ for-range éå†å‡½æ•° for num := range GenNumbers(5) { fmt.Println(num) // è¾“å‡º 0, 1, 2, 3, 4 if num == 3 { break // è¿™é‡Œè§¦å‘ breakï¼Œyield ä¼šè¿”å› falseï¼Œè®© GenNumbers é€€å‡º } } } ç¤ºä¾‹ 2ï¼šéå†è‡ªå®šä¹‰æ•°æ®ç»“æ„ (iter.Seq2) å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè‡ªå®šä¹‰çš„ MyList ç»“æ„ï¼Œæƒ³è¦éå†å…¶ä¸­çš„å…ƒç´ ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;iter\u0026#34; ) type MyList struct { items []string } // All è¿”å›ç´¢å¼•å’Œå€¼çš„è¿­ä»£å™¨ func (l *MyList) All() iter.Seq2[int, string] { return func(yield func(int, string) bool) { for i, v := range l.items { // å‘é€ä¸¤ä¸ªå€¼ï¼šç´¢å¼•å’Œå†…å®¹ if !yield(i, v) { return } } } } func main() { list := MyList{items: []string{\u0026#34;Go\u0026#34;, \u0026#34;Rust\u0026#34;, \u0026#34;Python\u0026#34;}} // åƒéå† map ä¸€æ ·éå†è‡ªå®šä¹‰ç»“æ„ for i, v := range list.All() { fmt.Printf(\u0026#34;Index: %d, Value: %s\\n\u0026#34;, i, v) } } é«˜çº§ç”¨æ³•ï¼šiter.Pull (æ‹‰å–å¼è¿­ä»£) é»˜è®¤çš„ for-range æ˜¯ä¸€ç§æ¨é€å¼ (Push) è¿­ä»£ï¼šè¿­ä»£å™¨æ§åˆ¶é€»è¾‘ï¼Œä¸æ–­æŠŠæ•°æ® yield ç»™å¾ªç¯ä½“ã€‚\næœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦æ‹‰å–å¼ (Pull) è¿­ä»£ï¼Œå³æ‰‹åŠ¨æ§åˆ¶\u0026quot;å–ä¸‹ä¸€ä¸ª\u0026quot;çš„æ—¶æœºï¼ˆä¾‹å¦‚ï¼šæ¯”è¾ƒä¸¤ä¸ªåºåˆ—ã€åˆå¹¶æ’åºç­‰ï¼‰ã€‚iter.Pull å¯ä»¥æŠŠä¸€ä¸ª Seq è½¬æ¢ä¸º next å‡½æ•°ã€‚\nå‡½æ•°ç­¾å 1 func Pull[V any](seq Seq[V]) (next func() (V, bool), stop func()) ç¤ºä¾‹ 3ï¼šæ‰‹åŠ¨æ‹‰å–æ•°æ® å‡è®¾æˆ‘ä»¬è¦åŒæ—¶éå†ä¸¤ä¸ªåˆ‡ç‰‡ï¼ˆZip æ“ä½œï¼‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;iter\u0026#34; \u0026#34;slices\u0026#34; ) func main() { s1 := []int{1, 2, 3} s2 := []string{\u0026#34;A\u0026#34;, \u0026#34;B\u0026#34;, \u0026#34;C\u0026#34;, \u0026#34;D\u0026#34;} // è·å– slice çš„æ ‡å‡†è¿­ä»£å™¨ iter1 := slices.Values(s1) iter2 := slices.Values(s2) // å°† Push è¿­ä»£å™¨è½¬æ¢ä¸º Pull è¿­ä»£å™¨ next1, stop1 := iter.Pull(iter1) defer stop1() // ç¡®ä¿èµ„æºé‡Šæ”¾ï¼ˆå¦‚æœè¿­ä»£å™¨æ¶‰åŠæ–‡ä»¶/ç½‘ç»œæ“ä½œå¾ˆé‡è¦ï¼‰ next2, stop2 := iter.Pull(iter2) defer stop2() for { // æ‰‹åŠ¨æ‹‰å–æ•°æ® v1, ok1 := next1() v2, ok2 := next2() // åªè¦æœ‰ä¸€ä¸ªåºåˆ—ç»“æŸï¼Œå°±åœæ­¢ if !ok1 || !ok2 { break } fmt.Printf(\u0026#34;%d -\u0026gt; %s\\n\u0026#34;, v1, v2) } } æ³¨æ„ï¼šiter.Pull ä¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„ goroutine æ¥è¿è¡ŒåŸæœ‰çš„è¿­ä»£å™¨å‡½æ•°ï¼Œå¹¶é€šè¿‡ channelï¼ˆåº•å±‚å®ç°ä¼˜åŒ–è¿‡ï¼Œä¸ä»…ä»…æ˜¯ channelï¼‰è¿›è¡ŒåŒæ­¥ã€‚å› æ­¤ï¼Œä½¿ç”¨å®Œåå¿…é¡»è°ƒç”¨ stop()ï¼Œä»¥é˜²æ­¢ goroutine æ³„éœ²ã€‚\næ ‡å‡†åº“çš„é…åˆ (slices å’Œ maps) Go 1.23 æ›´æ–°äº† slices å’Œ maps åŒ…ï¼Œæä¾›äº†å¾ˆå¤šåŸºäº iter çš„è¾…åŠ©å‡½æ•°ï¼š\nå‡½æ•° è¿”å›å€¼ è¯´æ˜ slices.All(s) iter.Seq2[int, V] è¿”å› index, value è¿­ä»£å™¨ slices.Values(s) iter.Seq[V] ä»…è¿”å› value è¿­ä»£å™¨ slices.Collect(seq) []V å°†è¿­ä»£å™¨å…ƒç´ æ”¶é›†åˆ° sliceï¼ˆéå¸¸å¸¸ç”¨ï¼‰ slices.Sorted(seq) []V æ”¶é›†å¹¶æ’åºåè¿”å› slice maps.Keys(m) iter.Seq[K] è¿”å› map çš„é”®è¿­ä»£å™¨ maps.Values(m) iter.Seq[V] è¿”å› map çš„å€¼è¿­ä»£å™¨ ç¤ºä¾‹ 4ï¼šç»“åˆ slices åŒ…è¿›è¡Œè¿‡æ»¤å’Œè½¬æ¢ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;iter\u0026#34; \u0026#34;slices\u0026#34; \u0026#34;strings\u0026#34; ) // Filter æ˜¯ä¸€ä¸ªç®€å•çš„ä¸­é—´ä»¶ï¼Œè¿‡æ»¤ç¬¦åˆæ¡ä»¶çš„å…ƒç´  func Filter(seq iter.Seq[string], keep func(string) bool) iter.Seq[string] { return func(yield func(string) bool) { for v := range seq { if keep(v) { if !yield(v) { return } } } } } func main() { data := []string{\u0026#34;apple\u0026#34;, \u0026#34;banana\u0026#34;, \u0026#34;avocado\u0026#34;, \u0026#34;cherry\u0026#34;} // 1. è·å–è¿­ä»£å™¨ src := slices.Values(data) // 2. åŒ…è£…è¿­ä»£å™¨ï¼ˆè¿‡æ»¤å‡ºä»¥ \u0026#39;a\u0026#39; å¼€å¤´çš„ï¼‰ filtered := Filter(src, func(s string) bool { return strings.HasPrefix(s, \u0026#34;a\u0026#34;) }) // 3. å°†ç»“æœæ”¶é›†å› slice result := slices.Collect(filtered) fmt.Println(result) // [apple avocado] } æ€»ç»“ æ ‡å‡†åŒ–ï¼šiter åŒ…ä¸º Go æä¾›äº†ç»Ÿä¸€çš„è¿­ä»£åè®® iter.Seq / iter.Seq2ï¼šé€šè¿‡å®šä¹‰æ¥å— yield å›è°ƒçš„å‡½æ•°ï¼Œå³å¯è®©è‡ªå®šä¹‰ç±»å‹æ”¯æŒ for-range æ§åˆ¶æµï¼šåœ¨è‡ªå®šä¹‰è¿­ä»£å™¨ä¸­ï¼ŒåŠ¡å¿…åˆ¤æ–­ yield çš„è¿”å›å€¼ï¼Œå¦‚æœä¸º false å¿…é¡» return iter.Pullï¼šç”¨äºå°†è¢«åŠ¨çš„\u0026quot;æ¨é€\u0026quot;è½¬æ¢ä¸ºä¸»åŠ¨çš„\u0026quot;æ‹‰å–\u0026quot;ï¼Œé€‚åˆå¤„ç†å¤šæµåˆå¹¶ç­‰å¤æ‚é€»è¾‘ï¼Œè®°å¾— defer stop() ç”Ÿæ€æ•´åˆï¼šä¼˜å…ˆé…åˆ slices å’Œ maps åŒ…ä¸­çš„æ–°å‡½æ•°ä½¿ç”¨ï¼Œèƒ½æå¤§ç®€åŒ–ä»£ç ï¼ˆå¦‚ Collectï¼‰ è¿™ä¸ªç‰¹æ€§è®© Go åœ¨ä¿æŒç®€æ´çš„åŒæ—¶ï¼Œæ‹¥æœ‰äº†ç±»ä¼¼ Python ç”Ÿæˆå™¨æˆ– Java Stream API çš„éƒ¨åˆ†èƒ½åŠ›ï¼Œä½†å®ç°ä¸Šæ›´åŠ è½»é‡ä¸”æ— é¢å¤–çš„å†…å­˜åˆ†é…ï¼ˆç¼–è¯‘å™¨ä¼šè¿›è¡Œå†…è”ä¼˜åŒ–ï¼‰ã€‚\nè™½ç„¶iterè¿˜æ˜¯ç›¸å½“ä¸åƒäººè¯ï¼Œä½†æ˜¯ä½ è¿˜æ˜¯å¯ä»¥ç§¯æä½¿ç”¨åœ¨ä½ çš„é¡¹ç›®é‡Œhhhã€‚\n","date":"2026-01-30T02:00:00Z","permalink":"https://dingdinglz.github.io/p/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3-go-1.23-iter-%E5%8C%85/","title":"æ·±å…¥ç†è§£ Go 1.23 iter åŒ…"},{"content":"ä»Šå¤©æˆ‘ä»¬è¦çœ‹çš„é¡¹ç›®æ˜¯ï¼šhttps://github.com/HKUDS/DeepCode ï¼Œæˆ‘è¯»çš„commitæ˜¯mainåˆ†æ”¯çš„ab730642731d9c8a400cad78e76962253ac875f2\nè·Ÿç€æœ¬ç¯‡blogè¯»repoå»ºè®®æŠŠä»£ç æ‹‰ä¸‹æ¥ï¼Œåˆ‡åˆ°ç›¸åŒçš„commitï¼Œè·Ÿç€æµç¨‹ä¸€èµ·æ¥è¯»\næ¦‚è¿° DeepCode æ˜¯ä¸€ä¸ªåŸºäºå¤šæ™ºèƒ½ä½“ç³»ç»Ÿçš„å¼€æºæ¡†æ¶ï¼Œæ—¨åœ¨å°†ç ”ç©¶è®ºæ–‡ã€è‡ªç„¶è¯­è¨€æè¿°ç­‰è¾“å…¥è‡ªåŠ¨è½¬æ¢ä¸ºç”Ÿäº§çº§ä»£ç ã€‚è¯¥é¡¹ç›®é€šè¿‡è‡ªåŠ¨åŒ–ç®—æ³•å®ç°ã€å‰ç«¯å¼€å‘å’Œåç«¯æ„å»ºï¼Œæ˜¾è‘—æå‡äº†ç ”å‘æ•ˆç‡ã€‚å…¶æ ¸å¿ƒç›®æ ‡æ˜¯è§£å†³ç ”ç©¶äººå‘˜åœ¨å®ç°å¤æ‚ç®—æ³•æ—¶é¢ä¸´çš„æŒ‘æˆ˜ï¼Œå‡å°‘å¼€å‘å»¶è¿Ÿï¼Œå¹¶é¿å…é‡å¤æ€§ç¼–ç å·¥ä½œã€‚\nDeepCode æ”¯æŒå¤šç§è¾“å…¥å½¢å¼ï¼ŒåŒ…æ‹¬å­¦æœ¯è®ºæ–‡ã€æ–‡æœ¬æç¤ºã€URL å’Œæ–‡æ¡£æ–‡ä»¶ï¼ˆå¦‚ PDFã€DOCã€PPTXã€TXTã€HTMLï¼‰ï¼Œå¹¶èƒ½ç”Ÿæˆé«˜è´¨é‡ã€å¯æ‰©å±•ä¸”åŠŸèƒ½ä¸°å¯Œçš„ä»£ç ã€‚è¯¥ç³»ç»Ÿé‡‡ç”¨å¤šæ™ºèƒ½ä½“åä½œæ¶æ„ï¼Œèƒ½å¤Ÿå¤„ç†å¤æ‚çš„å¼€å‘ä»»åŠ¡ï¼Œä»æ¦‚å¿µåˆ°å¯éƒ¨ç½²çš„åº”ç”¨ç¨‹åºã€‚\nflowchart LR A[\u0026#34;ğŸ“„ ç ”ç©¶è®ºæ–‡\u0026lt;br/\u0026gt;ğŸ’¬ æ–‡æœ¬æç¤º\u0026lt;br/\u0026gt;ğŸŒ URLs \u0026amp; æ–‡æ¡£\u0026lt;br/\u0026gt;ğŸ“ æ–‡ä»¶: PDF, DOC, PPTX, TXT, HTML\u0026#34;] --\u0026gt; B[\u0026#34;ğŸ§  DeepCode\u0026lt;br/\u0026gt;å¤šæ™ºèƒ½ä½“å¼•æ“\u0026#34;] B --\u0026gt; C[\u0026#34;ğŸš€ ç®—æ³•å®ç° \u0026lt;br/\u0026gt;ğŸ¨ å‰ç«¯å¼€å‘ \u0026lt;br/\u0026gt;âš™ï¸ åç«¯å¼€å‘\u0026#34;] style A fill:#ff6b6b,stroke:#c0392b,stroke-width:2px,color:#000 style B fill:#00d4ff,stroke:#0984e3,stroke-width:3px,color:#000 style C fill:#00b894,stroke:#00a085,stroke-width:2px,color:#000 å…¥å£ è¦è¯»æ‡‚å…¨æµç¨‹ï¼Œå…ˆæ‰¾å…¥å£ï¼Œå¼€å§‹äºï¼š\n1 python cli/main_cli.py --file paper.pdf æ‰€ä»¥æˆ‘ä»¬å…ˆæ¥çœ‹cli/main_cli.pyã€‚\næ‰¾åˆ°mainå‡½æ•°ï¼Œè·³è¿‡ç¯å¢ƒæ£€æŸ¥ç­‰ç­‰ï¼Œä½ ä¼šå‘ç°æœ€æ ¸å¿ƒçš„åœ°æ–¹åœ¨ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 if args.file or args.url or args.chat: if args.file: # éªŒè¯æ–‡ä»¶å­˜åœ¨ if not os.path.exists(args.file): print(f\u0026#34;{Colors.FAIL}âŒ File not found: {args.file}{Colors.ENDC}\u0026#34;) sys.exit(1) success = await run_direct_processing(app, args.file, \u0026#34;file\u0026#34;) elif args.url: success = await run_direct_processing(app, args.url, \u0026#34;url\u0026#34;) elif args.chat: # éªŒè¯chatè¾“å…¥é•¿åº¦ if len(args.chat.strip()) \u0026lt; 20: print( f\u0026#34;{Colors.FAIL}âŒ Chat input too short. Please provide more detailed requirements (at least 20 characters){Colors.ENDC}\u0026#34; ) sys.exit(1) success = await run_direct_processing(app, args.chat, \u0026#34;chat\u0026#34;) sys.exit(0 if success else 1) else: # äº¤äº’å¼æ¨¡å¼ print(f\u0026#34;\\n{Colors.CYAN}ğŸ® Starting interactive mode...{Colors.ENDC}\u0026#34;) await app.run_interactive_session() ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åªéœ€è¦çœ‹run_direct_processingå‡½æ•°å°±okäº†\næ¥çœ‹ï¼šè¿™ä¸ªå‡½æ•°é‡Œçš„æ ¸å¿ƒä»£ç \n1 2 3 4 5 6 7 8 9 10 # åˆå§‹åŒ–åº”ç”¨ init_result = await app.initialize_mcp_app() if init_result[\u0026#34;status\u0026#34;] != \u0026#34;success\u0026#34;: print( f\u0026#34;{Colors.FAIL}âŒ Initialization failed: {init_result[\u0026#39;message\u0026#39;]}{Colors.ENDC}\u0026#34; ) return False # å¤„ç†è¾“å…¥ result = await app.process_input(input_source, input_type) è¦å…³æ³¨çš„å…¶å®ä¹Ÿå°±æ˜¯ï¼šapp.initialize_mcp_app()å’Œapp.process_input(input_source, input_type)ï¼Œè¿˜è®°å¾—input_sourceå’Œinput_typeå—ï¼Œinput_typeæœ‰chatã€urlã€fileï¼Œsourceå°±æ˜¯å¯¹åº”çš„å†…å®¹\né‚£æˆ‘ä»¬ä¸‹é¢åˆ†åˆ«æ¥çœ‹app.initialize_mcp_app()å’Œapp.process_input(input_source, input_type)ï¼Œè®°å½•ä¸€ä¸‹ç°åœ¨çš„taskList\nè¯»app.initialize_mcp_app() è¯»app.process_input(input_source, input_type) mcpéƒ¨åˆ† æ¥çœ‹app.initialize_mcp_app()ï¼Œæœ€ç»ˆå®šä½åˆ°\n1 2 3 4 async def initialize_mcp_app(self): \u0026#34;\u0026#34;\u0026#34;åˆå§‹åŒ–MCPåº”ç”¨ - ä½¿ç”¨å·¥ä½œæµé€‚é…å™¨\u0026#34;\u0026#34;\u0026#34; # Workflow adapter will handle MCP initialization return await self.workflow_adapter.initialize_mcp_app() æ¥çœ‹self.workflow_adapter.initialize_mcp_app()ï¼Œæ ¸å¿ƒä»£ç ï¼š\n1 2 3 4 # Initialize MCP application self.app = MCPApp(name=\u0026#34;cli_agent_orchestration\u0026#34;) self.app_context = self.app.run() agent_app = await self.app_context.__aenter__() è¯¶ï¼ŸåŸæ¥ä¸æ˜¯åˆå§‹åŒ–mcpçš„é…ç½®ï¼Œè€Œæ˜¯ç›´æ¥åˆå§‹åŒ–äº†self.appä¹Ÿå°±æ˜¯æ ¸å¿ƒçš„agentï¼Œä»–è¿™é‡Œagentå°±å«åšmcp applicationï¼Œæ€»ä¹‹è¿™é‡Œå…ˆæŠŠcliçš„appåˆå§‹åŒ–æˆäº†cli_agent_orchestrationï¼Œå¯ä»¥ç»™å¤§å®¶çœ‹ä¸€ä¸‹è¿™è¾¹agentçš„æ¶æ„å›¾ï¼š\ngraph TB subgraph \u0026#34;æ™ºèƒ½ä½“å±‚\u0026#34; CO[ä¸­å¤®åè°ƒæ™ºèƒ½ä½“] IU[æ„å›¾ç†è§£æ™ºèƒ½ä½“] DP[æ–‡æ¡£è§£ææ™ºèƒ½ä½“] CP[ä»£ç è§„åˆ’æ™ºèƒ½ä½“] CR[ä»£ç å‚è€ƒæŒ–æ˜æ™ºèƒ½ä½“] CI[ä»£ç ç”Ÿæˆæ™ºèƒ½ä½“] end subgraph \u0026#34;MCPæœåŠ¡å™¨å±‚\u0026#34; DS[document-segmentation] FI[filesystem] BR[brave] GH[github-downloader] CI_S[command-executor] CI_I[Code Implementation Server] end CO --\u0026gt; |è°ƒåº¦| IU CO --\u0026gt; |è°ƒåº¦| DP CO --\u0026gt; |è°ƒåº¦| CP CO --\u0026gt; |è°ƒåº¦| CR CO --\u0026gt; |è°ƒåº¦| CI DP --\u0026gt; |è°ƒç”¨| DS CR --\u0026gt; |è°ƒç”¨| BR CR --\u0026gt; |è°ƒç”¨| GH CI --\u0026gt; |è°ƒç”¨| FI CI --\u0026gt; |è°ƒç”¨| CI_S CI --\u0026gt; |è°ƒç”¨| CI_I åˆšåˆšåˆå§‹åŒ–çš„å°±æ˜¯ä¸­å¤®åè°ƒæ™ºèƒ½ä½“ï¼Œè®©æˆ‘ä»¬æ›´æ–°ä¸€ä¸‹tasklist\nè¯»app.initialize_mcp_app() è¯»app.process_input(input_source, input_type) é‚£æˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼šapp.process_input(input_source, input_type)\napp.process_input(input_source, input_type) è¿™é‡Œæœ‰æ®µæŒºå¥‡æ€ªçš„ä»£ç ï¼š\n1 2 3 # Update segmentation configuration before processing # åœ¨å¤„ç†ä¹‹å‰æ›´æ–°segmentation configuration self.update_segmentation_config() çœ‹ä¸‹è¿™ä¸ªå‡½æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 def update_segmentation_config(self): \u0026#34;\u0026#34;\u0026#34;Update document segmentation configuration in mcp_agent.config.yaml\u0026#34;\u0026#34;\u0026#34; import yaml import os config_path = os.path.join( os.path.dirname(os.path.dirname(os.path.abspath(__file__))), \u0026#34;mcp_agent.config.yaml\u0026#34;, ) try: # Read current config with open(config_path, \u0026#34;r\u0026#34;, encoding=\u0026#34;utf-8\u0026#34;) as f: config = yaml.safe_load(f) # Update document segmentation settings if \u0026#34;document_segmentation\u0026#34; not in config: config[\u0026#34;document_segmentation\u0026#34;] = {} config[\u0026#34;document_segmentation\u0026#34;][\u0026#34;enabled\u0026#34;] = self.segmentation_config[ \u0026#34;enabled\u0026#34; ] config[\u0026#34;document_segmentation\u0026#34;][\u0026#34;size_threshold_chars\u0026#34;] = ( self.segmentation_config[\u0026#34;size_threshold_chars\u0026#34;] ) # Write updated config with open(config_path, \u0026#34;w\u0026#34;, encoding=\u0026#34;utf-8\u0026#34;) as f: yaml.dump(config, f, default_flow_style=False, allow_unicode=True) self.cli.print_status( \u0026#34;ğŸ“„ Document segmentation configuration updated\u0026#34;, \u0026#34;success\u0026#34; ) except Exception as e: self.cli.print_status( f\u0026#34;âš ï¸ Failed to update segmentation config: {str(e)}\u0026#34;, \u0026#34;warning\u0026#34; ) å‘ç°å…¶å®å°±æ˜¯å…ˆåŠ è½½é…ç½®ï¼Œç„¶ååŒæ­¥cliçš„é…ç½®\nå†å›æ¥çœ‹ï¼Œç„¶åè¿™ä¸ªå‡½æ•°çš„æ ¸å¿ƒå°±åœ¨äºï¼š\n1 2 3 4 5 6 # ä½¿ç”¨å·¥ä½œæµé€‚é…å™¨è¿›è¡Œå¤„ç† result = await self.workflow_adapter.process_input_with_orchestration( input_source=input_source, input_type=input_type, enable_indexing=self.cli.enable_indexing, ) è¿›åˆ°è¿™ä¸ªå‡½æ•°é‡Œçœ‹çœ‹ï¼Œå‰é¢éƒ½æ˜¯é¢„å¤„ç†ï¼Œæœ€æ ¸å¿ƒçš„ä»£ç åœ¨\n1 2 3 4 5 6 7 8 9 # Execute appropriate pipeline based on input type if input_type == \u0026#34;chat\u0026#34;: # Use chat-based planning pipeline for user requirements pipeline_result = await self.execute_chat_pipeline(input_source) else: # Use traditional multi-agent research pipeline for files/URLs pipeline_result = await self.execute_full_pipeline( input_source, enable_indexing=enable_indexing ) æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹fileå’Œurlä¸‹çš„å…¨æµç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦çœ‹ä¸‹self.execute_full_pipelineå°±è¡Œäº†ï¼Œæ›´æ–°ä¸€ä¸‹tasklist\nè¯»app.initialize_mcp_app() è¯»app.process_input(input_source, input_type) å¹¶è¡Œä»»åŠ¡ç»“æŸäº†ï¼Œæˆ‘ä»¬ä¸‹é¢æ¥è¯»self.execute_full_pipelineã€‚\nself.execute_full_pipeline è¯»ä¸€ä¸‹å‘ç°è¿™ä¸ªå‡½æ•°æœ€æ ¸å¿ƒçš„åœ°æ–¹å°±åœ¨ï¼š\n1 2 3 4 5 6 result = await execute_multi_agent_research_pipeline( input_source=input_source, logger=self.logger, progress_callback=progress_callback, enable_indexing=enable_indexing, ) é‚£æˆ‘ä»¬è¿›åˆ°execute_multi_agent_research_pipelineé‡Œï¼Œå¯ä»¥çœ‹å‡ºæ¥æˆ‘ä»¬ç¦»æ ¸å¿ƒä»£ç è¶Šæ¥è¶Šè¿‘äº†\nexecute_multi_agent_research_pipeline å…ˆçœ‹ä¸€ä¸‹è¿™ä¸ªå‡½æ•°çš„æ³¨é‡Šå§ï¼š\n1 2 3 4 5 6 7 8 9 Execute the complete intelligent multi-agent research orchestration pipeline. This is the main AI orchestration engine that coordinates autonomous research workflow agents: - Local workspace automation for seamless environment management - Intelligent research analysis with automated content processing - AI-driven code architecture synthesis and design automation - Reference intelligence discovery with automated knowledge extraction (optional) - Codebase intelligence orchestration with automated relationship analysis (optional) - Intelligent code implementation synthesis with AI-powered development ç¿»è¯‘æ¥å–½ï¼š\n1 2 3 4 5 6 7 8 9 10 æ‰§è¡Œå®Œæ•´çš„æ™ºèƒ½å¤šæ™ºèƒ½ä½“ç ”ç©¶ç¼–æ’æµç¨‹ã€‚ è¿™æ˜¯åè°ƒè‡ªä¸»ç ”ç©¶å·¥ä½œæµæ™ºèƒ½ä½“çš„ä¸»è¦AIç¼–æ’å¼•æ“ï¼ŒåŒ…æ‹¬ï¼š - æœ¬åœ°å·¥ä½œåŒºè‡ªåŠ¨åŒ–ï¼Œå®ç°æ— ç¼ç¯å¢ƒç®¡ç† - æ™ºèƒ½ç ”ç©¶åˆ†æï¼Œç»“åˆè‡ªåŠ¨åŒ–å†…å®¹å¤„ç† - AIé©±åŠ¨çš„ä»£ç æ¶æ„ç»¼åˆä¸è®¾è®¡è‡ªåŠ¨åŒ– - å‚è€ƒæ™ºèƒ½å‘ç°ï¼Œç»“åˆè‡ªåŠ¨åŒ–çŸ¥è¯†æå–ï¼ˆå¯é€‰ï¼‰ - ä»£ç åº“æ™ºèƒ½ç¼–æ’ï¼Œç»“åˆè‡ªåŠ¨åŒ–å…³ç³»åˆ†æï¼ˆå¯é€‰ï¼‰ - æ™ºèƒ½ä»£ç å®ç°ç»¼åˆï¼Œç»“åˆAIé©±åŠ¨çš„å¼€å‘ é‚£æˆ‘ä»¬ç»§ç»­å¾€ä¸‹è¯»ä»£ç ï¼š\næºä»£ç ä¸‹é¢çš„éƒ¨åˆ†åˆ—çš„ä¹Ÿæ¯”è¾ƒè¯¦ç»†ï¼Œåˆ†äº†phase 0ã€1ã€2ã€3ï¼Œæˆ‘ä»¬ä¹Ÿè·Ÿç€å®ƒçš„æ€è·¯æ¥çœ‹\nphase0 phase0æ˜¯åˆå§‹åŒ–å·¥ä½œåŒºï¼Œæ ¸å¿ƒä»£ç æ˜¯ï¼š\n1 2 3 # Setup local workspace directory workspace_dir = os.path.join(os.getcwd(), \u0026#34;deepcode_lab\u0026#34;) os.makedirs(workspace_dir, exist_ok=True) å…¶å®å°±æ˜¯æ–°å»ºäº†æ–‡ä»¶å¤¹deepcode_lab\nphase1 å¤„ç†å’ŒéªŒè¯è¾“å…¥ï¼Œè®©æˆ‘ä»¬è¿›æ¥çœ‹ï¼š_process_input_source\n1 2 3 4 5 6 if input_source.startswith(\u0026#34;file://\u0026#34;): file_path = input_source[7:] if os.name == \u0026#34;nt\u0026#34; and file_path.startswith(\u0026#34;/\u0026#34;): file_path = file_path.lstrip(\u0026#34;/\u0026#34;) return file_path return input_source å‘ç°åªæ˜¯æŠŠfile://å¼€å¤´çš„æ–‡ä»¶ç›®å½•æ”¹æˆäº†æ­£å¸¸çš„æ–‡ä»¶ç›®å½•ï¼Œç»§ç»­çœ‹phase2\nphase2 1 2 3 4 5 6 7 8 9 10 11 12 13 # Phase 2: Research Analysis and Resource Processing (if needed) if isinstance(input_source, str) and ( input_source.endswith((\u0026#34;.pdf\u0026#34;, \u0026#34;.docx\u0026#34;, \u0026#34;.txt\u0026#34;, \u0026#34;.html\u0026#34;, \u0026#34;.md\u0026#34;)) or input_source.startswith((\u0026#34;http\u0026#34;, \u0026#34;file://\u0026#34;)) ): ( analysis_result, download_result, ) = await orchestrate_research_analysis_agent( input_source, logger, progress_callback ) else: download_result = input_source # Use input directly if already processed è¿™ä¸€æ®µä¸»è¦æ˜¯è§£æinput_sourceï¼Œå¦‚æœä»–æ˜¯æ–‡ä»¶æˆ–è€…urlå°±è¿è¡Œorchestrate_research_analysis_agentè·å–analysis_resultå’Œdownload_resultï¼Œå¦‚æœéƒ½ä¸æ˜¯å°±ç›´æ¥ä½œä¸ºè¾“å…¥å†…å®¹ï¼Œä½œä¸ºè¾“å…¥å†…å®¹å¯èƒ½æ˜¯ä¸ºäº†chatè®¾è®¡çš„ï¼Œæˆ‘ä»¬è¿›æ¥çœ‹orchestrate_research_analysis_agentã€‚\norchestrate_research_analysis_agent è€æ ·å­ï¼Œå…ˆçœ‹æ³¨é‡Šï¼š\n1 2 3 4 Orchestrate intelligent research analysis and resource processing automation. This agent coordinates multiple AI components to analyze research content and process associated resources with automated workflow management. ä¸­æ–‡ï¼š\n1 2 3 ç¼–æ’æ™ºèƒ½ç ”ç©¶åˆ†æä¸èµ„æºå¤„ç†è‡ªåŠ¨åŒ–ã€‚ æ­¤æ™ºèƒ½ä½“åè°ƒå¤šä¸ªAIç»„ä»¶ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–å·¥ä½œæµç®¡ç†ï¼Œä»¥åˆ†æç ”ç©¶å†…å®¹å¹¶å¤„ç†ç›¸å…³èµ„æºã€‚ è¿™ä¸€æ®µç®—æ˜¯è¯¥é¡¹ç›®ä¸­ç›¸å½“é‡è¦çš„ä¸€éƒ¨åˆ†äº†ï¼Œè§£æpdfèµ„æºä¹Ÿæ˜¯æˆ‘éå¸¸å¥½å¥‡å®ƒå¦‚ä½•å¤„ç†çš„åœ°æ–¹ï¼Œåé¢å¦‚æœæœ‰å¤„ç†èµ„æºçš„éƒ¨åˆ†æˆ‘ä»¬ä¹Ÿåªæ¥çœ‹pdfèµ„æºçš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¸å»çœ‹å…¶ä»–è§£æäº†ï¼Œå¤§å®¶å¥½å¥‡çš„å¯ä»¥è‡ªå·±å»è¯»\né¦–å…ˆæ¥çœ‹ç¬¬ä¸€æ­¥ï¼Œè¿™ä¸€æ­¥çš„æ ¸å¿ƒä»£ç æ˜¯ï¼š\n1 analysis_result = await run_research_analyzer(input_source, logger) é‚£æˆ‘ä»¬ç›´æ¥è¿›æ¥çœ‹run_research_analyzer\næ‰æ³¨æ„åˆ°prompt_textè¿˜æ˜¯input_sourceï¼Œé‚£è¿™ä¸ªæ˜¯ç±»ä¼¼äºdeep researchçš„agentï¼Ÿæˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ï¼š\nå¥½ï¼Œä¸‹é¢åˆå§‹åŒ–äº†ä¸€ä¸ªæ–°æ™ºèƒ½ä½“ï¼š\n1 2 3 4 5 analyzer_agent = Agent( name=\u0026#34;ResearchAnalyzerAgent\u0026#34;, instruction=PAPER_INPUT_ANALYZER_PROMPT, server_names=get_search_server_names(), ) æˆ‘ä»¬å…ˆæ¥çœ‹Agentç±»ï¼Œnameã€instructionã€server_namesçš„æ³¨é‡Š\nname : Agent name.\ninstruction :\n1 2 3 4 Instruction for the agent. This can be a string or a callable that takes a dictionary and returns a string. The callable can be used to generate dynamic instructions based on the context. æ™ºèƒ½ä½“çš„æŒ‡ä»¤ã€‚è¿™å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ¥æ”¶ä¸€ä¸ªå­—å…¸å¹¶è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚è¯¥å¯è°ƒç”¨å¯¹è±¡å¯ç”¨äºæ ¹æ®ä¸Šä¸‹æ–‡ç”ŸæˆåŠ¨æ€æŒ‡ä»¤ã€‚ server_names : List of MCP server names that the agent can access.ï¼Œå¥¥è¿™ä¸ªå°±æ˜¯mcpæœåŠ¡å™¨çš„é…ç½®ï¼Œé‚£æˆ‘ä»¬å…ˆæ¥å¥½å¥½è¯»è¯»ï¼šPAPER_INPUT_ANALYZER_PROMPT\nPAPER_INPUT_ANALYZER_PROMPT :\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 You are a precise input analyzer for paper-to-code tasks. You MUST return only a JSON object with no additional text. Task: Analyze input text and identify file paths/URLs to determine appropriate input type. Input Analysis Rules: 1. Path Detection: - Scan input text for file paths or URLs - Use first valid path/URL if multiple found - Treat as text input if no valid path/URL found 2. Path Type Classification: - URL (starts with http:// or https://): input_type = \u0026#34;url\u0026#34;, path = \u0026#34;detected URL\u0026#34; - PDF file path: input_type = \u0026#34;file\u0026#34;, path = \u0026#34;detected file path\u0026#34; - Directory path: input_type = \u0026#34;directory\u0026#34;, path = \u0026#34;detected directory path\u0026#34; - No path/URL detected: input_type = \u0026#34;text\u0026#34;, path = null 3. Requirements Analysis: - Extract ONLY requirements from additional_input - DO NOT modify or interpret requirements CRITICAL OUTPUT RESTRICTIONS: - RETURN ONLY RAW JSON - NO TEXT BEFORE OR AFTER - NO markdown code blocks (```json) - NO explanatory text or descriptions - NO tool call information - NO analysis summaries - JUST THE JSON OBJECT BELOW { \u0026#34;input_type\u0026#34;: \u0026#34;text|file|directory|url\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;detected path or URL or null\u0026#34;, \u0026#34;paper_info\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;N/A for text input\u0026#34;, \u0026#34;authors\u0026#34;: [\u0026#34;N/A for text input\u0026#34;], \u0026#34;year\u0026#34;: \u0026#34;N/A for text input\u0026#34; }, \u0026#34;requirements\u0026#34;: [ \u0026#34;exact requirement from additional_input\u0026#34; ] } ä¸­æ–‡ç‰ˆï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 ä½ æ˜¯è®ºæ–‡åˆ°ä»£ç ä»»åŠ¡çš„ç²¾å‡†è¾“å…¥åˆ†æå‘˜ã€‚ä½ å¿…é¡»åªè¿”å› JSON å¯¹è±¡ï¼Œä¸åŒ…å«ä»»ä½•é™„åŠ æ–‡æœ¬ã€‚ ä»»åŠ¡ï¼šåˆ†æè¾“å…¥æ–‡æœ¬å¹¶è¯†åˆ«æ–‡ä»¶è·¯å¾„/URLï¼Œä»¥ç¡®å®šåˆé€‚çš„è¾“å…¥ç±»å‹ã€‚ è¾“å…¥åˆ†æè§„åˆ™ï¼š 1. è·¯å¾„æ£€æµ‹ï¼š - æ‰«æè¾“å…¥æ–‡æœ¬ä¸­çš„æ–‡ä»¶è·¯å¾„æˆ– URL - å¦‚æœæ‰¾åˆ°å¤šä¸ªï¼Œåˆ™ä½¿ç”¨ç¬¬ä¸€ä¸ªæœ‰æ•ˆçš„è·¯å¾„/URL - å¦‚æœæœªæ‰¾åˆ°æœ‰æ•ˆçš„è·¯å¾„/URLï¼Œåˆ™è§†ä¸ºæ–‡æœ¬è¾“å…¥ 2. è·¯å¾„ç±»å‹åˆ†ç±»ï¼š - URLï¼ˆä»¥ http:// æˆ– https:// å¼€å¤´ï¼‰ï¼šinput_type = \u0026#34;url\u0026#34;, path = \u0026#34;æ£€æµ‹åˆ°çš„ URL\u0026#34; - PDF æ–‡ä»¶è·¯å¾„ï¼šinput_type = \u0026#34;file\u0026#34;, path = \u0026#34;æ£€æµ‹åˆ°çš„æ–‡ä»¶è·¯å¾„\u0026#34; - ç›®å½•è·¯å¾„ï¼šinput_type = \u0026#34;directory\u0026#34;, path = \u0026#34;æ£€æµ‹åˆ°çš„ç›®å½•è·¯å¾„\u0026#34; - æœªæ£€æµ‹åˆ°è·¯å¾„/URLï¼šinput_type = \u0026#34;text\u0026#34;, path = null 3. éœ€æ±‚åˆ†æï¼š - ä»…ä» additional_input ä¸­æå–éœ€æ±‚ - è¯·å‹¿ä¿®æ”¹æˆ–è§£é‡Šéœ€æ±‚ å…³é”®è¾“å‡ºé™åˆ¶ï¼š - ä»…è¿”å›åŸå§‹ JSON - å‰åå‡æ— æ–‡æœ¬ - ä¸åŒ…å« Markdown ä»£ç å— (```json) - ä¸åŒ…å«è§£é‡Šæ€§æ–‡æœ¬æˆ–æè¿° - ä¸åŒ…å«å·¥å…·è°ƒç”¨ä¿¡æ¯ - ä¸åŒ…å«åˆ†ææ‘˜è¦ - ä»…åŒ…å«ä¸‹é¢çš„ JSON å¯¹è±¡ { \u0026#34;input_type\u0026#34;: \u0026#34;text|file|directory|url\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;æ£€æµ‹åˆ°çš„è·¯å¾„æˆ– URL æˆ– null\u0026#34;, \u0026#34;paper_info\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;æ–‡æœ¬è¾“å…¥ä¸é€‚ç”¨\u0026#34;, \u0026#34;authors\u0026#34;: [\u0026#34;æ–‡æœ¬è¾“å…¥ä¸é€‚ç”¨\u0026#34;], \u0026#34;year\u0026#34;: \u0026#34;æ–‡æœ¬è¾“å…¥ä¸é€‚ç”¨\u0026#34; }, \u0026#34;requirements\u0026#34;: [ \u0026#34;additional_input çš„ç¡®åˆ‡è¦æ±‚\u0026#34; ] } è¿™ä¸ªå°±æ˜¯åˆ†æinput_sourceçš„ç±»å‹å’Œä¿¡æ¯ï¼Œé‚£ç„æœºå…¶å®åœ¨mcpæœåŠ¡å™¨é‡Œï¼šget_search_server_names()ï¼Œæˆ‘ä»¬è¿›æ¥çœ‹çœ‹è¿™ä¸ªï¼Œèƒ½ç”¨å“ªäº›search_mcp\nç„¶åå‘ç°æ˜¯ç”¨äº†ï¼šbraveï¼Œä¹Ÿå°±æ˜¯@modelcontextprotocol/server-brave-searchï¼Œæˆ‘ä»¬è¿™é‡Œä¸è¯»è¿™ä¸ªï¼Œå°±æ¥çœ‹çœ‹braveèƒ½å¹²ä»€ä¹ˆã€‚\nç„¶åå‘ç°æ˜¯ä¿¡æ¯æœç´¢ï¼Œè¯»åˆ°è¿™é‡Œæˆ‘è§‰å¾—æŒºå¥‡æ€ªçš„ï¼Œç„¶åæˆ‘å°±åœ¨agent_orchestration_engine.pyçš„ç¬¬250è¡ŒåŠ äº†å¦‚ä¸‹ä»£ç \n1 2 3 with open(\u0026#39;test.txt\u0026#39;, \u0026#39;w\u0026#39;) as f: f.write(raw_result) sys.exit() ç„¶åç”¨uv run cli/main_cli.py --file test.pdfè·‘äº†ä¸€ä¸‹ï¼Œæœç„¶è·Ÿæˆ‘æƒ³çš„ä¸€æ ·ï¼Œtest.txté‡Œæ˜¯ï¼š\n1 2 3 4 5 6 7 8 9 10 { \u0026#34;input_type\u0026#34;: \u0026#34;file\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;test.pdf\u0026#34;, \u0026#34;paper_info\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;N/A for text input\u0026#34;, \u0026#34;authors\u0026#34;: [\u0026#34;N/A for text input\u0026#34;], \u0026#34;year\u0026#34;: \u0026#34;N/A for text input\u0026#34; }, \u0026#34;requirements\u0026#34;: [] } æˆ‘æƒ³è¿™ä¸ªpaper_infoæ˜¯æ€ä¹ˆå–å‡ºæ¥çš„ç™¾æ€ä¸å¾—å…¶è§£ï¼Œè·‘äº†ä¸€éå‘ç°ç¡®å®å–ä¸å‡ºæ¥ï¼Œæˆ‘çŒœè¿™é‡Œæ˜¯ä¸ºäº†æå‰ç•™ä¸ªç»“æ„ç»™åé¢ç”¨ï¼Œç»·ï¼Œæ‰€ä»¥è¿™ä¸ªagentçš„æ ¸å¿ƒå…¶å®å°±åœ¨åˆ†å¼€urlå’Œfileï¼Œç„¶ååŒºåˆ†äº†ä¸€ä¸‹æ–‡ä»¶ç±»å‹ï¼Œè¯´å®è¯è¿™ä¸€æ­¥æ„Ÿè§‰å®Œå…¨æ²¡å¿…è¦ï¼Œæ„Ÿè§‰æ˜¯ä¸ºäº†é˜²è ¢ç”¨çš„ï¼ˆ\nå¥½æˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ï¼Œä¸‹é¢çš„é‡ç‚¹åœ¨ï¼š\n1 2 3 4 5 # Clean LLM output to ensure only pure JSON is returned try: clean_result = extract_clean_json(raw_result) print(f\u0026#34;Raw LLM output: {raw_result}\u0026#34;) print(f\u0026#34;Cleaned JSON output: {clean_result}\u0026#34;) è¿™ä¸ªextract_clean_jsonæ˜¯æ‹¿æ¥Extract clean JSON from LLM output, removing all extra text and formatting.ï¼Œä¹Ÿå°±æ˜¯ä»å¤§è¯­è¨€æ¨¡å‹è¾“å‡ºä¸­æå–è§„æ•´çš„JSONï¼Œå»é™¤æ‰€æœ‰å¤šä½™çš„æ–‡æœ¬å’Œæ ¼å¼ã€‚\næ¯”å¦‚å¦‚æœå¤§å®¶ç»å¸¸åšllmç›¸å…³åº”ç”¨çš„è¯ï¼Œå¯èƒ½é‡åˆ°è¿‡ä¸æ˜¯çº¯jsonæ–‡æœ¬è¾“å‡ºçš„æƒ…å†µï¼Œæ€ä¹ˆé™åˆ¶éƒ½æ²¡ç”¨ï¼Œç”¨è¿™ä¸ªå‡½æ•°å¯ä»¥ç›´æ¥æå–jsonå‡ºæ¥\nå…·ä½“å®ç°æ­¥éª¤æˆ‘å†™åœ¨æ³¨é‡Šé‡Œäº†ï¼Œå¤§å®¶ç›´æ¥çœ‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 def extract_clean_json(llm_output: str) -\u0026gt; str: \u0026#34;\u0026#34;\u0026#34; Extract clean JSON from LLM output, removing all extra text and formatting. Args: llm_output: Raw LLM output Returns: str: Clean JSON string \u0026#34;\u0026#34;\u0026#34; try: # é¦–å…ˆå°è¯•å»æ‰ä¸¤ç«¯çš„ç©ºç™½å­—ç¬¦è¡Œä¸è¡Œ json.loads(llm_output.strip()) return llm_output.strip() except json.JSONDecodeError: pass # ç„¶åç”¨æ­£åˆ™è¯•è¯•å–```json ```ä¸­é—´çš„å†…å®¹ if \u0026#34;```json\u0026#34; in llm_output: pattern = r\u0026#34;```json\\s*(.*?)\\s*```\u0026#34; match = re.search(pattern, llm_output, re.DOTALL) if match: json_text = match.group(1).strip() try: json.loads(json_text) return json_text except json.JSONDecodeError: pass # æ ¹æ®æ‰‹åŠ¨åŒ¹é…èŠ±æ‹¬å·çš„æ–¹æ³•æ¥å–å‡ºjson lines = llm_output.split(\u0026#34;\\n\u0026#34;) json_lines = [] in_json = False brace_count = 0 for line in lines: stripped = line.strip() if not in_json and stripped.startswith(\u0026#34;{\u0026#34;): in_json = True json_lines = [line] brace_count = stripped.count(\u0026#34;{\u0026#34;) - stripped.count(\u0026#34;}\u0026#34;) elif in_json: json_lines.append(line) brace_count += stripped.count(\u0026#34;{\u0026#34;) - stripped.count(\u0026#34;}\u0026#34;) if brace_count == 0: break if json_lines: json_text = \u0026#34;\\n\u0026#34;.join(json_lines).strip() try: json.loads(json_text) return json_text except json.JSONDecodeError: pass # æœ€åå°è¯•ç”¨æ­£åˆ™å–å‡ºjson pattern = r\u0026#34;\\{[^{}]*(?:\\{[^{}]*\\}[^{}]*)*\\}\u0026#34; matches = re.findall(pattern, llm_output, re.DOTALL) for match in matches: try: json.loads(match) return match except json.JSONDecodeError: continue # If all methods fail, return original output return llm_output å¥½äº†ï¼Œæˆ‘ä»¬æŠŠrun_research_analyzerçœ‹å®Œäº†ï¼Œå¤§å®¶è®°å¾—æˆ‘ä»¬ä»å“ªæ¥çš„å˜›ï¼Œè®©æˆ‘ä»¬å›åˆ°orchestrate_research_analysis_agent\nåˆšåˆšçœ‹çš„æ˜¯step 1ï¼Œè®©æˆ‘ä»¬æ¥ä¸‹æ¥çœ‹step 2\næ ¸å¿ƒçš„ä»£ç æ˜¯ï¼š\n1 download_result = await run_resource_processor(analysis_result, logger) æˆ‘ä»¬è¿›æ¥çœ‹run_resource_processorï¼Œè¿™ä¸ªå‡½æ•°æŒºç®€å•çš„ï¼Œæˆ‘ä»¬æœ‰è¯»ä¹‹å‰çš„agentçš„ç»éªŒï¼Œè¯»è¿™ä¸ªå°±å¾ˆè¿…é€Ÿäº†ï¼Œä¼ å…¥çš„æ˜¯æˆ‘ä»¬ä¹‹å‰ä¸Šä¸€ä¸ªagentçš„åˆ†æç»“æœï¼Œä¸è®°å¾—å¤§å®¶è¿˜è®°ä¸è®°å¾—äº†ï¼Œæ¥çœ‹çœ‹ï¼š\n1 2 3 4 5 6 7 8 9 10 { \u0026#34;input_type\u0026#34;: \u0026#34;file\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;test.pdf\u0026#34;, \u0026#34;paper_info\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;N/A for text input\u0026#34;, \u0026#34;authors\u0026#34;: [\u0026#34;N/A for text input\u0026#34;], \u0026#34;year\u0026#34;: \u0026#34;N/A for text input\u0026#34; }, \u0026#34;requirements\u0026#34;: [] } æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªagentçš„promptå’Œtools\né¦–å…ˆæ˜¯prompt\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 You are a precise paper downloader that processes input from PaperInputAnalyzerAgent. Task: Handle paper according to input type and save to \u0026#34;./deepcode_lab/papers/id/id.md\u0026#34; Note: Generate id (id is a number) by counting files in \u0026#34;./deepcode_lab/papers/\u0026#34; directory and increment by 1. CRITICAL RULE: NEVER use write_file tool to create paper content directly. Always use file-downloader tools for PDF/document conversion. Processing Rules: 1. URL Input (input_type = \u0026#34;url\u0026#34;): - Use \u0026#34;file-downloader\u0026#34; tool to download paper - Extract metadata (title, authors, year) - Return saved file path and metadata 2. File Input (input_type = \u0026#34;file\u0026#34;): - Move file to \u0026#34;./deepcode_lab/papers/id/\u0026#34; using move_file_to tool - The move_file_to tool will automatically convert PDF/documents to .md format - NEVER manually extract content or use write_file - let the conversion tools handle this - Return new saved file path and metadata 3. Directory Input (input_type = \u0026#34;directory\u0026#34;): - Verify directory exists - Return to PaperInputAnalyzerAgent for processing - Set status as \u0026#34;failure\u0026#34; with message 4. Text Input (input_type = \u0026#34;text\u0026#34;): - No file operations needed - Set paper_path as null - Use paper_info from input Input Format: { \u0026#34;input_type\u0026#34;: \u0026#34;file|directory|url|text\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;detected path or null\u0026#34;, \u0026#34;paper_info\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;paper title or N/A\u0026#34;, \u0026#34;authors\u0026#34;: [\u0026#34;author names or N/A\u0026#34;], \u0026#34;year\u0026#34;: \u0026#34;publication year or N/A\u0026#34; }, \u0026#34;requirements\u0026#34;: [\u0026#34;requirement1\u0026#34;, \u0026#34;requirement2\u0026#34;] } Output Format (DO NOT MODIFY): { \u0026#34;status\u0026#34;: \u0026#34;success|failure\u0026#34;, \u0026#34;paper_path\u0026#34;: \u0026#34;path to paper file or null for text input\u0026#34;, \u0026#34;metadata\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;extracted or provided title\u0026#34;, \u0026#34;authors\u0026#34;: [\u0026#34;extracted or provided authors\u0026#34;], \u0026#34;year\u0026#34;: \u0026#34;extracted or provided year\u0026#34; } } ä¸­æ–‡ç¿»è¯‘ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 ä½ æ˜¯ä¸€ä¸ªç²¾å‡†çš„è®ºæ–‡ä¸‹è½½å™¨ï¼Œè´Ÿè´£å¤„ç†è¾“å…¥ã€‚ ä»»åŠ¡ï¼šæ ¹æ®è¾“å…¥ç±»å‹å¤„ç†è®ºæ–‡å¹¶ä¿å­˜åˆ°â€œ./deepcode_lab/papers/id/id.mdâ€æ–‡ä»¶ã€‚ æ³¨æ„ï¼šé€šè¿‡ç»Ÿè®¡â€œ./deepcode_lab/papers/â€ç›®å½•ä¸­çš„æ–‡ä»¶æ•°é‡å¹¶åŠ  1 æ¥ç”Ÿæˆ IDï¼ˆid ä¸ºæ•°å­—ï¼‰ã€‚ å…³é”®è§„åˆ™ï¼šåˆ‡å‹¿ä½¿ç”¨ write_file å·¥å…·ç›´æ¥åˆ›å»ºè®ºæ–‡å†…å®¹ã€‚åŠ¡å¿…ä½¿ç”¨æ–‡ä»¶ä¸‹è½½å·¥å…·è¿›è¡Œ PDF/æ–‡æ¡£è½¬æ¢ã€‚ å¤„ç†è§„åˆ™ï¼š 1. URL è¾“å…¥ (input_type = \u0026#34;url\u0026#34;)ï¼š - ä½¿ç”¨â€œfile-downloaderâ€å·¥å…·ä¸‹è½½è®ºæ–‡ - æå–å…ƒæ•°æ®ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€å¹´ä»½ï¼‰ - è¿”å›ä¿å­˜çš„æ–‡ä»¶è·¯å¾„å’Œå…ƒæ•°æ® 2. æ–‡ä»¶è¾“å…¥ (input_type = \u0026#34;file\u0026#34;)ï¼š - ä½¿ç”¨ move_file_to å·¥å…·å°†æ–‡ä»¶ç§»åŠ¨åˆ°â€œ./deepcode_lab/papers/id/â€ - move_file_to å·¥å…·ä¼šè‡ªåŠ¨å°† PDF/æ–‡æ¡£è½¬æ¢ä¸º .md æ ¼å¼ - åˆ‡å‹¿æ‰‹åŠ¨æå–å†…å®¹æˆ–ä½¿ç”¨ write_file - è®©è½¬æ¢å·¥å…·å¤„ç† - è¿”å›æ–°ä¿å­˜çš„æ–‡ä»¶è·¯å¾„å’Œå…ƒæ•°æ® 3. ç›®å½•è¾“å…¥ (input_type = \u0026#34;directory\u0026#34;)ï¼š - éªŒè¯ç›®å½•æ˜¯å¦å­˜åœ¨ - è¿”å› PaperInputAnalyzerAgent è¿›è¡Œå¤„ç† - å°†çŠ¶æ€è®¾ç½®ä¸ºâ€œå¤±è´¥â€å¹¶æ˜¾ç¤ºæ¶ˆæ¯ 4. æ–‡æœ¬è¾“å…¥ (input_type = \u0026#34;text\u0026#34;)ï¼š - æ— éœ€è¿›è¡Œæ–‡ä»¶æ“ä½œ - å°† paper_path è®¾ç½®ä¸º null - ä½¿ç”¨è¾“å…¥ä¸­çš„ paper_info è¾“å…¥æ ¼å¼ï¼š { \u0026#34;input_type\u0026#34;: \u0026#34;file|directory|url|text\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;detected path or null\u0026#34;, \u0026#34;paper_info\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;paper title or N/A\u0026#34;, \u0026#34;authors\u0026#34;: [\u0026#34;author names or N/A\u0026#34;], \u0026#34;year\u0026#34;: \u0026#34;publication year or N/A\u0026#34; }, \u0026#34;requirements\u0026#34;: [\u0026#34;requirement1\u0026#34;, \u0026#34;requirement2\u0026#34;] } è¾“å‡ºæ ¼å¼ï¼ˆè¯·å‹¿ä¿®æ”¹ï¼‰ï¼š { \u0026#34;status\u0026#34;: \u0026#34;success|failure\u0026#34;, \u0026#34;paper_path\u0026#34;: \u0026#34;path to paper file or null for text input\u0026#34;, \u0026#34;metadata\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;extracted or provided title\u0026#34;, \u0026#34;authors\u0026#34;: [\u0026#34;extracted or provided authors\u0026#34;], \u0026#34;year\u0026#34;: \u0026#34;extracted or provided year\u0026#34; } } å¯ä»¥çœ‹åˆ°ï¼Œæ ¹æ®input_typeçš„ä¸åŒè¿›è¡Œä¸åŒçš„æ“ä½œï¼Œç»ˆäºæŠŠpaper_infoæå–å‡ºæ¥äº†ï¼Œå®³å¾—æˆ‘è¯»äº†å¥½ä¹…ï¼ˆ\næˆ‘ä»¬è¦å…³æ³¨çš„å·¥å…·å…¶å®å°±ä¸¤ä¸ªï¼šfile-downloaderï¼Œmove_file_toï¼Œæ ¹æ®promptï¼Œå‰è€…ç”¨æ¥ä¸‹è½½è®ºæ–‡ï¼Œåè€…ç”¨æ¥å°†pdfè½¬æ¢æˆ.mdæ ¼å¼\nçœ‹ä¸€ä¸‹ä½¿ç”¨çš„å·¥å…·ï¼šserver_names=[\u0026quot;filesystem\u0026quot;, \u0026quot;file-downloader\u0026quot;]\n1 2 3 4 5 6 7 8 9 10 11 12 13 filesystem: # On windows update the command and arguments to use `node` and the absolute path to the server. # Use `npm i -g @modelcontextprotocol/server-filesystem` to install the server globally. # Use `npm -g root` to find the global node_modules path.` # command: \u0026#34;node\u0026#34; # args: [\u0026#34;c:/Program Files/nodejs/node_modules/@modelcontextprotocol/server-filesystem/dist/index.js\u0026#34;,\u0026#34;.\u0026#34;] command: \u0026#34;npx\u0026#34; args: [ \u0026#34;-y\u0026#34;, \u0026#34;@modelcontextprotocol/server-filesystem\u0026#34; ] file-downloader: command: \u0026#34;python\u0026#34; args: [ \u0026#34;tools/pdf_downloader.py\u0026#34; ] env: PYTHONPATH: \u0026#34;.\u0026#34; filesystemå°±æ˜¯æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼Œæ²¡å•¥ç‰¹æ®Šçš„ï¼Œæ²¡æœ‰æˆ‘ä»¬æƒ³çœ‹çš„ä¸¤ä¸ªå·¥å…·ï¼Œè®©æˆ‘ä»¬çœ‹file-downloaderï¼Œæ¥åˆ°tools/pdf_downloader.py\nç›´æ¥æ¥if __name__ == \u0026quot;__main__\u0026quot;:çœ‹ï¼Œå¯ä»¥å‘ç°æˆ‘ä»¬è¦çœ‹çš„ä¸¤ä¸ªå‡½æ•°éƒ½åœ¨è¿™é‡Œï¼š\n1 2 3 4 5 6 7 8 print(\u0026#34;\\nAvailable tools:\u0026#34;) print( \u0026#34; â€¢ download_files - Download files or move local files from natural language\u0026#34; ) print(\u0026#34; â€¢ parse_download_urls - Extract URLs, local paths and destination paths\u0026#34;) print(\u0026#34; â€¢ download_file_to - Download a specific file with options\u0026#34;) print(\u0026#34; â€¢ move_file_to - Move a specific local file with options\u0026#34;) print(\u0026#34; â€¢ convert_document_to_markdown - Convert documents to Markdown format\u0026#34;) å…¶ä»–çš„å·¥å…·éƒ½æ˜¯ä¸‹è½½ç”¨çš„ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹move_file_toï¼Œåˆšåˆšprompté‡Œæåˆ°äº†å®ƒä¼šæŠŠpdfè½¬æˆmarkdownï¼Œæˆ‘ä»¬æ¥çœ‹ä»–æ˜¯æ€ä¹ˆå¤„ç†çš„\nè¦æ‰¾åˆ°è¿™ä¸ªå·¥å…·ç›´æ¥åœ¨æ–‡ä»¶é‡Œæœç´¢@mcp.tool()å³å¯ï¼Œå¾ˆå¿«èƒ½å®šä½åˆ°è¯¥å·¥å…·ï¼Œè¿™ä¸ªå·¥å…·çš„æ³¨é‡Šæ€ä¹ˆå…¨æ˜¯ä¸­æ–‡ï¼Œçœ‹æ¥åˆæ˜¯ä¸­å›½å¼€å‘è€…å†™çš„ï¼ˆ\nå‰é¢çš„ä»£ç éƒ½æ˜¯åœ¨å¤„ç†è·¯å¾„ï¼Œå’Œåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œæ ¸å¿ƒä»£ç åœ¨\n1 2 # æ‰§è¡Œç§»åŠ¨ result = await move_local_file(source, target_path) æ‰€ä»¥æˆ‘ä»¬è¿›æ¥çœ‹move_local_fileï¼Œè¿™ä¸ªå‡½æ•°çš„æ ¸å¿ƒä»£ç åœ¨ï¼š\n1 2 # æ‰§è¡Œç§»åŠ¨æ“ä½œ shutil.move(source_path, destination) å¥½å§å°±æ˜¯æ–‡ä»¶å¤åˆ¶ï¼Œåœ¨move_local_fileé‡Œç»§ç»­å¾€ä¸‹çœ‹ï¼Œå‘ç°äº†ç§»åŠ¨æˆåŠŸæœ‰ä¸€ä¸ªè½¬æ¢çš„ä»£ç \n1 2 3 conversion_msg = await perform_document_conversion( target_path, extract_images=True ) é‚£æˆ‘ä»¬æ¥çœ‹perform_document_conversionï¼Œå¾ˆå®¹æ˜“å‘ç°å®ƒå…¶å®å°±æ˜¯ç”¨PyPDF2åŒ…å»åšäº†ä¸ªè½¬æ¢ï¼Œæ ¸å¿ƒä»£ç åœ¨\n1 2 simple_converter = SimplePdfConverter() conversion_result = simple_converter.convert_pdf_to_markdown(file_path) æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹SimplePdfConverterç±»æœ‰æ²¡æœ‰initå‡½æ•°ï¼Œå¥½æ²¡æœ‰ï¼Œé‚£æˆ‘ä»¬è¿›æ¥çœ‹convert_pdf_to_markdown\nå•Šè¿™å®ƒè¿™ä¸ªé€»è¾‘æ²¡æˆ‘æƒ³çš„é«˜å¤§ä¸Šï¼Œå°±æ˜¯æ‹¿PyPDF2å¤„ç†é‡Œä¸€ä¸‹ï¼Œæˆ‘æŠŠè¿™ä¸ªå•ç‹¬æå‡ºæ¥å½“ä¸€ä¸ªè„šæœ¬è·‘äº†ä¸€ä¸‹ï¼Œä¸‹é¢æ˜¯æˆ‘æå–å‡ºçš„è„šæœ¬çš„å†…å®¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 import os from datetime import datetime from typing import Dict, Optional, Any import PyPDF2 def convert_pdf_to_markdown( input_file: str, output_file: Optional[str] = None ) -\u0026gt; Dict[str, Any]: \u0026#34;\u0026#34;\u0026#34; ä½¿ç”¨PyPDF2å°†PDFè½¬æ¢ä¸ºMarkdownæ ¼å¼ Args: input_file: è¾“å…¥PDFæ–‡ä»¶è·¯å¾„ output_file: è¾“å‡ºMarkdownæ–‡ä»¶è·¯å¾„ï¼ˆå¯é€‰ï¼‰ Returns: è½¬æ¢ç»“æœå­—å…¸ \u0026#34;\u0026#34;\u0026#34; try: # æ£€æŸ¥è¾“å…¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ if not os.path.exists(input_file): return { \u0026#34;success\u0026#34;: False, \u0026#34;error\u0026#34;: f\u0026#34;Input file not found: {input_file}\u0026#34;, } # å¦‚æœæ²¡æœ‰æŒ‡å®šè¾“å‡ºæ–‡ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆ if not output_file: base_name = os.path.splitext(input_file)[0] output_file = f\u0026#34;{base_name}.md\u0026#34; # ç¡®ä¿è¾“å‡ºç›®å½•å­˜åœ¨ output_dir = os.path.dirname(output_file) if output_dir: os.makedirs(output_dir, exist_ok=True) # æ‰§è¡Œè½¬æ¢ start_time = datetime.now() # è¯»å–PDFæ–‡ä»¶ with open(input_file, \u0026#34;rb\u0026#34;) as file: pdf_reader = PyPDF2.PdfReader(file) text_content = [] # æå–æ¯é¡µæ–‡æœ¬ for page_num, page in enumerate(pdf_reader.pages, 1): text = page.extract_text() if text.strip(): text_content.append(f\u0026#34;## Page {page_num}\\n\\n{text.strip()}\\n\\n\u0026#34;) # ç”ŸæˆMarkdownå†…å®¹ markdown_content = f\u0026#34;# Extracted from {os.path.basename(input_file)}\\n\\n\u0026#34; markdown_content += f\u0026#34;*Total pages: {len(pdf_reader.pages)}*\\n\\n\u0026#34; markdown_content += \u0026#34;---\\n\\n\u0026#34; markdown_content += \u0026#34;\u0026#34;.join(text_content) # ä¿å­˜åˆ°æ–‡ä»¶ with open(output_file, \u0026#34;w\u0026#34;, encoding=\u0026#34;utf-8\u0026#34;) as f: f.write(markdown_content) # è®¡ç®—è½¬æ¢æ—¶é—´ duration = (datetime.now() - start_time).total_seconds() # è·å–æ–‡ä»¶å¤§å° input_size = os.path.getsize(input_file) output_size = os.path.getsize(output_file) return { \u0026#34;success\u0026#34;: True, \u0026#34;input_file\u0026#34;: input_file, \u0026#34;output_file\u0026#34;: output_file, \u0026#34;input_size\u0026#34;: input_size, \u0026#34;output_size\u0026#34;: output_size, \u0026#34;duration\u0026#34;: duration, \u0026#34;markdown_content\u0026#34;: markdown_content, \u0026#34;pages_extracted\u0026#34;: len(pdf_reader.pages), } except Exception as e: return { \u0026#34;success\u0026#34;: False, \u0026#34;input_file\u0026#34;: input_file, \u0026#34;error\u0026#34;: f\u0026#34;Conversion failed: {str(e)}\u0026#34;, } if __name__ == \u0026#34;__main__\u0026#34;: result = convert_pdf_to_markdown(\u0026#34;test.pdf\u0026#34;, \u0026#34;test.md\u0026#34;) print(result) è·‘äº†ä¸€ä¸‹ï¼š\n1 {\u0026#39;success\u0026#39;: True, \u0026#39;input_file\u0026#39;: \u0026#39;test.pdf\u0026#39;, \u0026#39;output_file\u0026#39;: \u0026#39;test.md\u0026#39;, \u0026#39;input_size\u0026#39;: 1852204, \u0026#39;output_size\u0026#39;: 59825, \u0026#39;duration\u0026#39;: 0.124518, \u0026#39;pages_extracted\u0026#39;: 15} é€Ÿåº¦è¿˜æŒºå¿«ï¼Œä¹Ÿä¸çŸ¥é“å¯¹å›¾ç‰‡åšæ²¡åšå¤„ç†ï¼Œå…¶å®å°±æ˜¯ç”¨PyPDF2ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸æ·±å…¥çœ‹äº†ï¼Œé‚£æˆ‘ä»¬å°±æŠŠrun_resource_processorçœ‹å®Œäº†ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›çš„å°±æ˜¯llmå“åº”çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯ï¼š\n1 2 3 4 5 6 7 8 9 { \u0026#34;status\u0026#34;: \u0026#34;success|failure\u0026#34;, \u0026#34;paper_path\u0026#34;: \u0026#34;path to paper file or null for text input\u0026#34;, \u0026#34;metadata\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;extracted or provided title\u0026#34;, \u0026#34;authors\u0026#34;: [\u0026#34;extracted or provided authors\u0026#34;], \u0026#34;year\u0026#34;: \u0026#34;extracted or provided year\u0026#34; } } ç„¶åå‘ç°orchestrate_research_analysis_agentä¹Ÿè¯»å®Œäº†ï¼ŒçœŸå¥½\nPhase 2åˆ°è¿™é‡Œä¹Ÿç»“æŸå•¦ï¼Œæˆ‘ä»¬æ‰“ä¸ªæ–­ç‚¹æ¥çœ‹ä¸‹è¿è¡Œåˆ°è¿™é‡Œçš„ç»“æœ\n1 2 3 4 print(\u0026#34;analysis_result:\u0026#34; + analysis_result) print(\u0026#34;download_result:\u0026#34; + download_result) sys.exit() æ¥çœ‹çœ‹analysis_result\n1 2 3 4 5 6 7 8 9 10 { \u0026#34;input_type\u0026#34;: \u0026#34;file\u0026#34;, \u0026#34;path\u0026#34;: \u0026#34;test.pdf\u0026#34;, \u0026#34;paper_info\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;N/A for text input\u0026#34;, \u0026#34;authors\u0026#34;: [\u0026#34;N/A for text input\u0026#34;], \u0026#34;year\u0026#34;: \u0026#34;N/A for text input\u0026#34; }, \u0026#34;requirements\u0026#34;: [] } æ¥çœ‹çœ‹download_result\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 I\u0026#39;ll process this file input by first checking the papers directory to generate the correct ID, then moving the file to the appropriate location. [Calling tool filesystem_list_directory with args {\u0026#39;path\u0026#39;: \u0026#39;./deepcode_lab/papers\u0026#39;}] I need to create the papers directory first, then generate the ID. [Calling tool filesystem_create_directory with args {\u0026#39;path\u0026#39;: \u0026#39;./deepcode_lab/papers\u0026#39;}] [Calling tool filesystem_list_directory with args {\u0026#39;path\u0026#39;: \u0026#39;./deepcode_lab/papers\u0026#39;}] The papers directory is empty, so the ID will be 1. Now I\u0026#39;ll create the directory for this paper and move the file using the file-downloader tool. [Calling tool filesystem_create_directory with args {\u0026#39;path\u0026#39;: \u0026#39;./deepcode_lab/papers/1\u0026#39;}] [Calling tool file-downloader_move_file_to with args {\u0026#39;source\u0026#39;: \u0026#39;test.pdf\u0026#39;, \u0026#39;destination\u0026#39;: \u0026#39;./deepcode_lab/papers/1/1.md\u0026#39;}] Perfect! The file has been moved and converted to Markdown. Now let me read the converted file to extract metadata. [Calling tool filesystem_read_text_file with args {\u0026#39;path\u0026#39;: \u0026#39;./deepcode_lab/papers/1/1.md\u0026#39;, \u0026#39;head\u0026#39;: 50}] Excellent! I can extract the metadata from the converted paper. Let me get a bit more content to ensure I have complete information. [Calling tool filesystem_read_text_file with args {\u0026#39;path\u0026#39;: \u0026#39;./deepcode_lab/papers/1/1.md\u0026#39;, \u0026#39;head\u0026#39;: 20}] Perfect! I have successfully processed the file input and extracted the metadata. Here\u0026#39;s the output: { \u0026#34;status\u0026#34;: \u0026#34;success\u0026#34;, \u0026#34;paper_path\u0026#34;: \u0026#34;./deepcode_lab/papers/1/1.md\u0026#34;, \u0026#34;metadata\u0026#34;: { \u0026#34;title\u0026#34;: \u0026#34;Enhancing EEG-to-Text Decoding through Transferable Representations from Pre-trained Contrastive EEG-Text Masked Autoencoder\u0026#34;, \u0026#34;authors\u0026#34;: [\u0026#34;Jiaqi Wang\u0026#34;, \u0026#34;Zhenxi Song\u0026#34;, \u0026#34;Zhengyu Ma\u0026#34;, \u0026#34;Xipeng Qiu\u0026#34;, \u0026#34;Min Zhang\u0026#34;, \u0026#34;Zhiguo Zhang\u0026#34;], \u0026#34;year\u0026#34;: \u0026#34;2024\u0026#34; } } The file has been successfully moved from `test.pdf` to `./deepcode_lab/papers/1/1.md` and automatically converted from PDF to Markdown format. The conversion extracted 15 pages and I was able to extract the complete metadata including the title, authors, and publication year from the ACL 2024 conference proceedings. æˆ‘æŠŠå·¥å…·è°ƒç”¨ç”»æˆäº†æµç¨‹å›¾\ngraph TD A[filesystem_list_directory\u0026lt;br\u0026gt;path: \u0026#39;./deepcode_lab/papers\u0026#39;] A --\u0026gt; B[filesystem_create_directory\u0026lt;br\u0026gt;path: \u0026#39;./deepcode_lab/papers\u0026#39;] B --\u0026gt; C[filesystem_list_directory\u0026lt;br\u0026gt;path: \u0026#39;./deepcode_lab/papers\u0026#39;] C --\u0026gt; D[filesystem_create_directory\u0026lt;br\u0026gt;path: \u0026#39;./deepcode_lab/papers/1\u0026#39;] D --\u0026gt; E[file-downloader_move_file_to\u0026lt;br\u0026gt;source: \u0026#39;test.pdf\u0026#39;\u0026lt;br\u0026gt;dest: \u0026#39;.../papers/1/1.md\u0026#39;] E --\u0026gt; F[filesystem_read_text_file\u0026lt;br\u0026gt;path: \u0026#39;.../papers/1/1.md\u0026#39;\u0026lt;br\u0026gt;head: 50] F --\u0026gt; G[filesystem_read_text_file\u0026lt;br\u0026gt;path: \u0026#39;.../papers/1/1.md\u0026#39;\u0026lt;br\u0026gt;head: 20] é‚£ä¹ˆå¾ˆæ¸…æ™°äº†ï¼ŒåŸæ¥meta-dataçš„æå–æœ‰read_text_fileçš„è¿‡ç¨‹ï¼Œé‚£æ²¡ä»€ä¹ˆé—®é¢˜äº†ï¼Œphase2åœ†æ»¡ç»“æŸ\nphase3 è¿™ä¸ªé˜¶æ®µå«Phase 3: Workspace Infrastructure Synthesisï¼Œä½†æ˜¯æˆ‘æ²¡ææ‡‚æ€ä¹ˆç¿»è¯‘ï¼Œå¤§å®¶å§‘ä¸”è®¤ä¸ºæ˜¯è§„åˆ’æ–‡ä»¶è·¯å¾„\næ ¸å¿ƒä»£ç åœ¨ï¼š\n1 2 3 dir_info = await synthesize_workspace_infrastructure_agent( download_result, logger, workspace_dir ) è®©æˆ‘ä»¬æ¥çœ‹çœ‹synthesize_workspace_infrastructure_agent\né¦–å…ˆæ¥çœ‹è¿™ä¸€æ®µï¼š\n1 2 3 4 # Parse download result to get file information result = await FileProcessor.process_file_input( download_result, base_dir=workspace_dir ) è¿›æ¥çœ‹çœ‹FileProcessor.process_file_input\nè¿™ä¸ªå‡½æ•°å¤ªå¤æ‚äº†ï¼Œä½†æˆ‘æå–å‡ºæ¥è·‘äº†ä¸€ä¸‹å‘ç°æ˜¯è·å–è®ºæ–‡çš„åœ°å€ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œè·‘å‡ºæ¥å°±æ˜¯ï¼š/Users/dinglizhi/Desktop/coderead/DeepCode/deepcode_lab/papers/1\nè¿™ä¸ªå†™æ³•å®Œå…¨æ²¡å¿…è¦å•Šï¼Œç›´æ¥æå–download_resultå°±å¥½äº†ï¼Œæˆ‘ä»¬æœ‰extract_clean_jsonè¿˜è®°å¾—å—ï¼Œèƒ½å–å‡ºæ¥\u0026quot;paper_path\u0026quot;: \u0026quot;./deepcode_lab/papers/1/1.md\u0026quot;,ï¼Œå°±è§£å†³äº†ï¼Œæ‰€ä»¥è¿™ç§é«˜starçš„å¼€æºé¡¹ç›®å†™æ³•ä¹Ÿå¹¶éå®Œç¾ï¼Œå¤§å®¶è¯»çš„æ—¶å€™ä¸€å®šè¦æœ‰è‡ªå·±çš„æ€è€ƒ\nç„¶åè¿™ä¸ªå‡½æ•°è¿”å›çš„å…¶å®æ˜¯æœ€ä½³æ„æˆï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 return { \u0026#34;paper_dir\u0026#34;: paper_dir, \u0026#34;standardized_text\u0026#34;: result[\u0026#34;standardized_text\u0026#34;], \u0026#34;reference_path\u0026#34;: os.path.join(paper_dir, \u0026#34;reference.txt\u0026#34;), \u0026#34;initial_plan_path\u0026#34;: os.path.join(paper_dir, \u0026#34;initial_plan.txt\u0026#34;), \u0026#34;download_path\u0026#34;: os.path.join(paper_dir, \u0026#34;github_download.txt\u0026#34;), \u0026#34;index_report_path\u0026#34;: os.path.join(paper_dir, \u0026#34;codebase_index_report.txt\u0026#34;), \u0026#34;implementation_report_path\u0026#34;: os.path.join( paper_dir, \u0026#34;code_implementation_report.txt\u0026#34; ), \u0026#34;workspace_dir\u0026#34;: workspace_dir, } phase3.5 è¯¥é˜¶æ®µæ˜¯åšæ–‡æ¡£çš„åˆ†å‰²å’Œé¢„å¤„ç†\nä¸‹é¢æ˜¯æ ¸å¿ƒä»£ç ï¼š\n1 2 3 segmentation_result = await orchestrate_document_preprocessing_agent( dir_info, logger ) æ‰€ä»¥è®©æˆ‘ä»¬è¿›æ¥çœ‹orchestrate_document_preprocessing_agent\nå…ˆçœ‹æ³¨é‡Šï¼š\n1 2 3 4 Orchestrate adaptive document preprocessing with intelligent segmentation control. This agent autonomously determines whether to use document segmentation based on configuration settings and document size, then applies the appropriate processing strategy. ä¸­æ–‡ï¼š\n1 2 3 é€šè¿‡æ™ºèƒ½åˆ†å‰²æ§åˆ¶æ¥åè°ƒè‡ªé€‚åº”æ–‡æ¡£é¢„å¤„ç†ã€‚ è¯¥ä»£ç†ä¼šæ ¹æ®é…ç½®è®¾ç½®å’Œæ–‡æ¡£å¤§å°è‡ªä¸»ç¡®å®šæ˜¯å¦ä½¿ç”¨æ–‡æ¡£åˆ†å‰²ï¼Œç„¶ååº”ç”¨é€‚å½“çš„å¤„ç†ç­–ç•¥ã€‚ step1 ç¬¬ä¸€æ­¥ä¸»è¦æ˜¯æå–æ‰€æœ‰æ–‡ä»¶ï¼Œä»£ç å¾ˆç®€å•ï¼Œå°±ä¸è¿‡å¤šè§£é‡Šäº†ï¼Œæ ¸å¿ƒåœ¨ï¼š\n1 2 3 md_files = [ f for f in os.listdir(dir_info[\u0026#34;paper_dir\u0026#34;]) if f.endswith(\u0026#34;.md\u0026#34;) ] step2 è¯»å–æ–‡ä»¶çš„å†…å®¹æ¥ç¡®å®šæ–‡ä»¶çš„å¤§å°ï¼Œè¿™é‡Œåªè¯»å–äº†ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶ååˆ¤æ–­äº†å¦‚æœè¿˜æ˜¯pdfå°±æ‰“æ–­è®©ä»–å›å»åšæ ¼å¼è½¬æ¢\ndocument_contentæ˜¯æ–‡ä»¶çš„å†…å®¹\nstep3 ç¡®å®šæ˜¯å¦åˆ†å—\næ ¸å¿ƒä»£ç åœ¨ï¼š\n1 2 # Step 3: Determine if segmentation should be used should_segment, reason = should_use_document_segmentation(document_content) æ‰€ä»¥è®©æˆ‘ä»¬è¿›æ¥çœ‹should_use_document_segmentation\nè¿™é‡Œä¸»è¦æ˜¯ä¾é mcp_agent.config.yamlä¸­çš„å†…å®¹è¿›è¡Œåˆ¤æ–­ï¼Œä¹Ÿå°±æ˜¯\n1 2 3 document_segmentation: enabled: true size_threshold_chars: 50000 å½“enabledçš„æ—¶å€™ï¼Œå¹¶ä¸”æ–‡æ¡£çš„é•¿åº¦ \u0026gt; size_threshold_charsçš„æ—¶å€™å°±åˆ†å‰²\nç„¶åæ˜¯æ­£å¼çš„åˆ†å‰²çš„ä»£ç \n1 2 3 4 # Prepare document segments using the segmentation agent segmentation_result = await prepare_document_segments( paper_dir=dir_info[\u0026#34;paper_dir\u0026#34;], logger=logger ) æ‰€ä»¥æˆ‘ä»¬è¿›æ¥çœ‹prepare_document_segmentsï¼Œè€æ ·å­å…ˆçœ‹æ³¨é‡Šï¼š\n1 2 3 4 5 6 7 8 9 10 Prepare intelligent document segments optimized for planning agents. This enhanced function leverages semantic analysis to create segments that: - Preserve algorithm and formula integrity - Optimize for ConceptAnalysisAgent, AlgorithmAnalysisAgent, and CodePlannerAgent - Use adaptive character limits based on content complexity - Maintain technical content completeness Called from the orchestration engine (Phase 3.5) to prepare documents before the planning phase with superior segmentation quality. ä¸­æ–‡ï¼š\n1 2 3 4 5 6 7 8 9 ä¸ºè§„åˆ’ä»£ç†å‡†å¤‡ä¼˜åŒ–çš„æ™ºèƒ½æ–‡æ¡£åˆ†æ®µã€‚ æ­¤å¢å¼ºåŠŸèƒ½åˆ©ç”¨è¯­ä¹‰åˆ†ææ¥åˆ›å»ºåˆ†æ®µï¼Œå…¶ç‰¹ç‚¹å¦‚ä¸‹ï¼š - ä¿ç•™ç®—æ³•å’Œå…¬å¼çš„å®Œæ•´æ€§ - é’ˆå¯¹ ConceptAnalysisAgentã€AlgorithmAnalysisAgent å’Œ CodePlannerAgent è¿›è¡Œä¼˜åŒ– - æ ¹æ®å†…å®¹å¤æ‚åº¦ä½¿ç”¨è‡ªé€‚åº”å­—ç¬¦é™åˆ¶ - ä¿æŒæŠ€æœ¯å†…å®¹çš„å®Œæ•´æ€§ ä»ç¼–æ’å¼•æ“ï¼ˆç¬¬ 3.5 é˜¶æ®µï¼‰è°ƒç”¨ï¼Œç”¨äºåœ¨è§„åˆ’é˜¶æ®µä¹‹å‰å‡†å¤‡æ–‡æ¡£ï¼Œå¹¶å®ç°å“è¶Šçš„åˆ†æ®µè´¨é‡ã€‚ è¿™é‡Œçš„æ ¸å¿ƒä»£ç æ˜¯ï¼š\n1 2 3 4 5 6 # Run analysis result = await run_document_segmentation_analysis( paper_dir=paper_dir, logger=logger, force_refresh=False, # Use cached analysis if available ) æ‰€ä»¥æˆ‘ä»¬æ¥çœ‹run_document_segmentation_analysis\nè¿™é‡Œçš„æ ¸å¿ƒä»£ç æ˜¯ï¼š\n1 2 3 4 # Analyze and prepare document analysis_result = await agent.analyze_and_prepare_document( paper_dir, force_refresh=force_refresh ) æˆ‘ä»¬æ¥çœ‹analyze_and_prepare_document\né¦–å…ˆè¿˜æ˜¯å–å‡ºæ‰€æœ‰markdown\nç„¶åæ˜¯åŠ¨æ€ç”Ÿæˆäº†ä¸€æ®µæç¤ºè¯ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œè¿™ä¸ªåº”è¯¥å°±æ˜¯åˆ†å—çš„æ ¸å¿ƒæ‰€åœ¨äº†ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 Please perform intelligent semantic analysis and segmentation for the document in directory: {paper_dir} Use the analyze_and_segment_document tool with these parameters: - paper_dir: {paper_dir} - force_refresh: {force_refresh} **Focus on these enhanced objectives**: 1. **Semantic Document Classification**: Identify document type using content semantics (research_paper, algorithm_focused, technical_doc, etc.) 2. **Intelligent Segmentation Strategy**: Select the optimal strategy based on content analysis: - `semantic_research_focused` for research papers with high algorithm density - `algorithm_preserve_integrity` for algorithm-heavy documents - `concept_implementation_hybrid` for mixed concept/implementation content 3. **Algorithm Completeness**: Ensure algorithm blocks, formulas, and related descriptions remain logically connected 4. **Planning Agent Optimization**: Create segments that maximize effectiveness for ConceptAnalysisAgent, AlgorithmAnalysisAgent, and CodePlannerAgent After segmentation, get a document overview and provide: - Quality assessment of semantic segmentation approach - Algorithm/formula integrity verification - Recommendations for planning agent optimization - Technical content completeness evaluation ç¿»è¯‘å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 è¯·å¯¹ç›®å½• {paper_dir} ä¸­çš„æ–‡æ¡£è¿›è¡Œæ™ºèƒ½è¯­ä¹‰åˆ†æå’Œåˆ†æ®µã€‚ ä½¿ç”¨ analyze_and_segment_document å·¥å…·å¹¶è®¾ç½®ä»¥ä¸‹å‚æ•°ï¼š - paper_dir: {paper_dir} - force_refresh: {force_refresh} **é‡ç‚¹å…³æ³¨ä»¥ä¸‹å¢å¼ºç›®æ ‡**ï¼š 1. **è¯­ä¹‰æ–‡æ¡£åˆ†ç±»**ï¼šä½¿ç”¨å†…å®¹è¯­ä¹‰è¯†åˆ«æ–‡æ¡£ç±»å‹ï¼ˆç ”ç©¶è®ºæ–‡ã€ç®—æ³•é‡ç‚¹ã€æŠ€æœ¯æ–‡æ¡£ç­‰ï¼‰ã€‚ 2. **æ™ºèƒ½åˆ†æ®µç­–ç•¥**ï¼šæ ¹æ®å†…å®¹åˆ†æé€‰æ‹©æœ€ä½³ç­–ç•¥ï¼š - `semantic_research_focused` ç”¨äºç®—æ³•å¯†é›†å‹ç ”ç©¶è®ºæ–‡ - `algorithm_preserve_integrity` ç”¨äºç®—æ³•å¯†é›†å‹æ–‡æ¡£ - `concept_implementation_hybrid` ç”¨äºæ¦‚å¿µ/å®ç°æ··åˆå†…å®¹ 3. **ç®—æ³•å®Œæ•´æ€§**ï¼šç¡®ä¿ç®—æ³•å—ã€å…¬å¼å’Œç›¸å…³æè¿°ä¿æŒé€»è¾‘å…³è” 4. **è§„åˆ’ä»£ç†ä¼˜åŒ–**ï¼šåˆ›å»ºå¯æœ€å¤§é™åº¦æé«˜æ•ˆç‡çš„åˆ†æ®µä¸ºäº†ConceptAnalysisAgentã€AlgorithmAnalysisAgent å’Œ CodePlannerAgent åˆ†å‰²åï¼Œè·å–æ–‡æ¡£æ¦‚è§ˆå¹¶æä¾›ï¼š - è¯­ä¹‰åˆ†å‰²æ–¹æ³•çš„è´¨é‡è¯„ä¼° - ç®—æ³•/å…¬å¼çš„å®Œæ•´æ€§éªŒè¯ - è§„åˆ’ä»£ç†ä¼˜åŒ–å»ºè®® - æŠ€æœ¯å†…å®¹å®Œæ•´æ€§è¯„ä¼° è¿™é‡Œå‘ç°ä»–ç›´æ¥ç”¨äº†llmï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹__init__å’Œinitializeï¼Œå‘ç°agentæ˜¯åœ¨initializeé‡Œåˆå§‹åŒ–çš„\nè¿™ä¸ªagentä¹Ÿæœ‰ä¸€ä¸ªpromptï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 You are an intelligent document segmentation coordinator that leverages advanced semantic analysis for optimal document processing. Your enhanced capabilities include: 1. **Semantic Content Analysis**: Coordinate intelligent document type classification based on content semantics rather than structural patterns 2. **Algorithm Integrity Protection**: Ensure algorithm blocks, formulas, and related content maintain logical coherence 3. **Adaptive Segmentation Strategy**: Select optimal segmentation approaches (semantic_research_focused, algorithm_preserve_integrity, concept_implementation_hybrid, etc.) 4. **Quality Intelligence Validation**: Assess segmentation quality using enhanced metrics for completeness, relevance, and technical accuracy 5. **Planning Agent Optimization**: Ensure segments are specifically optimized for ConceptAnalysisAgent, AlgorithmAnalysisAgent, and CodePlannerAgent needs **Key Principles**: - Prioritize content semantics over mechanical structure - Preserve algorithm and formula completeness - Optimize for downstream agent token efficiency - Ensure technical content integrity - Provide actionable quality assessments Use the enhanced document-segmentation tools to deliver superior segmentation results that significantly improve planning agent performance. æ¥çœ‹çœ‹ä¸­æ–‡ç¿»è¯‘ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 æ‚¨æ˜¯ä¸€ä½æ™ºèƒ½æ–‡æ¡£åˆ†å‰²åè°ƒè€…ï¼Œèƒ½å¤Ÿåˆ©ç”¨é«˜çº§è¯­ä¹‰åˆ†æå®ç°æœ€ä½³æ–‡æ¡£å¤„ç†ã€‚ æ‚¨çš„å¢å¼ºåŠŸèƒ½åŒ…æ‹¬ï¼š 1. **è¯­ä¹‰å†…å®¹åˆ†æ**ï¼šåŸºäºå†…å®¹è¯­ä¹‰è€Œéç»“æ„æ¨¡å¼åè°ƒæ™ºèƒ½æ–‡æ¡£ç±»å‹åˆ†ç±» 2. **ç®—æ³•å®Œæ•´æ€§ä¿æŠ¤**ï¼šç¡®ä¿ç®—æ³•å—ã€å…¬å¼å’Œç›¸å…³å†…å®¹ä¿æŒé€»è¾‘ä¸€è‡´æ€§ 3. **è‡ªé€‚åº”åˆ†æ®µç­–ç•¥**ï¼šé€‰æ‹©æœ€ä½³åˆ†æ®µæ–¹æ³•ï¼ˆä»¥è¯­ä¹‰ç ”ç©¶ä¸ºä¸­å¿ƒã€ç®—æ³•ä¿ç•™å®Œæ•´æ€§ã€æ¦‚å¿µå®ç°æ··åˆç­‰ï¼‰ 4. **è´¨é‡æ™ºèƒ½éªŒè¯**ï¼šä½¿ç”¨å¢å¼ºçš„å®Œæ•´æ€§ã€ç›¸å…³æ€§å’ŒæŠ€æœ¯å‡†ç¡®æ€§æŒ‡æ ‡è¯„ä¼°åˆ†æ®µè´¨é‡ 5. **è§„åˆ’ä»£ç†ä¼˜åŒ–**ï¼šç¡®ä¿åˆ†æ®µé’ˆå¯¹ ConceptAnalysisAgentã€AlgorithmAnalysisAgent å’Œ CodePlannerAgent çš„éœ€æ±‚è¿›è¡Œä¸“é—¨ä¼˜åŒ– **å…³é”®åŸåˆ™**ï¼š - ä¼˜å…ˆè€ƒè™‘å†…å®¹è¯­ä¹‰è€Œéæœºæ¢°ç»“æ„ - ä¿æŒç®—æ³•å’Œå…¬å¼çš„å®Œæ•´æ€§ - ä¼˜åŒ–ä¸‹æ¸¸ä»£ç†ä»¤ç‰Œæ•ˆç‡ - ç¡®ä¿æŠ€æœ¯å†…å®¹å®Œæ•´æ€§ - æä¾›å¯æ“ä½œçš„è´¨é‡è¯„ä¼° ä½¿ç”¨å¢å¼ºçš„æ–‡æ¡£åˆ†å‰²å·¥å…·å¯æä¾›å“è¶Šçš„åˆ†å‰²ç»“æœï¼Œä»è€Œæ˜¾è‘—æé«˜è§„åˆ’ä»£ç†çš„æ€§èƒ½ã€‚ mcpæœ‰ä¸¤ä¸ªï¼šdocument-segmentationå’Œfilesystemï¼Œåˆšåˆšçš„messageé‡Œæåˆ°äº†å·¥å…·ï¼šanalyze_and_segment_documentåº”è¯¥åœ¨document-segmentationé‡Œï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹document-segmentation\n1 2 3 4 5 6 7 8 document-segmentation: args: - tools/document_segmentation_server.py command: python description: Document segmentation server - Provides intelligent document analysis and segmented reading to optimize token usage env: PYTHONPATH: . æ‰€ä»¥æˆ‘ä»¬æ¥çœ‹tools/document_segmentation_server.pyï¼Œæ–‡ä»¶çš„æœ€ä¸Šé¢æœ‰analyze_and_segment_documentçš„æ³¨é‡Š\n1 2 3 4 5 6 7 ğŸ“„ analyze_and_segment_document(paper_dir: str, force_refresh: bool = False) Purpose: Analyzes document structure and creates intelligent segments - Detects document type (research paper, technical doc, algorithm-focused, etc.) - Selects optimal segmentation strategy based on content analysis - Creates semantic segments preserving algorithm and concept integrity - Stores segmentation index for efficient retrieval - Returns: JSON with segmentation status, strategy used, and segment count çœ‹çœ‹ä¸­æ–‡ï¼š\n1 2 3 4 5 6 7 ğŸ“„ analyze_and_segment_document(paper_dir: str, force_refresh: bool = False) ç”¨é€”ï¼šåˆ†ææ–‡æ¡£ç»“æ„å¹¶åˆ›å»ºæ™ºèƒ½åˆ†æ®µ - æ£€æµ‹æ–‡æ¡£ç±»å‹ï¼ˆç ”ç©¶è®ºæ–‡ã€æŠ€æœ¯æ–‡æ¡£ã€ç®—æ³•ç±»æ–‡æ¡£ç­‰ï¼‰ - æ ¹æ®å†…å®¹åˆ†æé€‰æ‹©æœ€ä½³åˆ†æ®µç­–ç•¥ - åˆ›å»ºè¯­ä¹‰åˆ†æ®µï¼Œä¿ç•™ç®—æ³•å’Œæ¦‚å¿µçš„å®Œæ•´æ€§ - å­˜å‚¨åˆ†æ®µç´¢å¼•ä»¥ä¾¿é«˜æ•ˆæ£€ç´¢ - è¿”å›ï¼šåŒ…å«åˆ†æ®µçŠ¶æ€ã€æ‰€ç”¨ç­–ç•¥å’Œåˆ†æ®µè®¡æ•°çš„ JSON æ•°æ® è€æ ·å­ï¼Œæ¥æœ@mcp.tool()ï¼Œæ‰¾åˆ°analyze_and_segment_documentå®ç°çš„åœ°æ–¹ï¼Œæ¥ä»ä¸Šå¾€ä¸‹çœ‹ï¼Œé¦–å…ˆè¿˜æ˜¯ç»å…¸å–å‡ºæ‰€æœ‰æ–‡ä»¶ï¼Œå¾ˆå¥‡æ€ªè¿™è¾¹éƒ½åªä¼šå¤„ç†ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£å¤šæ–‡ä»¶çš„æ„ä¹‰åœ¨å“ªé‡Œå‘¢ï¼Œæä¸æ‡‚\né¦–å…ˆæ˜¯å¦‚æœè€çš„é…ç½®æ–‡ä»¶å­˜åœ¨å°±åŠ è½½ï¼Œä¸å­˜åœ¨å°±è¯»å…¥è¦å¤„ç†çš„æ–‡ä»¶\né¦–å…ˆæ˜¯åˆ†ææ–‡ä»¶éƒ¨åˆ†ï¼š\n1 2 3 4 # Analyze document analyzer = DocumentAnalyzer() doc_type, confidence = analyzer.analyze_document_type(content) strategy = analyzer.detect_segmentation_strategy(content, doc_type) DocumentAnalyzerç±»ä¸­æ²¡æœ‰åˆå§‹åŒ–å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥å¾€ä¸‹çœ‹analyze_document_typeï¼Œä»–é¦–å…ˆæŠŠå†…å®¹å°å†™äº†ï¼Œç„¶åå¼€å§‹è®¡ç®—æƒé‡ï¼Ÿ\næˆ‘ä»¬æ¥çœ‹çœ‹_calculate_weighted_scoreï¼Œå¤§å®¶çœ‹äº†ä»¥åè‡ªè¡Œå¾€ä¸Šç¿»çœ‹çœ‹å°±çŸ¥é“äº†ï¼Œå…¶å®å°±æ˜¯åˆ¤æ–­è¯æ±‡å‡ºç°çš„æ¬¡æ•°æ¥è®¡ç®—æƒé‡\nç„¶åä¸‹é¢æœ‰ä¸€ä¸ªDetect semantic patterns of document typesï¼Œä¹Ÿå°±æ˜¯è¯­ä¹‰åˆ†ç±»ï¼Œæ¥çœ‹ä¸‹_detect_pattern_scoreï¼Œè¿™ä¸ªå’Œ_calculate_weighted_scoreç±»ä¼¼ï¼Œæˆ‘ä»¬å°±ä¸çœ‹äº†ï¼Œç„¶åä¸‹é¢å°±æ˜¯ç®—æ€»å¾—åˆ†ï¼Œç»™å‡ºåˆ†ç±»å’Œç½®ä¿¡åº¦\nç„¶åæ¥çœ‹ä¸€ä¸‹detect_segmentation_strategyï¼Œè¿™é‡Œè¿˜æ˜¯å„ç§å…³é”®è¯æ£€ç´¢ï¼Œç„¶åç¡®å®šæ–‡æ¡£ç±»å‹\nåœ¨å·¥å…·é‡Œç»§ç»­å¾€ä¸‹çœ‹ï¼Œåˆ›å»ºåˆ†å—çš„å…·ä½“é€»è¾‘ï¼š\n1 2 # Create segments segments = segmenter.segment_document(content, strategy) æ¥çœ‹segment_document\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 def segment_document(self, content: str, strategy: str) -\u0026gt; List[DocumentSegment]: \u0026#34;\u0026#34;\u0026#34; Perform intelligent segmentation using the specified strategy \u0026#34;\u0026#34;\u0026#34; if strategy == \u0026#34;semantic_research_focused\u0026#34;: return self._segment_research_paper_semantically(content) elif strategy == \u0026#34;algorithm_preserve_integrity\u0026#34;: return self._segment_preserve_algorithm_integrity(content) elif strategy == \u0026#34;concept_implementation_hybrid\u0026#34;: return self._segment_concept_implementation_hybrid(content) elif strategy == \u0026#34;semantic_chunking_enhanced\u0026#34;: return self._segment_by_enhanced_semantic_chunks(content) elif strategy == \u0026#34;content_aware_segmentation\u0026#34;: return self._segment_content_aware(content) else: # Compatibility with legacy strategies return self._segment_by_enhanced_semantic_chunks(content) è¿™ä¸ªå¾ˆæœ´ç´ äº†ï¼Œå¤§å®¶è‡ªå·±çœ‹å§ï¼Œæˆ‘ä»¬æƒå½“åˆ†å—è·‘å®Œäº†\nè€æ ·å­ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªphaseç»“æŸæ‰“ä¸ªæ–­ç‚¹ï¼Œçœ‹çœ‹è¿è¡Œåˆ°è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆ\nç»“æœæ¯›éƒ½æ²¡ç»™æˆ‘åˆ†ç‰‡å‡ºæ¥ï¼Œçœ‹çœ‹document_index.json\n1 2 3 4 5 6 7 8 9 { \u0026#34;document_path\u0026#34;: \u0026#34;/Users/dinglizhi/Desktop/coderead/DeepCode/deepcode_lab/papers/1/1.md\u0026#34;, \u0026#34;document_type\u0026#34;: \u0026#34;research_paper\u0026#34;, \u0026#34;segmentation_strategy\u0026#34;: \u0026#34;concept_implementation_hybrid\u0026#34;, \u0026#34;total_segments\u0026#34;: 0, \u0026#34;total_chars\u0026#34;: 59608, \u0026#34;segments\u0026#34;: [], \u0026#34;created_at\u0026#34;: \u0026#34;2025-10-11T15:04:27.466987\u0026#34; } æˆ‘ä»¬å°±å½“ä»–æ²¡åˆ†ç‰‡è¿™ä¸ªåŠŸèƒ½å¥½å§\nphase4 å¥½çš„å¥½çš„ï¼Œç»ˆäºå®Œæˆäº†å¤§éƒ¨åˆ†å‰ç½®å·¥ä½œï¼Œç°åœ¨æ­£å¼è¿›å…¥ä»£ç è§„åˆ’çš„æ™ºèƒ½ä½“\nå’±ä»¬è¿›æ¥çœ‹await orchestrate_code_planning_agent(dir_info, logger, progress_callback)\nè€æ ·å­å…ˆæ¥çœ‹ä¸‹æ³¨é‡Šï¼š\n1 2 3 Orchestrate intelligent code planning with automated design analysis. This agent autonomously generates optimal code reproduction plans and implementation strategies using AI-driven code analysis and planning principles. ç¿»è¯‘ï¼š\n1 2 3 é€šè¿‡è‡ªåŠ¨åŒ–è®¾è®¡åˆ†æï¼Œç»Ÿç­¹æ™ºèƒ½åŒ–ä»£ç è§„åˆ’ã€‚ è¯¥æ™ºèƒ½ä½“åˆ©ç”¨ AI é©±åŠ¨çš„ä»£ç åˆ†æä¸è§„åˆ’åŸç†ï¼Œè‡ªä¸»ç”Ÿæˆæœ€ä¼˜çš„ä»£ç å¤ç°æ–¹æ¡ˆåŠå®æ–½ç­–ç•¥ã€‚ å¥½ï¼Œè¿™é‡Œé¦–å…ˆæ ‡è®°ä¸Šplanæ–‡ä»¶ï¼Œå¦‚æœè¿™ä¸ªæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå»è·‘ä¸€ä¸ªå«run_code_analyzerçš„å‡½æ•°ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ª\nè¿™ä¸ªå‡½æ•°çš„æ³¨é‡Šå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 Run the adaptive code analysis workflow using multiple agents for comprehensive code planning. This function orchestrates three specialized agents with adaptive configuration: - ConceptAnalysisAgent: Analyzes system architecture and conceptual framework - AlgorithmAnalysisAgent: Extracts algorithms, formulas, and technical details - CodePlannerAgent: Integrates outputs into a comprehensive implementation plan ç¿»è¯‘ï¼š\n1 2 3 4 5 6 7 è¿è¡Œè‡ªé€‚åº”ä»£ç åˆ†æå·¥ä½œæµï¼Œé€šè¿‡å¤šæ™ºèƒ½ä½“ååŒè¿›è¡Œå…¨é¢çš„ä»£ç è§„åˆ’ã€‚ è¯¥å‡½æ•°é€šè¿‡è‡ªé€‚åº”é…ç½®åè°ƒä¸‰ä¸ªä¸“ä¸šæ™ºèƒ½ä½“ï¼š ConceptAnalysisAgentï¼ˆæ¦‚å¿µåˆ†ææ™ºèƒ½ä½“ï¼‰ï¼šåˆ†æç³»ç»Ÿæ¶æ„ä¸æ¦‚å¿µæ¡†æ¶ã€‚ AlgorithmAnalysisAgentï¼ˆç®—æ³•åˆ†ææ™ºèƒ½ä½“ï¼‰ï¼šæå–ç®—æ³•ã€å…¬å¼åŠæŠ€æœ¯ç»†èŠ‚ã€‚ CodePlannerAgentï¼ˆä»£ç è§„åˆ’æ™ºèƒ½ä½“ï¼‰ï¼šå°†è¾“å‡ºå†…å®¹æ•´åˆä¸ºå…¨é¢çš„å®ç°æ–¹æ¡ˆã€‚ é¦–å…ˆè¿™é‡Œé…ç½®äº†ä¸‰ä¸ªæ™ºèƒ½ä½“ï¼Œå…ˆè·å–å¿…è¦çš„é…ç½®\næˆ‘ä»¬ä¸€ä¸ªä¸ªçœ‹\n1 2 3 search_server_names = get_search_server_names() agent_config = get_adaptive_agent_config(use_segmentation, search_server_names) prompts = get_adaptive_prompts(use_segmentation) ç¬¬ä¸€ä¸ªé…ç½®ï¼Œå°±æ˜¯å»searchç”¨çš„mcpï¼Œé»˜è®¤çš„å°±æ˜¯braveï¼Œè¿™ä¸ªæ²¡ä»€ä¹ˆå¥½åœ¨æ„çš„\nç¬¬äºŒä¸ªå»é…ç½®ä¸åŒçš„agentï¼Œæˆ‘ä»¬è¿›æ¥çœ‹get_adaptive_agent_config\nè¯¶è¿™é‡Œå¾ˆå¥‡æ€ªï¼Œ\n1 2 3 4 5 config = { \u0026#34;concept_analysis\u0026#34;: [], \u0026#34;algorithm_analysis\u0026#34;: search_server_names.copy(), \u0026#34;code_planner\u0026#34;: search_server_names.copy(), } åŸºç¡€è®¾ç½®æ˜¯ï¼Œconcept_analysisæ˜¯ç©ºï¼Œalgorithm_analysiså’Œcode_planneréƒ½æœ‰æœç´¢mcp\nç„¶åç»™è¿™ä¸‰ä¸ªagentéƒ½åˆ†é…äº†document-segmentationä¹Ÿå°±æ˜¯åˆ†ç‰‡ç”¨çš„mcpï¼Œé‡Œé¢æœ‰read_document_segmentså’Œget_document_overviewä¸¤ä¸ªå·¥å…·åº”è¯¥æ˜¯èƒ½ç”¨åˆ°çš„\nç„¶åå°±æ˜¯è·å–é€‚é…çš„æç¤ºè¯ï¼šget_adaptive_prompts\næœ€ç»ˆè·å–åˆ°çš„æç¤ºè¯å¦‚ä¸‹ï¼š\n1 2 3 4 5 return { \u0026#34;concept_analysis\u0026#34;: PAPER_CONCEPT_ANALYSIS_PROMPT, \u0026#34;algorithm_analysis\u0026#34;: PAPER_ALGORITHM_ANALYSIS_PROMPT, \u0026#34;code_planning\u0026#34;: CODE_PLANNING_PROMPT, } æˆ‘ä»¬å…ˆæŠŠæ‰§è¡Œçš„æµç¨‹çœ‹ä¸€ä¸‹å†çœ‹æ¯ä¸€ä¸ªæç¤ºè¯ï¼Œå®šä¹‰äº†ä¸€ä¸ªå¤§çš„agent\n1 2 3 4 5 code_aggregator_agent = ParallelLLM( fan_in_agent=code_planner_agent, fan_out_agents=[concept_analysis_agent, algorithm_analysis_agent], llm_factory=get_preferred_llm_class(), ) çœ‹èµ·æ¥åƒæ˜¯æŠŠcode_planner_agentçš„ç»“æœä¼ ç»™concept_analysis_agentå’Œalgorithm_analysis_agentï¼Œå†æ±‡æ€»ç»“æœï¼Œæ€»ä¹‹æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ParallelLLM\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 LLMs can sometimes work simultaneously on a task (fan-out) and have their outputs aggregated programmatically (fan-in). This workflow performs both the fan-out and fan-in operations using LLMs. From the user\u0026#39;s perspective, an input is specified and the output is returned. When to use this workflow: Parallelization is effective when the divided subtasks can be parallelized for speed (sectioning), or when multiple perspectives or attempts are needed for higher confidence results (voting). Examples: Sectioning: - Implementing guardrails where one model instance processes user queries while another screens them for inappropriate content or requests. - Automating evals for evaluating LLM performance, where each LLM call evaluates a different aspect of the modelâ€™s performance on a given prompt. Voting: - Reviewing a piece of code for vulnerabilities, where several different agents review and flag the code if they find a problem. - Evaluating whether a given piece of content is inappropriate, with multiple agents evaluating different aspects or requiring different vote thresholds to balance false positives and negatives. ç¿»è¯‘ä¸ºï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 LLM æœ‰æ—¶å¯ä»¥åŒæ—¶å¤„ç†å¤šé¡¹ä»»åŠ¡ï¼ˆæ‰‡å‡º/fan-outï¼‰ï¼Œå¹¶ä»¥ç¼–ç¨‹æ–¹å¼æ±‡æ€»å…¶è¾“å‡ºç»“æœï¼ˆæ‰‡å…¥/fan-inï¼‰ã€‚æ­¤å·¥ä½œæµåˆ©ç”¨ LLM åŒæ—¶æ‰§è¡Œæ‰‡å‡ºå’Œæ‰‡å…¥æ“ä½œã€‚ä»ç”¨æˆ·çš„è§’åº¦æ¥çœ‹ï¼Œåªéœ€æŒ‡å®šè¾“å…¥ï¼Œå³å¯è·å¾—è¿”å›çš„è¾“å‡ºç»“æœã€‚ ä½•æ—¶ä½¿ç”¨æ­¤å·¥ä½œæµï¼š å½“æ‹†åˆ†åçš„å­ä»»åŠ¡å¯ä»¥ä¸ºäº†æé«˜é€Ÿåº¦è€Œå¹¶è¡Œå¤„ç†ï¼ˆåˆ†æ®µæ¨¡å¼ï¼‰ï¼Œæˆ–è€…å½“éœ€è¦å¤šä¸ªè§†è§’/å°è¯•ä»¥è·å¾—æ›´é«˜ç½®ä¿¡åº¦çš„ç»“æœï¼ˆæŠ•ç¥¨æ¨¡å¼ï¼‰æ—¶ï¼Œå¹¶è¡ŒåŒ–æ–¹æ¡ˆéå¸¸æœ‰æ•ˆã€‚ åº”ç”¨ç¤ºä¾‹ï¼š 1. åˆ†æ®µæ¨¡å¼ (Sectioning): å®æ–½æŠ¤æ  (Guardrails)ï¼š ä¸€ä¸ªæ¨¡å‹å®ä¾‹å¤„ç†ç”¨æˆ·æŸ¥è¯¢ï¼Œè€Œå¦ä¸€ä¸ªå®ä¾‹åŒæ—¶ç­›é€‰å…¶ä¸­æ˜¯å¦åŒ…å«ä¸å½“å†…å®¹æˆ–è¿è§„è¯·æ±‚ã€‚ è‡ªåŠ¨åŒ–è¯„ä¼° (Evals)ï¼š åœ¨è¯„ä¼° LLM æ€§èƒ½æ—¶ï¼Œé€šè¿‡å¤šä¸ª LLM è°ƒç”¨åˆ†åˆ«è¯„ä¼°æ¨¡å‹åœ¨ç‰¹å®šæç¤ºè¯ä¸‹ä¸åŒç»´åº¦çš„è¡¨ç°ã€‚ 2. æŠ•ç¥¨æ¨¡å¼ (Voting): ä»£ç æ¼æ´å®¡æŸ¥ï¼š å¤šä¸ªä¸åŒçš„æ™ºèƒ½ä½“ï¼ˆAgentï¼‰å…±åŒå®¡æŸ¥ä¸€æ®µä»£ç ï¼Œåªè¦å‘ç°é—®é¢˜å°±è¿›è¡Œæ ‡è®°ã€‚ å†…å®¹åˆè§„æ€§è¯„ä¼°ï¼š å¤šä¸ªæ™ºèƒ½ä½“ä»ä¸åŒç»´åº¦è¯„ä¼°å†…å®¹æ˜¯å¦è¿è§„ï¼Œå¹¶é€šè¿‡è®¾ç½®ä¸åŒçš„æŠ•ç¥¨é˜ˆå€¼ï¼Œæ¥å¹³è¡¡è¯¯æŠ¥ç‡ï¼ˆFalse Positivesï¼‰å’Œæ¼æŠ¥ç‡ï¼ˆNegativeï¼‰ã€‚ ç„¶åæ¥çœ‹ä¸€ä¸‹ç”¨åˆ°çš„ï¼šgenerate\nç„¶åå°±å‘ç°æˆ‘ä»¬åˆšåˆšçš„ç†è§£æœ‰æ­§ä¹‰ï¼Œå…¶å®æ˜¯æŠŠfan_outçš„ä¿¡æ¯äº¤ç»™fan_inæ±‡æ€»\nå¥½çš„ï¼ŒParallelLLMæˆ‘ä»¬äº†è§£äº†ï¼Œè¿™é‡Œçš„å†™æ³•å¹¶ä¸éš¾ç†è§£ï¼Œå¤§å®¶æ„Ÿå…´è¶£å¯ä»¥è‡ªå·±ç‚¹è¿›å»çœ‹\né‚£è¿™é‡Œç›¸å½“äºæ˜¯å…ˆè·‘concept_analysiså’Œalgorithm_analysisï¼Œç„¶åæŠŠç»“æœç»™code_planningæ±‡æ€»å‡ºæ¥ã€‚\nå¥½ï¼Œäº†è§£äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªç”¨çœ‹è¿™ä¸‰ä¸ªagentçš„æç¤ºè¯å’Œä¼ å…¥çš„messageå°±è§£å†³è¿™ä¸ªphaseäº†\nconcept_analysis æç¤ºè¯ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 You are doing a COMPREHENSIVE analysis of a research paper to understand its complete structure, contributions, and implementation requirements. # OBJECTIVE Map out the ENTIRE paper structure and identify ALL components that need implementation for successful reproduction. # INTELLIGENT DOCUMENT READING STRATEGY ## IMPORTANT: Use Segmented Reading for Optimal Performance Instead of reading the entire document at once (which may hit token limits), use the intelligent segmentation system: 1. **Use read_document_segments tool** with these parameters: - query_type: \u0026#34;concept_analysis\u0026#34; - keywords: [\u0026#34;introduction\u0026#34;, \u0026#34;overview\u0026#34;, \u0026#34;architecture\u0026#34;, \u0026#34;system\u0026#34;, \u0026#34;framework\u0026#34;, \u0026#34;concept\u0026#34;, \u0026#34;method\u0026#34;] - max_segments: 3 - max_total_chars: 6000 2. **This will automatically find and retrieve** the most relevant sections for concept analysis without token overflow 3. **If you need additional sections**, make follow-up calls with different keywords like [\u0026#34;experiment\u0026#34;, \u0026#34;evaluation\u0026#34;, \u0026#34;results\u0026#34;] or [\u0026#34;conclusion\u0026#34;, \u0026#34;discussion\u0026#34;] # COMPREHENSIVE ANALYSIS PROTOCOL ## 1. INTELLIGENT PAPER STRUCTURAL ANALYSIS Use the segmented reading approach to create a complete map: paper_structure_map: title: \u0026#34;[Full paper title]\u0026#34; sections: 1_introduction: main_claims: \u0026#34;[What the paper claims to achieve]\u0026#34; problem_definition: \u0026#34;[Exact problem being solved]\u0026#34; 2_related_work: key_comparisons: \u0026#34;[Methods this work builds upon or competes with]\u0026#34; 3_method: # May have multiple subsections subsections: 3.1: \u0026#34;[Title and main content]\u0026#34; 3.2: \u0026#34;[Title and main content]\u0026#34; algorithms_presented: \u0026#34;[List all algorithms by name]\u0026#34; 4_experiments: environments: \u0026#34;[All test environments/datasets]\u0026#34; baselines: \u0026#34;[All comparison methods]\u0026#34; metrics: \u0026#34;[All evaluation metrics used]\u0026#34; 5_results: main_findings: \u0026#34;[Key results that prove the method works]\u0026#34; tables_figures: \u0026#34;[Important result tables/figures to reproduce]\u0026#34; ## 2. METHOD DECOMPOSITION For the main method/approach: method_decomposition: method_name: \u0026#34;[Full name and acronym]\u0026#34; core_components: # Break down into implementable pieces component_1: name: \u0026#34;[e.g., State Importance Estimator]\u0026#34; purpose: \u0026#34;[Why this component exists]\u0026#34; paper_section: \u0026#34;[Where it\u0026#39;s described]\u0026#34; component_2: name: \u0026#34;[e.g., Policy Refinement Module]\u0026#34; purpose: \u0026#34;[Its role in the system]\u0026#34; paper_section: \u0026#34;[Where it\u0026#39;s described]\u0026#34; component_interactions: - \u0026#34;[How component 1 feeds into component 2]\u0026#34; - \u0026#34;[Data flow between components]\u0026#34; theoretical_foundation: key_insight: \u0026#34;[The main theoretical insight]\u0026#34; why_it_works: \u0026#34;[Intuitive explanation]\u0026#34; ## 3. IMPLEMENTATION REQUIREMENTS MAPPING Map paper content to code requirements: implementation_map: algorithms_to_implement: - algorithm: \u0026#34;[Name from paper]\u0026#34; section: \u0026#34;[Where defined]\u0026#34; complexity: \u0026#34;[Simple/Medium/Complex]\u0026#34; dependencies: \u0026#34;[What it needs to work]\u0026#34; models_to_build: - model: \u0026#34;[Neural network or other model]\u0026#34; architecture_location: \u0026#34;[Section describing it]\u0026#34; purpose: \u0026#34;[What this model does]\u0026#34; data_processing: - pipeline: \u0026#34;[Data preprocessing needed]\u0026#34; requirements: \u0026#34;[What the data should look like]\u0026#34; evaluation_suite: - metric: \u0026#34;[Metric name]\u0026#34; formula_location: \u0026#34;[Where it\u0026#39;s defined]\u0026#34; purpose: \u0026#34;[What it measures]\u0026#34; ## 4. EXPERIMENT REPRODUCTION PLAN Identify ALL experiments needed: experiments_analysis: main_results: - experiment: \u0026#34;[Name/description]\u0026#34; proves: \u0026#34;[What claim this validates]\u0026#34; requires: \u0026#34;[Components needed to run this]\u0026#34; expected_outcome: \u0026#34;[Specific numbers/trends]\u0026#34; ablation_studies: - study: \u0026#34;[What is being ablated]\u0026#34; purpose: \u0026#34;[What this demonstrates]\u0026#34; baseline_comparisons: - baseline: \u0026#34;[Method name]\u0026#34; implementation_required: \u0026#34;[Yes/No/Partial]\u0026#34; source: \u0026#34;[Where to find implementation]\u0026#34; ## 5. CRITICAL SUCCESS FACTORS What defines successful reproduction: success_criteria: must_achieve: - \u0026#34;[Primary result that must be reproduced]\u0026#34; - \u0026#34;[Core behavior that must be demonstrated]\u0026#34; should_achieve: - \u0026#34;[Secondary results that validate the method]\u0026#34; validation_evidence: - \u0026#34;[Specific figure/table to reproduce]\u0026#34; - \u0026#34;[Qualitative behavior to demonstrate]\u0026#34; # OUTPUT FORMAT comprehensive_paper_analysis: executive_summary: paper_title: \u0026#34;[Full title]\u0026#34; core_contribution: \u0026#34;[One sentence summary]\u0026#34; implementation_complexity: \u0026#34;[Low/Medium/High]\u0026#34; estimated_components: \u0026#34;[Number of major components to build]\u0026#34; complete_structure_map: [FULL SECTION BREAKDOWN AS ABOVE] method_architecture: [DETAILED COMPONENT BREAKDOWN] implementation_requirements: [ALL ALGORITHMS, MODELS, DATA, METRICS] reproduction_roadmap: phase_1: \u0026#34;[What to implement first]\u0026#34; phase_2: \u0026#34;[What to build next]\u0026#34; phase_3: \u0026#34;[Final components and validation]\u0026#34; validation_checklist: - \u0026#34;[ ] [Specific result to achieve]\u0026#34; - \u0026#34;[ ] [Behavior to demonstrate]\u0026#34; - \u0026#34;[ ] [Metric to match]\u0026#34; BE THOROUGH. Miss nothing. The output should be a complete blueprint for reproduction. ç¿»è¯‘ä¸æ”¾äº†ï¼Œå¤§å®¶å“ªé‡Œçœ‹ä¸æ‡‚è‡ªå·±ç¿»è¯‘å§ï¼Œä¸‹é¢æˆ‘ä»¬æ¥è§£æè¿™æ®µæç¤ºè¯\né¦–å…ˆæ˜¯ç»å…¸èº«ä»½è®¾å®šï¼šYou are doing a COMPREHENSIVE analysis of a research paper to understand its complete structure, contributions, and implementation requirements.\nè¯´æ˜ç™½äº†æ­£åœ¨å¹²å—ï¼Œè¦äº†è§£è®ºæ–‡çš„ç»“æ„ã€è´¡çŒ®å’Œå®æ–½è¦æ±‚\nç„¶åæ˜¯è¯´äº†æœ€åè¦è¾“å‡ºçš„ç»“æœï¼š\nç»˜åˆ¶å‡ºæ•´ä¸ªè®ºæ–‡ç»“æ„å¹¶ç¡®å®šæˆåŠŸå¤åˆ¶æ‰€éœ€å®æ–½çš„æ‰€æœ‰ç»„ä»¶ã€‚\næ¥ä¸‹æ¥æœ‰ä¸‰ä¸ªéƒ¨åˆ†ï¼šINTELLIGENT DOCUMENT READING STRATEGYï¼ˆæŒ‡å¯¼agentæ€ä¹ˆè¯»æ–‡ç« ï¼‰ã€COMPREHENSIVE ANALYSIS PROTOCOLï¼ˆç”¨æ¥åˆ†æçš„å·¥ä½œæµï¼‰å’ŒOUTPUT FORMATï¼ˆè¾“å‡ºæ ¼å¼ï¼‰\nINTELLIGENT DOCUMENT READING STRATEGY å¥½çš„ï¼Œè¿™ä¸ªå·¥ä½œæµæŒ‡å¯¼agentæ€ä¹ˆå»ç”¨å·¥å…·è¯»åˆ†å—ï¼Œå¹¶ä¸”æŒ‡å¯¼agentæ€ä¹ˆå¾ªç¯åˆ†æï¼Œè¿™ä¸ªå¾ˆæœ‰æ„æ€ï¼ŒæŠŠæ‰€æœ‰å†³ç­–æƒäº¤ç»™llmï¼Œå¦‚æœæ˜¯æˆ‘çš„è¯å¯èƒ½ä¼šç”¨å›ºå®šçš„workflowæ¥åšæ•´ä¸ªè¿‡ç¨‹\nCOMPREHENSIVE ANALYSIS PROTOCOL ç¬¬ä¸€æ­¥ï¼Œç”¨åˆšåˆšæ•™çš„æ–¹æ³•å»åˆ†å—è¯»ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªyamlè®°å½•ä¿¡æ¯ï¼Œè¿™é‡Œè¿˜æ˜¯ç»“æ„åŒ–æŒ‡å¯¼ï¼ˆè™½ç„¶åªç”¨äºå†…éƒ¨ä¼ å¯¼ï¼‰å…¶å®ä¹Ÿæ˜¯ä¸€ç§é˜²è ¢ï¼Œä»¥å…aiæ¼ä¿¡æ¯ç­‰ç­‰ã€‚çœ‹ä¸€ä¸‹è¿™ä¸ªyml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 ```yaml paper_structure_map: title: \u0026#34;[Full paper title]\u0026#34; sections: 1_introduction: main_claims: \u0026#34;[What the paper claims to achieve]\u0026#34; problem_definition: \u0026#34;[Exact problem being solved]\u0026#34; 2_related_work: key_comparisons: \u0026#34;[Methods this work builds upon or competes with]\u0026#34; 3_method: # May have multiple subsections subsections: 3.1: \u0026#34;[Title and main content]\u0026#34; 3.2: \u0026#34;[Title and main content]\u0026#34; algorithms_presented: \u0026#34;[List all algorithms by name]\u0026#34; 4_experiments: environments: \u0026#34;[All test environments/datasets]\u0026#34; baselines: \u0026#34;[All comparison methods]\u0026#34; metrics: \u0026#34;[All evaluation metrics used]\u0026#34; 5_results: main_findings: \u0026#34;[Key results that prove the method works]\u0026#34; tables_figures: \u0026#34;[Important result tables/figures to reproduce]\u0026#34; ç¬¬äºŒæ­¥å¯¹æ–¹æ³•åˆ†è§£ï¼Œè¿™ä¸€å—æˆ‘ä¸å¤ªæ‡‚ï¼ˆå› ä¸ºæˆ‘ä¸æå­¦æœ¯ä¹Ÿä¸çœ‹è®ºæ–‡ï¼‰\nç¬¬ä¸‰æ­¥å°±æ˜¯ç¡®å®šå…·ä½“è¦å®ç°å“ªäº›ä¸œè¥¿\nç¬¬å››æ­¥æ˜¯é‡ç°è®¡åˆ’ï¼Œç¬¬äº”éƒ¨æ˜¯éªŒè¯æˆåŠŸçš„éœ€è¦ï¼Œè¾“å‡ºå°±æ˜¯ä¸Šé¢çš„æ±‡æ€»\nå¯ä»¥çœ‹åˆ°æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„æç¤ºè¯ç»“æ„ï¼Œæœ‰å®šä¹‰ï¼Œæœ‰å·¥å…·ä½¿ç”¨è¯´æ˜ï¼Œæœ‰æ‰§è¡Œæµç¨‹\nalgorithm_analysis æç¤ºè¯æˆ‘ä¸ç²˜è´´äº†ï¼Œå¤§å®¶åˆšåˆšä¹Ÿçœ‹åˆ°æ€ä¹ˆå»æ‰¾æç¤ºè¯äº†ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªæç¤ºè¯\nè¿™ä¸ªæç¤ºè¯è·Ÿåˆšåˆšåˆ†æçš„é‚£ä¸ªç»“æ„éå¸¸ç›¸ä¼¼ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±åˆ†æåˆ†æï¼Œæœ‰ä¸æ‡‚çš„æ¬¢è¿æ¥æ‰¾æˆ‘è®¨è®ºï¼Œæœ€ç»ˆè¿™ä¸ªagentçš„ç›®çš„æ˜¯ä¸ºäº†åˆ†æç”¨åˆ°çš„ç®—æ³•å’Œå…¬å¼\ncode_planning å¥½ï¼Œæ¥çœ‹ä¸€ä¸‹è®¡åˆ’è§„åˆ’agentï¼Œè¿™ä¸ªå¾ˆé‡è¦ï¼Œmdè¿™ä¸ªæç¤ºè¯ä¹Ÿç‰¹åˆ«é•¿ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼ˆè¿™ä¸‹çŸ¥é“ä¸ºå•¥è¿™äº›å·¥å…·è¿™ä¹ˆçƒ§tokenäº†å§ï¼‰\né¦–å…ˆè¯´æ˜èƒŒæ™¯ï¼Œé€šè¿‡åˆ†ææ¥åˆ¶å®šå¯ä»¥å¤åˆ»çš„è®¡åˆ’ï¼Œæ¥ä¸‹æ¥åˆ†ä¸ºï¼šINPUTï¼ˆè¯´æ˜è¾“å…¥æ ¼å¼ï¼‰ã€INTELLIGENT DOCUMENT ACCESSï¼ˆæ™ºèƒ½æ–‡æ¡£è®¿é—®ï¼‰ã€OBJECTIVEï¼ˆæœ€ç»ˆè¦å®ç°çš„ç›®æ ‡ï¼‰ã€CONTENT LENGTH CONTROLï¼ˆç”Ÿæˆå†…å®¹å’Œé•¿åº¦è¯´æ˜ï¼‰ã€DETAILED SYNTHESIS PROCESSï¼ˆå…·ä½“çš„æ‰§è¡Œæ–¹å¼ï¼Œä¹Ÿå°±æ˜¯workflowï¼‰ã€COMPREHENSIVE OUTPUT FORMATï¼ˆæœ€ç»ˆçš„è¾“å‡ºæ ¼å¼ï¼‰\nINPUT è¯´æ˜äº†ä¸€ä¸‹ä¼ è¿›æ¥çš„åˆ†ææœ‰ä¸¤ä¸ªï¼Œä¹Ÿå°±æ˜¯ä»‹ç»äº†ä¸€ä¸‹åˆšåˆšè¿›è¡Œçš„ä¸¤ä¸ªå·¥ä½œ\nINTELLIGENT DOCUMENT ACCESS è¯´æ˜äº†æ€ä¹ˆç”¨mcpå»è¯»åˆ†ç‰‡\nOBJECTIVE æœ€ç»ˆè¦å®ç°çš„ç›®æ ‡ï¼Œåˆ›å»ºä¸€ä¸ªå¦‚æ­¤è¯¦ç»†çš„å®æ–½è®¡åˆ’ï¼Œä»¥ä¾¿å¼€å‘äººå‘˜å¯ä»¥åœ¨ä¸é˜…è¯»æ•´ç¯‡è®ºæ–‡çš„æƒ…å†µä¸‹å¤åˆ¶å®ƒã€‚\nCONTENT LENGTH CONTROL è¯´æ˜äº†è¦åˆ›å»ºå“ªå‡ ä¸ªæ–‡ä»¶éƒ¨åˆ†ï¼Œå’Œæ¯ä¸ªéƒ¨åˆ†çš„å¤§æ¦‚å æ¯”\nåˆ›å»ºæ–‡ä»¶ç»“æ„ï¼Œä¸€å®šè¦å®Œæ•´ å®ç°ç»„ä»¶ï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰ æœ€ç»ˆçš„éªŒè¯ æ‰€æœ‰éœ€è¦çš„ä¾èµ–ï¼ˆæŒ‡å¼€å‘ç¯å¢ƒçš„ï¼‰ ä¸€æ­¥ä¸€æ­¥çš„å®ç°ç»†èŠ‚ ç„¶åè¯´æ˜äº†ä¸€ä¸‹å®ç°æ­¥éª¤ï¼Œå…ˆç®—æ³•æ–‡ä»¶ï¼Œç„¶åæ˜¯å·¥å…·ç±»ï¼Œç„¶åæ˜¯æµ‹è¯•è„šæœ¬ï¼Œç„¶åæ˜¯é…ç½®å’Œæ•°æ®å¤„ç†ï¼Œç„¶åæ‰æ˜¯è¯´æ˜æ–‡æ¡£ï¼Œç„¶åè¯´æ˜äº†è¦åŒ…å«READMEå’Œrequirements.txtï¼ˆå†™è®ºæ–‡çš„å–œæ¬¢ç”¨pythonå®ç°ï¼Œæ‰€ä»¥è¯¥å·¥å…·å°±æ˜¯ä¸“æ³¨äºç”Ÿæˆpythonä»£ç ï¼‰\nDETAILED SYNTHESIS PROCESS è¯´æ˜äº†è¦åˆå¹¶å¾—åˆ°çš„æ‰€æœ‰ä¿¡æ¯ï¼Œç„¶åè¯´äº†ä¸€ä¸‹å“ªäº› ç„¶åè¦æŠŠå¾—åˆ°çš„ä¿¡æ¯å˜æˆå®ç° æŠ€æœ¯æå–çš„æ–¹æ³• COMPREHENSIVE OUTPUT FORMAT è¾“å‡ºæ ¼å¼ï¼Œå¤§å®¶è‡ªå·±çœ‹å§ï¼Œå°±æ˜¯æŠŠä¸Šé¢å¾—åˆ°çš„ç»“æœæ±‡æ€»è¾“å‡º\nå¥½çš„ï¼Œæ¼«é•¿çš„phase4ç»“æŸäº†ï¼Œæœ€ç»ˆå¾—åˆ°çš„ç»“æœä¿å­˜åˆ°äº†initial_plan.txt\nphase 5 è¯¥é˜¶æ®µå« Reference Intelligenceï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å®ƒæ˜¯æ€ä¹ˆåšçš„ï¼Œæ¥è¿›æ¥çœ‹çœ‹è¿™ä¸ªå‡½æ•°ï¼Œæ³¨é‡Šæ˜¯ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 Orchestrate intelligent reference analysis with automated research discovery. This agent autonomously processes research references and discovers related work using advanced AI-powered analysis algorithms. Args: dir_info: Workspace infrastructure metadata logger: Logger instance for intelligence tracking progress_callback: Progress callback function for monitoring Returns: str: Comprehensive reference intelligence analysis result ç¿»è¯‘ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 æ­¤æ™ºèƒ½ä»£ç†ï¼ˆAgentï¼‰åˆ©ç”¨å…ˆè¿›çš„ AI åˆ†æç®—æ³•ï¼Œè‡ªä¸»å¤„ç†ç ”ç©¶æ–‡çŒ®å¹¶æ¢ç´¢ç›¸å…³å·¥ä½œã€‚ å‚æ•° (Args): dir_info: å·¥ä½œåŒºåŸºç¡€è®¾æ–½å…ƒæ•°æ® logger: ç”¨äºæ™ºèƒ½è·Ÿè¸ªçš„æ—¥å¿—è®°å½•å™¨å®ä¾‹ progress_callback: ç”¨äºè¿›åº¦ç›‘æ§çš„å›è°ƒå‡½æ•° è¿”å›å€¼ (Returns): str: è¯¦å°½çš„æ–‡çŒ®æ™ºèƒ½åˆ†æç»“æœ å‘ƒå‘ƒå‘ƒä¸ç®¡æ€ä¹ˆçœ‹ï¼Œéƒ½è§‰å¾—è¿™ä¸ªè¯´çš„å¾ˆé‚ªä¹å§ï¼Œæ€»ä¹‹è®©æˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹\né¦–å…ˆcheckäº†ä¸€ä¸‹ä¹‹å‰æœ‰æ²¡æœ‰åˆ›å»ºè¿‡è¿™ä¸ªæ–‡ä»¶ï¼Œæœ€æ ¸å¿ƒçš„æ˜¯ä¸‹é¢çš„å†…å®¹ï¼š\n1 reference_result = await paper_reference_analyzer(dir_info[\u0026#34;paper_dir\u0026#34;], logger) è®©æˆ‘ä»¬è¿›æ¥çœ‹çœ‹paper_reference_analyzer\nè¿™ä¸ªå‡½æ•°çš„æ³¨é‡Šæ˜¯ï¼šRun the paper reference analysis and GitHub repository workflow.\nç¿»è¯‘ä¸€ä¸‹ï¼šè¿è¡Œè®ºæ–‡æ–‡çŒ®åˆ†æä¸ GitHub ä»“åº“å·¥ä½œæµã€‚\né¹…æˆ‘å‹‰å¼ºçŒœä¸€ä¸‹ï¼Œå¯èƒ½æ˜¯è·å–è®ºæ–‡å†…å®¹é‡Œçš„githubä»“åº“ï¼Œå¹¶åˆ†æï¼Ÿæ€»ä¹‹æˆ‘ä»¬ç»§ç»­çœ‹\nç„¶åä¸‹é¢å°±æ˜¯æ–°å»ºä¸€ä¸ªAgentå¼€å§‹è·‘äº†ç…§ä¾‹å…ˆçœ‹ä»–çš„prompt\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 You are an expert academic paper reference analyzer specializing in computer science and machine learning. Task: Analyze paper and identify 5 most relevant references that have GitHub repositories. Constraints: - ONLY select references with GitHub repositories - DO NOT use target paper\u0026#39;s official implementation - DO NOT use repositories directly associated with target paper - CAN analyze code implementations from referenced papers - Focus on references with good implementations solving similar problems Analysis Criteria: 1. GitHub Repository Quality (40%): - Star count, activity, maintenance - Documentation quality - Community adoption - Last update date 2. Implementation Relevance (30%): - References from methodology/implementation sections - Algorithmic details - Core component descriptions - Code implementation quality 3. Technical Depth (20%): - Algorithm/method similarity - Technical foundation relationship - Implementation details - Code structure 4. Academic Influence (10%): - Publication venue quality - Author expertise - Research impact - Citation influence Analysis Steps: 1. Extract all references from paper 2. Filter references with GitHub repositories 3. Analyze repositories based on criteria 4. Calculate relevance scores 5. Select and rank top 5 references Output Format: { \u0026#34;selected_references\u0026#34;: [ { \u0026#34;rank\u0026#34;: 1, \u0026#34;title\u0026#34;: \u0026#34;paper title\u0026#34;, \u0026#34;authors\u0026#34;: [\u0026#34;author1\u0026#34;, \u0026#34;author2\u0026#34;], \u0026#34;year\u0026#34;: \u0026#34;publication year\u0026#34;, \u0026#34;relevance_score\u0026#34;: 0.95, \u0026#34;citation_context\u0026#34;: \u0026#34;how cited in main paper\u0026#34;, \u0026#34;key_contributions\u0026#34;: [\u0026#34;contribution1\u0026#34;, \u0026#34;contribution2\u0026#34;], \u0026#34;implementation_value\u0026#34;: \u0026#34;why valuable for implementation\u0026#34;, \u0026#34;github_info\u0026#34;: { \u0026#34;repository_url\u0026#34;: \u0026#34;GitHub repository URL\u0026#34;, \u0026#34;stars_count\u0026#34;: \u0026#34;number of stars\u0026#34;, \u0026#34;last_updated\u0026#34;: \u0026#34;last update date\u0026#34;, \u0026#34;repository_quality\u0026#34;: \u0026#34;repository quality assessment\u0026#34;, \u0026#34;key_features\u0026#34;: [\u0026#34;feature1\u0026#34;, \u0026#34;feature2\u0026#34;], \u0026#34;documentation_quality\u0026#34;: \u0026#34;documentation assessment\u0026#34;, \u0026#34;community_activity\u0026#34;: \u0026#34;community engagement description\u0026#34; }, \u0026#34;original_reference\u0026#34;: \u0026#34;Complete reference text from paper\u0026#34; } ], \u0026#34;analysis_summary\u0026#34;: \u0026#34;selection process and key findings\u0026#34;, \u0026#34;github_repositories_found\u0026#34;: \u0026#34;total number of references with GitHub repositories\u0026#34; } é¦–å…ˆä»ç„¶æ˜¯äººè®¾å®šä¹‰ï¼šæ‚¨æ˜¯ä¸€ä½ä¸“é—¨ä»äº‹è®¡ç®—æœºç§‘å­¦å’Œæœºå™¨å­¦ä¹ çš„å­¦æœ¯è®ºæ–‡å‚è€ƒåˆ†æä¸“å®¶ã€‚\nå†™åˆ°è¿™é‡Œçªç„¶æƒ³èŠä¸€ä¸‹äººè®¾çš„é—®é¢˜ï¼Œæœ€è¿‘çœ‹äº†ä¸å°‘æ–‡ç« éƒ½è¯´è§‰å¾—äººè®¾æ²¡æœ‰ç”¨ï¼Œåªä¼šç™½ç™½æ¶ˆè€—tokensï¼Œbtwæˆ‘è§‰å¾—è‡³å°‘ä¼šç»™agentæŒ‡å¼•å·¥ä½œçš„æ–¹å‘\nç„¶åæ˜¯ä»»åŠ¡ï¼šåˆ†æè®ºæ–‡å¹¶ç¡®å®š 5 ä¸ªå…·æœ‰ GitHub å­˜å‚¨åº“çš„æœ€ç›¸å…³å‚è€ƒæ–‡çŒ®ã€‚\nç„¶åæ˜¯ä¸€äº›é™åˆ¶ï¼Œå¤§æ¦‚å°±æ˜¯ä¸è¦ç›´æ¥ç”¨åŸæ–‡ä¸­çš„githubç­‰ç­‰\nç„¶åæ˜¯å››ä¸ªåˆ†ææ ‡å‡†ï¼š\ngithubä»“åº“çš„è´¨é‡è¦å¥½ï¼Œåˆ—äº†ä¸€äº›åˆ¤æ–­æŒ‡æ ‡ å’Œæœ¬è®ºæ–‡æœ‰å¤šç›¸å…³ æŠ€æœ¯æ·±åº¦ï¼Œæ¯”å¦‚ç®—æ³•çš„ç›¸ä¼¼æ€§å•¦ï¼Œå®ç°çš„ç»†èŠ‚å•¦ æœ€åæ˜¯å­¦æœ¯å½±å“åŠ› ç„¶åå°±æ˜¯åˆ†ææ­¥éª¤ï¼Œç„¶åå®šä¹‰äº†è¿”å›æ ¼å¼\næˆ‘ä»¬æ¥çœ‹çœ‹agentç”¨åˆ°çš„mcpï¼Œä¸€ä¸ªfilesystemå°±æ˜¯ç»™agentè¯»è®ºæ–‡å†…å®¹çš„ï¼Œä¸€ä¸ªfetchåº”è¯¥å°±æ˜¯è®©agentè®¿é—®githubä»“åº“çš„ï¼Œä¸è¿‡ä¸ªäººæ„Ÿè§‰è¿™æ ·æ•ˆæœä¼šæ¯”è¾ƒå·®ï¼Œagentæ›´å¤§å¯èƒ½æ˜¯ä»è‡ªå·±çš„è®­ç»ƒæ•°æ®ä¸­æ‰¾åˆ°åˆé€‚çš„ä»“åº“ï¼Œç„¶åç”¨fetchåˆ¤æ–­ï¼Œåº”è¯¥ç»™ä¸€ä¸ªç±»ä¼¼äºgithubæœç´¢çš„mcpæ¥è¾…åŠ©åˆ¤æ–­\næˆ‘ä»¬æ¥çœ‹ä¸‹å‘é€çš„å†…å®¹\n1 2 3 4 5 6 7 8 9 10 11 12 Analyze the research paper in directory: {paper_dir} Please locate and analyze the markdown (.md) file containing the research paper. **Focus specifically on the References/Bibliography section** to identify and analyze the 5 most relevant references that have GitHub repositories. Focus on: 1. **References section analysis** - Extract all citations from the References/Bibliography part 2. References with high-quality GitHub implementations 3. Papers cited for methodology, algorithms, or core techniques 4. Related work that shares similar technical approaches 5. Implementation references that could provide code patterns Goal: Find the most valuable GitHub repositories from the paper\u0026#39;s reference list for code implementation reference. é¦–å…ˆç»™äº†è·¯å¾„ï¼Œç„¶ååˆé‡å¤äº†ä¸‹ç›®æ ‡å’Œæ–¹æ³•ï¼Œè¯¥é˜¶æ®µæ¯”è¾ƒç®€å•ï¼Œåˆ°è¿™å°±ç»“æŸäº†\nphase 6 è¯¥é˜¶æ®µå«â€œRepository Acquisition Automationâ€ï¼Œä¹Ÿå°±æ˜¯è‡ªåŠ¨å»å¤„ç†githubä»“åº“ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªagent\nå…ˆçœ‹æ³¨é‡Šï¼š\n1 2 3 4 Automate intelligent repository acquisition with AI-guided selection. This agent autonomously identifies, evaluates, and acquires relevant repositories using intelligent filtering and automated download protocols. 1 2 3 é€šè¿‡ AI å¼•å¯¼çš„é€‰æ‹©ï¼Œå®ç°æ™ºèƒ½ä»“åº“è·å–çš„è‡ªåŠ¨åŒ–ã€‚ æ­¤æ™ºèƒ½ä»£ç†ï¼ˆAgentï¼‰åˆ©ç”¨æ™ºèƒ½ç­›é€‰å’Œè‡ªåŠ¨åŒ–ä¸‹è½½åè®®ï¼Œè‡ªä¸»è¯†åˆ«ã€è¯„ä¼°å¹¶è·å–ç›¸å…³çš„ä»£ç ä»“åº“ã€‚ é¦–å…ˆæ˜¯ä¸€ä¸ªä¸‹è½½ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ï¼šgithub_repo_download\nå‡½æ•°æ³¨é‡Šæ˜¯ï¼šâ€œDownload GitHub repositories based on search results.â€ï¼Œç„¶åæˆ‘å¾€ä¸‹ä¸€ä¸ªï¼Œå—¯ï¼Ÿè¿˜tmæ˜¯agentï¼Œè¯´å®è¯æ„Ÿè§‰è¿™ä¸ªé¡¹ç›®æœ‰ç‚¹è¿‡åº¦agentç‚«æŠ€äº†ï¼Œå¾ˆå¤šå¤„åœ°æ–¹æ˜æ˜ç”¨ä»£ç å®ç°ä¼šæ›´åŠ ç¨³å®š \u0026amp;\u0026amp; æ•ˆæœæ›´å¥½çš„ï¼Œä½†æ˜¯é¡¹ç›®ä½œè€…é€‰æ‹©å…¨éƒ¨ä½¿ç”¨agentå»å †å ï¼Œç”±äºè¿™æ˜¯ä¸ªå­¦æœ¯æ€§è´¨çš„é¡¹ç›®ï¼Œæˆ‘å§‘ä¸”ç†è§£ä»–å°±æ˜¯ä¸ºäº†ä½“ç°agentè¿™ä¸ªæŠ€æœ¯ï¼Œå¹¶ä¸”ä¸ç”¨å¤ªè€ƒè™‘tokenæ¶ˆè€—ï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šæˆ‘ä»¬ç»§ç»­çœ‹å§\nè¿™é‡Œå®ç°äº†ä¸€ä¸ªgithub_download_agentï¼Œæç¤ºè¯éå¸¸ç®€å•ï¼šâ€œDownload github repo to the directory {paper_dir}/code_baseâ€ï¼Œå°±æ˜¯æŠŠæ‰€æœ‰é¡¹ç›®ä¸‹è½½ä¸‹æ¥å‘—ï¼Œè¿™è¿˜è¦agentï¼Ÿï¼ˆbushiï¼Œæˆ‘çœŸæ²¡æœ‰è¯‹æ¯çš„æ„æ€ï¼‰\nmcpæ˜¯filesystemå’Œgithub-downloaderï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹github-downloaderæœ‰å“ªäº›å·¥å…·ï¼Œæ¥çœ‹tools/git_command.py\nä¸€å…±æœ‰ä¸‰ä¸ªå·¥å…·ï¼š\n","date":"2026-01-18T02:00:00Z","permalink":"https://dingdinglz.github.io/p/dinglz%E5%B8%A6%E4%BD%A0%E8%AF%BBdeepcode/","title":"dinglzå¸¦ä½ è¯»deepcode"},{"content":"å‰è¨€ æœ¬ç¯‡æ–‡ç« ä¸»è¦ç”¨æ¥è¯´æ˜å¦‚ä½•åœ¨macä¸Šè¿è¡Œç”±krkrå¼•æ“å¼€å‘çš„æ¸¸æˆ\nä¼—æ‰€å‘¨çŸ¥æŸšå­ç¤¾çš„æ¸¸æˆéƒ½æ˜¯ç”¨krkrå¼•æ“å¼€å‘çš„ï¼Œè€Œmacçš„å±å¹•å’ŒéŸ³å“è¿™ä¹ˆå¥½ä¸æ‹¿æ¥ç©æŸšå­ç¤¾çš„æ¸¸æˆçœŸæ˜¯æµªè´¹äº†\nå®‰è£… playcover playcoverç”¨æ¥ä¾§è½½å®‰è£…ipaæ–‡ä»¶ï¼Œç”¨å®ƒæ¥å®‰è£…krkræ¨¡æ‹Ÿå™¨\nè¿™é‡Œçš„å®‰è£…éå¸¸ç®€å•ï¼Œå°±ä¸å¤šè¯´äº†ï¼Œè¿›å…¥å®˜ç½‘ä¸‹è½½å®‰è£…å³å¯ï¼šhttps://playcover.io/\nä¸‹è½½ krkræ¨¡æ‹Ÿå™¨ æ¥åˆ°https://github.com/zeas2/Kirikiroid2/releases ï¼Œè®°å¾—ä¸‹è½½ipaæ–‡ä»¶\nç„¶åæ‰“å¼€playcoverï¼Œå¯¼å…¥è¿›å»ï¼Œä¸‹é¢éœ€è¦è°ƒæ•´krkrçš„é…ç½®ï¼Œå³é”®krkræ¨¡æ‹Ÿå™¨ï¼Œç‚¹å‡»è®¾ç½®\næ¥åˆ°æ‚é¡¹ï¼Œç„¶åæŠŠç±»å‹è®¾ç½®æˆgames\nç„¶åå³é”®æ˜¾ç¤ºåº”ç”¨æ•°æ®\næ‰“å¼€Data/Documentsæ–‡ä»¶å¤¹ï¼ŒæŠŠæ¸¸æˆæ–‡ä»¶æ‰”è¿›å»\nç„¶åå°±å¯ä»¥å¯åŠ¨æ¸¸æˆå•¦\nå¦‚æœä½ æƒ³è¦ç©ºæ ¼å°±ä¸‹ä¸€ä¸ªå‰§æƒ…ç­‰ç­‰ï¼Œä½ å¯ä»¥ç”¨æŒ‰é”®ç¼–è¾‘ç»‘å®šæŒ‰é”®\nå®Œæ¯•\næ€»ä¹‹ 0d00å¯çˆ±æ\n","date":"2025-12-29T02:00:00Z","permalink":"https://dingdinglz.github.io/p/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8mac%E7%8E%A9galgame/","title":"å¦‚ä½•ä½¿ç”¨Macç©galgame"},{"content":" ä»¥ä¸‹å†…å®¹å‡ä¸ºdinglzä¸ªäººçœ‹æ³•ä¸å»ºè®®ï¼Œä»…ä¾›å‚è€ƒï¼Œå¯èƒ½å­˜åœ¨éƒ¨åˆ†è¯¯åŒº\næ¦‚è¿° ä»Šå¹´çš„èµ›é¢˜åœ¨è¿™é‡Œï¼šAIæ— ç•Œ Â· åˆ›è§æœªæ¥ï¼Œæˆ‘å½“æ—¶çœ‹åˆ°ç¬¬ä¸€çœ¼çš„å°±æ˜¯ä¸‰ä¸ªå­—ï¼šâ€œç§»åŠ¨ç«¯â€ï¼Œæˆ‘å¿ƒæƒ³å®Œè›‹äº†ï¼Œå¥½å¤šIdeaåšä¸äº†äº†ï¼Œåæ¥æƒ³æƒ³ä¹Ÿä¸å¥‡æ€ªï¼Œç»„å§”ä¼šoppoæ˜¯åšæ‰‹æœºçš„ï¼Œæ€»ä¹‹æˆ‘è®¤ä¸ºï¼Œä»Šå¹´çš„èµ›é¢˜ä¸»è¦å¼ºè°ƒçš„å…³é”®ç‚¹æœ‰å››ä¸ªï¼šâ€œå…¨åœºæ™¯â€ã€â€œéšèº«æ™ºèƒ½ä½“ï¼ˆAgentï¼‰â€ã€â€œå¤šæ¨¡æ€â€å’Œâ€œç«¯äº‘ååŒâ€\nä¸å¾€å¹´ä¸åŒçš„æ˜¯ï¼Œä»Šå¹´å¼ºè°ƒçš„æ˜¯Agentï¼šè¿™ä¸ä»…ä»…è¦æ±‚æ˜¯å›ç­”é—®é¢˜çš„èƒ½åŠ›ï¼ˆç›´æ¥å¼„æ­»å»å¹´æ¥è¿‘ä¸€åŠçš„è·å¥–é¡¹ç›®ï¼‰ï¼Œæ›´ä¸»è¦çš„æ˜¯è¦èƒ½æ„ŸçŸ¥ç¯å¢ƒ-\u0026gt;ä¸»åŠ¨å†³ç­–-\u0026gt;æ‰§è¡Œä»»åŠ¡ï¼ˆè¿™ä¸‹åšagentçš„ç¬‘å˜»å˜»åœ°æŠŠåšworkflowçš„ç»™è¸¹è¿›ä¸‹æ°´é“äº†ï¼‰æˆ‘å€’æ˜¯è§‰å¾—è¿˜æŒºåˆç†ï¼Œä½œä¸ºé¢å‘å¤§å­¦ç”Ÿçš„èµ›äº‹ï¼Œä¸éœ€è¦è€ƒè™‘å•†ç”¨çº§çš„ç¨³å®šæ€§ï¼Œé‚£è‡ªç„¶æ˜¯è¦å¯¹æ ‡æœ€å‰æ²¿çš„agentï¼Œç‹ ç‹ åœ°ä¿¡ä»»llmçš„èƒ½åŠ›ï¼ˆå…³äºè¿™ç‚¹ï¼Œæˆ‘å€’æ˜¯è§‰å¾—æœ‰ç‚¹ä¸å…¬å¹³ï¼Œå³å¤§å®¶èƒ½æ¥è§¦åˆ°çš„æ¨¡å‹æ°´å¹³ï¼Œæ„Ÿè§‰ç©geminiå’Œclaudeçš„ï¼Œåœ¨äºŒè€…æ°´å¹³ä¸€è‡´çš„æƒ…å†µä¸‹ï¼Œç‹ ç‹ æŠŠç©deepseekå’Œqwençš„ç”©åœ¨åé¢äº†ï¼›ä½†æ˜¯ï¼Œshowcaseå¯ä»¥æ˜¯ç†æƒ³åœºæ™¯ï¼Œå¸Œæœ›å¤§å®¶æœ‰æ‰€é¢†æ‚Ÿï¼‰\nä¸‹é¢è¿›å…¥æ­£å¼çš„åˆ†æï¼š\nèµ›é¢˜æ ¸å¿ƒé€»è¾‘ åœ¨å®Œæˆä½ çš„ä½œå“ä¹‹å‰ï¼Œé¦–å…ˆä½ è¦æ˜ç¡®è¯„å§”çœ‹é‡çš„åˆ°åº•æ˜¯ä»€ä¹ˆ\n1. ç§»åŠ¨ç«¯ æœ¬æ¬¡å¼ºè°ƒäº†ç§»åŠ¨ç«¯ï¼Œä½†æ³¨æ„ï¼Œä½ çš„æƒ³æ³•ä¸éœ€è¦è¢«æ‰‹æœºæ‰€å±€é™ï¼Œå¹³æ¿ã€æ‰‹è¡¨ã€ARçœ¼é•œã€VRçœ¼é•œéƒ½å±äºç§»åŠ¨è®¾å¤‡ï¼Œåé¢ä¸¤ä¸ªå¯èƒ½åœ¨åˆ›æ–°æ€§ä¸Šå…·æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ï¼Œä½†é™åˆ¶äºè®¾å¤‡ï¼Œä»…ä¾›å‚è€ƒ\nåœ¨è¿™æ–¹é¢ï¼Œä½ éœ€è¦è€ƒè™‘åˆ°ï¼Œç§»åŠ¨ç«¯çš„ä¼˜åŠ¿åˆ°åº•æ˜¯ä»€ä¹ˆï¼š\nç§»åŠ¨ä¼˜åŠ¿ï¼šéšèº«ã€æ–¹ä¾¿ -\u0026gt; å¯¹æ¯”ç¤ºä¾‹ideaï¼šéšèº«ä¼šè®®æ€»ç»“ ç¡¬ä»¶ä¼˜åŠ¿ï¼šæ‘„åƒå¤´ã€éº¦å…‹é£ã€GPSã€é™€èºä»ªç­‰ç­‰å„ç±»ä¼ æ„Ÿå™¨ï¼Œæ€ä¹ˆæŠŠè¿™äº›åˆ©ç”¨èµ·æ¥å°†æˆä¸ºä½ æœ€æ ¸å¿ƒçš„æ€è€ƒ æ ¹æ®ä»¥ä¸Šï¼Œæˆ‘å¯ä»¥æ–­è¨€ï¼šå¦‚æœä½ çš„ideaå¯ä»¥åœ¨ç½‘é¡µç«¯å®Œç¾è¿è¡Œï¼Œé‚£å®ƒå¯¹äºæœ¬èµ›é¢˜æ¥è¯´ï¼Œå¤§æ¦‚ç‡ä¸æ˜¯ä¸€ä¸ªå¥½çš„idea\n2. å¤šæ¨¡æ€ ä½ çš„äº¤äº’ä¸€å®šä¸èƒ½å±€é™åœ¨æ–‡å­—ä¸Šï¼Œå¿…é¡»è¦åŒ…å«è§†è§‰ \u0026amp;\u0026amp; å¬è§‰ ç”šè‡³æ˜¯è§¦è§‰orç”Ÿç†æ•°æ®ï¼ˆæ‰‹è¡¨ï¼‰ï¼Œåªæœ‰æ–‡å­—çš„äº¤äº’æ˜¯ä¸€ä¸ªå·¨å¤§çš„ç¾éš¾\nå› æ­¤ï¼Œå¦‚ä½•å€ŸåŠ©ç§»åŠ¨ç«¯ç¡¬ä»¶ä¼˜åŠ¿ï¼Ÿä½ æˆ–è®¸å¾—å¥½å¥½æƒ³æƒ³\n3. æ™ºèƒ½ä½“Agent ä½ éœ€è¦æŠŠæ›´å¤šè‡ªä¸»æƒäº¤è¿˜ç»™AIï¼ŒæŠ›å¼ƒæ‰æ‰€æœ‰ç®€å•çš„promptäº¤äº’ã€workflowï¼›æŠŠå†³ç­–è¿˜ç»™AI\næ‹¿å¤©æ°”æ„ŸçŸ¥æ¥è¯´ï¼Œä»ä»¥å‰çš„è°ƒç”¨apiæŸ¥è¯¢å¤©æ°”ï¼Œè¦è½¬å˜æˆ æ„ŸçŸ¥åˆ°ä¸‹é›¨ -\u0026gt; è‡ªåŠ¨æŸ¥è¯¢è·¯å†µ -\u0026gt; è°ƒæ•´é—¹é’Ÿ -\u0026gt; å«è½¦è¿™ç§è‡ªåŠ¨èŒƒå¼ä¸Šæ¥\næˆ‘åé¢ä¼šæœ‰ä¸€ç¯‡è¯¦ç»†çš„å…³äºgoogle agent development kidçš„æ•™ç¨‹ï¼Œå¸¦å¤§å®¶å…¥é—¨agentï¼Œæ•¬è¯·æœŸå¾…\n4. ç«¯ä¾§èƒ½åŠ› èµ›é¢˜ä¸­æåˆ°äº†ç«¯äº‘ååŒã€è®¾å¤‡æ”¯æŒã€ä½bité‡åŒ–ç­‰ç­‰ï¼Œé‚£ä¹ˆè¯´æ˜ä½ éœ€è¦è€ƒè™‘åˆ°ç«¯ä¾§å°æ¨¡å‹ï¼Œåº”è¯¥ç«¯ä¾§å’Œäº‘ç«¯åè°ƒ\nè¦è€ƒè™‘è€ƒè™‘ç«¯ä¾§å°æ¨¡å‹çš„ä¼˜ç‚¹ï¼ˆå“åº”å¿«ã€éšç§å¥½ï¼‰æ¥è€ƒè™‘è€ƒè™‘æ˜¯å¦è¦åœ¨è‡ªå·±çš„ideaä¸­å¼•å…¥ç«¯ä¾§å°æ¨¡å‹ï¼Œå¤§å®¶æˆ–è®¸éƒ½å¿˜äº†ï¼Œæ‰‹æœºä¹Ÿæ˜¯ä¸€ä¸ªæ€§èƒ½ç›¸å½“ä¸é”™çš„è®¡ç®—ç»ˆç«¯ï¼›ä¸Šå±Švivo aigcå†³èµ›æˆ‘åœ¨ä½œå“ä¸­å¼•å…¥äº†7Bå°æ¨¡å‹çš„ç›´æ¥åœ¨ç«¯ä¾§ä¸Šæ¨ç†ï¼Œç»“åˆäº‘ç«¯å¯ä»¥å¤§å¤§æé€Ÿ \u0026amp;\u0026amp; ææ•ˆ\nè¯¯åŒºè§£æ ä¸è¦åšä¸€ä¸ªpromptè°ƒç”¨æœºå™¨ï¼Œä¸è¦å¥—å£³ï¼›è¦æŠŠAIéšè—åœ¨åŠŸèƒ½èƒŒåï¼Œæ¯”å¦‚â€œä¸€é”®ç”ŸæˆPPTâ€æ˜¾ç„¶ä¼˜äºâ€œæ•™æˆ‘æ€ä¹ˆå†™PPTâ€ã€‚ï¼ˆè¯´å¥é¢˜å¤–è¯ï¼Œæˆ‘ä¸€ç›´è§‰å¾—å¯¹è¯ä¸æ˜¯llmçš„æœ€ç»ˆèŒƒå¼ï¼Œåªæ˜¯å½“æ—¶chatgptæ‰“äº†ä¸ªæ ·ç½¢äº†ï¼‰ ä¸è¦å¿½ç•¥ç§»åŠ¨ç«¯ä¼˜åŠ¿ï¼Œå¤šæƒ³æƒ³ä»€ä¹ˆæ˜¯ç§»åŠ¨ç«¯èƒ½åšä½†æ˜¯ç½‘é¡µç«¯åšä¸äº†çš„ ä¸€å®šè¦é—­ç¯ï¼›ä¸å…‰æ˜¯æ„ŸçŸ¥ï¼Œæ›´é‡è¦çš„æ˜¯è¡ŒåŠ¨ï¼šæ¯”å¦‚ | è¯†åˆ«åˆ°ç”¨æˆ·æƒ³å»æ—…è¡Œï¼ˆæ„ŸçŸ¥ï¼‰ -\u0026gt; è‡ªåŠ¨è§„åˆ’è¡Œç¨‹ï¼ˆå†³ç­–ï¼‰ -\u0026gt; ï¼ˆå…³é”®ä¸€æ­¥ï¼‰è°ƒç”¨ API æŠŠè¡Œç¨‹æ·»åŠ åˆ°ç³»ç»Ÿæ—¥å†ï¼Œå¹¶å”¤èµ·åœ°å›¾å¯¼èˆªï¼ˆæ‰§è¡Œï¼‰ã€‚ | æœ€åä¸€æ­¥æ‰æ˜¯æœ€é‡è¦çš„ èµ›é¢˜ä¹‹å¤– å¥½å¥½åšuiï¼å¥½çœ‹çš„uiæ¯”ä»€ä¹ˆéƒ½é‡è¦ å¥½å¥½å†™æ–‡æ¡£ï¼å…¨ç¯‡aiä¼šè¢«è¯„å§”ä¸€è„šè¸¢æ­» å¥½å¥½ä¼˜åŒ–ç”¨æˆ·ä½“éªŒï¼Œdog feedï¼Œè¦è®©è‡ªå·±æ„¿æ„ç”¨è‡ªå·±çš„app æŠŠåŠŸèƒ½å®ç°äº†ä¼˜äºç‰›é€¼çš„æŠ€æœ¯ï¼Œå½“ä¸€ä¸ªå®å¹²å®¶ æŠ€æœ¯æ ˆæ¨è ç‚¹è¿™é‡Œçœ‹æˆ‘çš„å…¨éƒ¨æ¨è \u0026amp;\u0026amp; ä¼˜ç¼ºç‚¹è§£æ\nç»“è¯­ ç¥å¤§å®¶éƒ½èƒ½å–å¾—è‡ªå·±æ»¡æ„çš„æˆç»©ï¼Œé‡åˆ°é—®é¢˜ä¹Ÿæ¬¢è¿å’Œæˆ‘æ²Ÿé€š\n","date":"2025-12-18T02:00:00Z","permalink":"https://dingdinglz.github.io/p/2025%E8%BD%AF%E5%88%9B%E8%B5%9B%E9%A2%98%E8%A7%A3%E8%AF%BB/","title":"2025è½¯åˆ›èµ›é¢˜è§£è¯»"},{"content":"æ—¥è®° ç›¸æ¯”äºç›´æ¥ä¸€è‚¡è„‘åœ°æŠŠæˆ‘çš„çœ‹æ³•å§å•¦å§å•¦è¯´å‡ºæ¥ï¼Œæˆ‘æ›´æƒ³å…ˆèŠèŠä»æš‘å‡å¼€å§‹åˆ°ç°åœ¨æˆ‘çš„ç»å†ï¼Œæ‰€ä»¥å‰é¢åº”è¯¥ç®—æ˜¯æ—¥è®°æ—¶é—´ï¼Œä¸æƒ³çœ‹çš„æœ‹å‹å¯ä»¥ç›´æ¥è·³è¿‡\nLet\u0026rsquo;s go!\nå…ˆè¯´è¯´å¤§æ¦‚çš„è¿‡ç¨‹å§\næ—¥æœ¬è¡Œ è¥¿å®‰å®ä¹  AdventureX Vivoå¤ä»¤è¥ åœ¨å®¶è¹²ç€ æ—¥æœ¬è¡Œ ç»“æŸäº†è¯¥æ­»çš„æœŸæœ«å‘¨ï¼Œè¢«æŠ˜ç£¨äº†ä¸€ä¸ªå­¦æœŸç­‹ç–²åŠ›å°½ï¼Œå¿ƒä¸­æ€€ç€å¯¹åé¢å‡ ä¸ªæ´»åŠ¨çš„æœŸå¾…ï¼Œå»æ—¥æœ¬ç©ç©ã€‚å½“æ—¶å»ä¹‹å‰è¿˜ç¢ç£¨ç€å¹²å„ç§äº‹æƒ…ï¼Œæ¯”å¦‚è¯´çµç æ¯çš„å‘èµ·ä¸ç­¹åŠï¼Œæˆ‘æ‰¿è®¤çµç æ¯ç¡®å®æ˜¯å—åˆ°äº†AdventureXçš„å¯å‘ï¼Œä½†ç¡®å®æ˜¯æˆ‘éµå¾ªå†…å¿ƒåšå‡ºçš„ä¸€ä¸ªæ­£ç¡®çš„é€‰æ‹©ï¼ˆä¸ºä»€ä¹ˆè¯´æ­£ç¡®å‘¢æˆ‘ä»¬åé¢å†èŠï¼‰åœ¨è€ƒå®Œå’Œç­‰å¾…å»æ—¥æœ¬çš„æ—¶é—´é‡Œï¼Œæˆ‘å°±ä¸€ç›´åœ¨1.å®Œæˆè½¯ä»¶æ¯çš„ä½œå“ 2.åŠçµç æ¯ï¼Œä»è€ƒå®Œè¯•ï¼Œæˆ‘å°±å¼€å§‹è”ç³»çµç çš„å·¥ä½œäººå‘˜ä¹Ÿå°±æ˜¯é›…çº¯å§å§ï¼Œå¥¹ç»™äº†æˆ‘å¾ˆå¤§çš„é¼“åŠ±å’Œæ”¯æŒï¼Œè®©æˆ‘æœ‰ä¿¡å¿ƒèƒ½æŠŠçµç æ¯åŠèµ·æ¥ï¼Œå¾ˆéš¾æƒ³è±¡æˆ‘åœ¨äº”å¤©å†…å®Œæˆäº†ä»ç­–åˆ’åˆ°æ‹‰åˆ°èµåŠ©åˆ°è¯´æœå­¦æ ¡è€å¸ˆçš„å…¨éƒ¨æµç¨‹ï¼Œåœ¨æ—¥æœ¬æœŸé—´å®Œæˆäº†çµç æ¯çš„å®£å‘ã€‚\nçµç æ¯çš„æƒ³æ³•å‘¢æœ€åˆä¹Ÿå¾—åˆ°äº†æ”¿é˜³å“¥å“¥ï¼Œæ–‡èªå“¥å“¥ï¼Œæºä¸œå“¥å“¥ï¼Œæµ©ç„¶å“¥å“¥çš„è®¤å¯å’Œæ”¯æŒï¼Œæ‰€ä»¥æˆ‘ä»¬ç»„æˆèµ›äº‹ç»„å¼€å§‹åŠè¿™ä¸ªèµ›äº‹ï¼Œä¸ç®¡æ˜¯ä»ç»éªŒï¼Œå·¥ä½œï¼Œèµ„æºä¸Šä»–ä»¬éƒ½åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå¸®åŠ©äº†æˆ‘ï¼Œæ€»ä¹‹è¿™ä»¶äº‹ç®—æ˜¯åŠäº†ï¼Œç„¶åå°±æ˜¯å®‰å¿ƒåœ¨æ—¥æœ¬ç©çš„è¿‡ç¨‹ï¼Œæƒ³èµ·æ¥æ¥æ—¥æœ¬ä¹‹å‰çš„å‡ å¤©ï¼Œå®‡è½©è¿˜è·Ÿæˆ‘è¯´åˆ«æƒ³é‚£ä¹ˆå¤šï¼Œä¸å¦‚æƒ³æƒ³æ€ä¹ˆåœ¨æ—¥æœ¬å¥½å¥½ç©ç©ï¼ˆï¼Œäº‹å®è¯æ˜ä»–è¯´çš„å¯¹ï¼Œä¸è¿‡å¾—ç›Šäºæˆ‘çš„å¥½å®¤å‹æ˜¯æ—¥æœ¬é€šï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ—¥æœ¬ä»ç„¶ç©çš„éå¸¸å¼€å¿ƒï¼ˆåœ¨æˆ‘æœ¬äººå®Œå…¨æ²¡åšå‡†å¤‡çš„æƒ…å†µä¸‹hhhï¼‰\næ•´ä¸ªæ—¥æœ¬æ¸¸è®©æˆ‘å¯¹æ—¥æœ¬æœ‰äº†å¾ˆå¤§çš„æ”¹è§‚\nå°±æ˜¯è¿™ç§æ„Ÿè§‰ä½ ä»¬æ‡‚å§hhh\næœ€è®©æˆ‘å–œæ¬¢çš„å¯èƒ½æ˜¯æ—¥æœ¬éšå¤„å¯åŠçš„é‚£ç§å’–å•¡å…çš„æ°›å›´ï¼Œå°±æ˜¯ä»€ä¹ˆéƒ½ä¸åšï¼Œæœ‹å‹ä»¬èŠèŠå¤©ï¼Œæˆ–è€…å•çº¯åç€\nè¿™æ˜¯å®‡æ²»\nå¥½å–œæ¬¢è¿™ç§å¤è€å’Œç°ä»£ç»“åˆçš„æ„Ÿè§‰ï¼Œå¸¦æ¥äº†å®é™\næ—¥æœ¬ä¹‹è¡Œå°±èŠè¿™ä¹ˆå¤šå§ï¼Œç„¶ååŒ†åŒ†èµ¶èµ´è¥¿å®‰\nè¥¿å®‰å®ä¹  æˆ‘å¯¹è¥¿å®‰çš„ç¬¬ä¸€å°è±¡å°±æ˜¯çƒ­ï¼Œè¿™ä¸ªå¤åŸçš„æ°›å›´æˆ‘å€’æ˜¯æ²¡æ€ä¹ˆæ„Ÿå—åˆ°ï¼ˆå¯èƒ½å› ä¸ºå¤ªçƒ­äº†æ²¡å‡ºé—¨ï¼Œbushiã€‚è‚‰å¤¹é¦è¶…çº§å¥½åƒï¼Œæ‰“å·¥çš„æ—©æ™¨åƒçš„åŸºæœ¬ä¸Šéƒ½æ˜¯è‚‰å¤¹é¦ï¼Œæœ‰æ—¶å€™æ™šä¸Šä¹Ÿåƒ\nè¯´èµ·æ¥æ¥è¥¿å®‰ä¹‹å‰ï¼Œæˆ‘å¯¹è¿™æ¬¡å®ä¹ è¿˜æ˜¯è›®æœŸå¾…çš„ï¼Œå½“æ—¶çš„é¢è¯•å®˜å’Œæˆ‘èŠçš„ç†å¿µè®©æˆ‘è¿˜æ˜¯è›®å…´å¥‹çš„ï¼Œç¡®å®å¾ˆç¬¦åˆæˆ‘å½“æ—¶çš„ä¸€äº›æƒ³æ³•ï¼ˆå½“æ—¶ï¼‰æ€»ä¹‹æ˜¯åšä¸€å®¶vibe codingæ’ä»¶çš„å…¬å¸ï¼Œç„¶åå‘˜å·¥æ‹¿è‡ªå·±å®¶çš„æ’ä»¶åšä¸€äº›å¤–åŒ…çš„æ´»ã€‚\nç„¶åï¼Œ\näº‹å®è¯æ˜ï¼šAIä¹Ÿéœ€è¦å¼€å‘è€…æœ‰ç›¸å…³çš„å¼€å‘ç»éªŒå’ŒåŠŸåº•ï¼Œä¸æ˜¯éšä¾¿æ¥å‡ ä¸ªå°ç™½å°±èƒ½ç«‹é©¬ä¸Šæ‰‹çš„\nè¿™æ¬¡ç»™æˆ‘æœ€å¤§çš„ç»éªŒå°±æ˜¯ï¼ŒAIè¿˜è¿œä¸èƒ½æ›¿ä»£ç¨‹åºå‘˜çš„æ´»ï¼Œè¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ï¼Œç”±äºè¢«å‡ ä¸ªå°ç™½æ•™æˆ‘å¹²æ´»ï¼Œä¸ç®—å¤ªæ„‰å¿«ï¼Œè¿™ä¸ªç»å†æˆ‘ä»¬å¼ƒä¹‹ä¸è°ˆï¼Œç®—æ˜¯ç»™æˆ‘æ¶¨æ¶¨æ•™è®­ï¼Œæ”¶è·å‡ ä¹æ²¡æœ‰\nè¥¿å®‰å®ä¹ ä¸­é—´å»äº†ä¸€æ¬¡æµå—ï¼Œçœ‹æ³•è€çš„æ¼”å”±ä¼šï¼Œé¡ºä¾¿è·Ÿæˆ‘å‡ ä¸ªé«˜ä¸­å¥½æœ‹å‹ä¼šé¢ï¼Œè¿˜æ˜¯è›®æ„Ÿæ…¨çš„ï¼Œçœ‹åˆ°å¤§å®¶éƒ½æœ‰è‡ªå·±çš„äº‹æƒ…åœ¨åšï¼Œæ¯ä¸ªäººä¹Ÿå˜äº†å¾ˆå¤šï¼Œåœˆå­ä¸€ç›´åœ¨å˜ï¼Œäººä¹Ÿåœ¨ä¸€ç›´å‘å‰ï¼Œæˆ‘ä»¬ä¹Ÿä¸è¦ä¸ºäº†åˆ†å¼€è€Œæ‚²ä¼¤å˜›ï¼Œæ€»ä¹‹å°èšï¼Œç„¶åå›å»ç»§ç»­å®ä¹ \nåƒç­‰ä¸‡ç­‰ç»ˆäºç­‰æ¥äº†æ­å·è¡Œï¼Œè¿™ä¸ªæš‘å‡æ”¶è·æœ€å¤§çš„ï¼ŒAdventureX\nAdventureX å…ˆè¯´è¯´çœ‹æˆ‘å¯¹äºAdventureXçš„çœ‹æ³•ï¼Œæˆ‘çŸ¥é“ç½‘ä¸Šå¯¹å®ƒçš„éª‚å£°å¾ˆå¤šï¼Œä¹Ÿæœ‰ä¸€å †ä¸å¥½çš„ç“œï¼Œä½†æ˜¯å¯¹äºæ´»åŠ¨æœ¬èº«æˆ‘è§‰å¾—æ²¡æœ‰é—®é¢˜ï¼Œå¾ˆå°‘æœ‰èƒ½æŠŠè¿™å…«ç™¾ä¸ªäººèšåœ¨è¿™é‡Œçš„æœºä¼šäº†ï¼Œæ‰€ä»¥æˆ‘æ‹’ç»å¯¹å®ƒçš„æ‰¹è¯„ï¼Œä¸ºæ­¤æˆ‘è¿˜å’Œç¾¤å‹åµäº†ä¸€æ¶\næˆ‘è§‰å¾—è¿™èƒ½ä»£è¡¨æˆ‘çš„æ€åº¦äº†ï¼Œæ‰€ä»¥å¯¹è¿™ä»¶äº‹ä¸è°ˆï¼ŒèŠèŠæˆ‘è¿™äº”å¤©å‰åä¸­çš„ç»å†\né¦–å…ˆç¬¬ä¸€å¤©æ˜¯å¥½å‹èšé¤ç¯èŠ‚ï¼š\nä¸‹åˆçº¿ä¸ŠèŠäº†æœ¬ç§‘å¤§å·¥ç°åœ¨å—å¤§çš„å®¹è´¤å­¦é•¿ï¼Œäº’ç›¸èŠäº†ç»å†ï¼Œä¸»è¦å¬äº†å¬ä»–åŠå—å®¢æ¾ï¼ˆå…¨å—äº¬å¸‚çš„é»‘å®¢æ¾ï¼‰çš„ç»éªŒï¼Œå­¦åˆ°äº†å¾ˆå¤šï¼ŒåˆæŒ‡å¯¼äº†æˆ‘å­¦ä¹ ï¼Œåˆ›ä¸šï¼Œå¼€å‘ä¸Šçš„å¾ˆå¤šç–‘æƒ‘ã€‚\nå¾ˆé«˜å…´å’Œå¾ˆå¤šæœ‹å‹æœ‰äº†çº¿ä¸‹è§é¢ä¸€èµ·å–å’–å•¡èŠå¤©çš„ç»å†ï¼Œå’Œæ¥è‡ªè¥¿äº¤åˆ©ç‰©æµ¦ï¼Œå¤§äºŒè¾å­¦å»ç¡…è°·åˆ›ä¸šçš„Kleinï¼Œé’‰é’‰å‘†è¿‡ï¼Œæ‰“å®Œadvxå°±å…¥èŒå­—èŠ‚çš„skyï¼Œå·å¤§ç¾æœ¯çš„è½¬è½¬èŠäº†å¾ˆä¹…ï¼Œç¬¬ä¸€å¤©å°±æ„Ÿå—åˆ°äº†å…±é¸£çœŸå¥½ï¼Œæœ‰ä¸€ç§æ‰¾åˆ°â€œåŒç±»â€çš„æ„Ÿè§‰hhhã€‚å­¦åˆ°äº†å¾ˆå¤šï¼Œæ¯”å¦‚æ€ä¹ˆå»çœ‹é—®é¢˜ï¼Œæ€ä¹ˆå»æŠ“ç”¨æˆ·éœ€æ±‚ï¼Œä»€ä¹ˆæ˜¯ä¸€ä¸ªå¥½çš„äº§å“ã€‚æˆ‘è§‰å¾—è¿™äº›æ²¡æœ‰æ ‡å‡†ç­”æ¡ˆï¼Œä½†å¤§å®¶çš„ç†è§£å¯¹æˆ‘å¯å‘éƒ½å¾ˆå¤§ã€‚\nç„¶åæ™šä¸Šåƒç«é”…çš„æ—¶å€™åˆæ¥äº†ä¸€å †æœ‹å‹ï¼Œæ™šä¸Šå»é…’å§å–é…’ï¼Œåˆé¢åŸºäº†ä¹‹å‰å°±è®¤è¯†ï¼Œå¤§ä¸€åˆ›ä¸šçš„åŒºåŒå­¦ï¼Œè¿˜æœ‰å¾ˆå¤šå¾ˆå¤šä¼˜ç§€çš„æœ‹å‹ã€‚\næ€»ä¹‹ç¬¬ä¸€å¤©å°±æ„Ÿå—åˆ°äº†é‚£ç§æ°›å›´ï¼Œå¼€å§‹æ ¼å¤–æœŸå¾…èµ·advxçš„ç¬¬ä¸€å¤©ã€‚\næ¥å•¦ï¼\nä¸Šåˆæå‰å’Œæˆ‘çš„é˜Ÿå‹æ‰“ä¸ªç…§é¢ï¼Œä¸€ä¸ªå¾ˆäº†ä¸èµ·çš„è¿ç»­åˆ›ä¸šè€…ï¼Œç„¶åé€›å±•ï¼Œå¾ˆé—æ†¾æˆ‘advxçš„é€›å±•æ¬¡æ•°å°±ä¸¤æ¬¡ï¼Œè¿™ä¸€æ¬¡å’Œå±•ä¼šé‚£ä¸€å¤©ï¼Œä¸ŠåˆæŠŠæ‰€æœ‰å±•ä¼šéƒ½é€›äº†ï¼Œé¡ºäº†æ•´æ•´å››è¢‹å­ç‰©æ–™ï¼Œä¸ºæ­¤æˆ‘åœ¨å‡ºå‘å»ä¸‹ä¸€ä¸ªåœ°ç‚¹ä¹‹å‰è¿˜å¯„äº†ä¸‰ä¸ªè¢‹å­å›åˆè‚¥ï¼Œå±•ä¼šä¸Šè§åˆ°äº†å¾ˆå¤šæœ‹å‹ï¼Œä¸­åˆå‡ºå»åƒäº†ä¸ªé¥­ã€‚\nä¸‹åˆæˆ‘ä»¬ç°åœºå¯»æ‰¾æˆ‘ä»¬çš„å¦ä¸€ä¸ªé˜Ÿå‹ï¼Œè¯´æ¥ä¹Ÿå¥½ç¬‘ï¼Œæˆ‘ä»¬æœ¬æ¥æœ‰ä¸€ä¸ªè¶…å¼ºçš„è®¾è®¡å¸ˆå§å§ï¼Œä½†æ˜¯å› ä¸ºå°é£è¢«å›°åœ¨é¦™æ¸¯äº†ï¼Œæ‰€ä»¥åªèƒ½ç°åœºå¯»è§…é˜Ÿå‹ã€‚å¥½åœ¨æ–‡æ…§ç»™æˆ‘ä»¬æ¨èäº†ä¸€ä¸ªæ­ç”µçš„å°å§‘å¨˜ï¼Œç¾æœ¯åŒå­¦ï¼Œå¯æƒœçš„æ˜¯å¥¹æ²¡æœ‰figmaç»éªŒï¼Œæ›´å¤šæ˜¯æ¸¸æˆæ–¹é¢çš„ç¾æœ¯ç»éªŒã€‚ä¸è¿‡æ²¡æœ‰å…³ç³»ï¼Œä½œä¸ºä¸€ä¸ªä¼˜ç§€çš„vibe coderï¼Œè‚¯å®šå¾—å‘æŒ¥å‰ç«¯ä¸Šaiçš„ä¸»è§‚èƒ½åŠ¨æ€§ï¼ˆbushiï¼Œå½“ç„¶ç¾æœ¯åŒå­¦ä¹Ÿç»™æˆ‘ä»¬æä¾›äº†å¾ˆå¤šuiä¸Šçš„æŒ‡å¯¼å’Œå›¾ç‰‡ç´ æï¼Œæˆ‘æ˜¯ä¸ä¼šæ‰¿è®¤æˆ‘æäº¤ä½œå“å‰ä¸€ä¸ªå°æ—¶è¿˜åœ¨è¢«é€®ç€æ”¹uiçš„ï¼ˆbushi\nä¸‹ä¸€å¤©è®©æˆ‘å°è±¡æœ€æ·±çš„æ˜¯ä¸Šåˆçš„å…±ç»©ç®—åŠ›å…³äºå…±äº«ç®—åŠ›çš„workshopï¼ŒAIå¹³æƒçš„ç†å¿µä¹Ÿåœ¨æˆ‘è¿™åŸ‹äº†ä¸€é¢—å¾ˆæ·±å¾ˆæ·±çš„ç§å­ï¼Œæ™šä¸Šè§åˆ°äº†å®¹è´¤å­¦é•¿ï¼Œå¯æƒœå› ä¸ºå¤§å®¶éƒ½å¿™ç€codingï¼Œæ²¡æ—¶é—´äº¤æµå“ˆå“ˆå“ˆã€‚\nå†å¾€åä¸€å¤©æˆ‘è®°å¾—ä¹Ÿæ˜¯å…¨å¤©çš„codingï¼Œä½†æ˜¯è§åˆ°äº†å¾ˆå¤šæœ‰æ„æ€çš„é¡¹ç›®ï¼Œæ¯”å¦‚ç»“å°ç¼–ç¨‹å“ˆå“ˆå“ˆï¼Œç»™æˆ‘å¸…éº»äº†\nè¿˜æœ‰é‚£ä¸ªå¾ˆæœ‰åçš„é©¬æ¡¶\nç„¶åå’Œæ¥è‡ªOSChengDuçš„polyé¢åŸºäº†ï¼Œéå¸¸è°¦è™šä¹Ÿå¾ˆæœ‰å®åŠ›çš„å¤§ä½¬ï¼Œå¶é‡äº†Soulterï¼Œåæ¥åœ¨ç¾¤å‹ä»‹ç»ä¸‹æ‰å‘ç°æ˜¯AstroBotçš„ä½œè€…å“ˆå“ˆå“ˆï¼Œæ—©çŸ¥é“æ‹·æ‰“ä¸€ä¸‹äº†ã€‚\næ™šä¸Šå’Œä¸€ä¸ªæŠ•èµ„äººæ·±åº¦chatäº†å¾ˆä¹…ï¼Œç»™æˆ‘çš„å¯å‘å¾ˆå¤§ï¼Œå˜å¾—è¶Šæ¥è¶Šæƒ³åˆ›ä¸šï¼ˆbushi\næ•²ä»£ç çš„æœ€åä¸€å¤©ï¼Œè¿˜æ˜¯ç–¯ç‹‚æ•²ä»£ç ï¼Œå‡†å¤‡ç‰©æ–™\nè¿™ä¸€å¤©å—åˆ°äº†å‡ å®¶åˆåˆ›å’Œä¸€äº›ä¼™ä¼´çš„åˆä¼™é‚€è¯·ï¼š\næ¯”å¦‚è¯´ä¸€ä¸ªUGCå¹³å°ï¼Œä¸€ä¸ªç¤¾äº¤è¾…åŠ©ï¼ˆæˆ‘ä¸€å¼€å§‹è¿˜è¯¯è®¤ä¸ºæ˜¯ç±»ä¼¼äºdate appï¼Œåæ¥èŠè¿‡æ‰å‘ç°æ˜¯aiå¸®äººèŠå¤©è¿™ç§ï¼‰ï¼Œæ”¶åˆ°äº†è€å“¥å¾ˆå¤§çš„æ€è·¯å¼€é˜”ä¸Šçš„å¸®åŠ©ï¼Œokokç¨³çš„\nåˆèŠäº†å‡ ä¸ªæŠ•èµ„äººï¼Œå…¶ä¸­ä¸€ä¸ªå£å‡ºç‹‚è¨€ï¼ˆä¸æ˜¯ï¼Œè¯´ç°åœ¨ä»–æ„¿æ„æŠ•æˆ‘ï¼Œä½†æ˜¯ç­‰æˆ‘å¤§å­¦æ¯•ä¸šäº†å°±ä¸ä¸€å®šäº†ï¼Œåˆ›ä¸šä¸€å®šè¦è¶æ—©\nè¿™ä¸€å¤©çœ‹äº†çœŸæ ¼çš„åˆ†äº«ï¼Œæˆ‘è§‰å¾—å¾ˆæœ‰æ„æ€ï¼Œå’Œå¤§å®¶åˆ†äº«åˆ†äº«ï¼š\næœ€åä¸€å¤©ï¼Œè·¯æ¼”ï¼Œè®²äº†ä¸€ä¸ªä¸ŠåˆåŠ ä¸€ä¸ªä¸­åˆï¼Œè¶…ç´¯ï¼Œå¾—åˆ°äº†å¾ˆå¤šå¾ˆå¤šçš„è®¤å¯ï¼Œä¹Ÿå› æ­¤åŠ äº†å¾ˆå¤šå¾ˆå¤šå¤§ä½¬ï¼Œä½†è¿™äº›ä¸è°ˆï¼Œæˆ‘æ›´æƒ³å’Œå¤§å®¶èŠèŠæˆ‘ä¸‹åˆé€›çš„æ—¶å€™çœ‹åˆ°çš„å¾ˆå¤šæœ‰è¶£çš„é¡¹ç›®ã€‚\nä½ å’Œè¿™åªç‹—ç‹—å¾ˆåƒ é¡¹ç›®å°±æ˜¯å¸®ä½ æ‰¾åˆ°å’Œä½ é•¿çš„æœ€åƒçš„é‚£åªç‹—ï¼Œå¾ˆæœ‰æ„æ€ï¼Œç›®çš„æ˜¯ä¸ºäº†è®©ä½ æ”¶ç•™è¿™åªé•¿çš„å’Œä½ æœ€åƒçš„æµæµªç‹—ï¼Œè·Ÿä»–ä»¬å¼€å‘èŠäº†ä¸‹æŠŠè¿™å¥—ç³»ç»Ÿè¿ç§»åˆ°çŒ«èº«ä¸Šçš„å¯èƒ½æ€§ï¼Œå¾—åˆ°äº†çŒ«æ¯›å¤ªå¤šï¼Œä¸å¥½åšé¢éƒ¨è¯†åˆ«çš„ç»“è®ºï¼Œæœ‰ç‚¹å¤±æœ›\nç»™å›½è¶³è®¾è®¡çš„è¶³çƒ æ€»ä¹‹å°±æ˜¯ä¸ç®¡ä½ æ€ä¹ˆè¸¢ï¼Œè¿™åªè¶³çƒéƒ½èƒ½åˆ©ç”¨CVå’Œå†…éƒ¨çš„æ»šè½®æŠŠè‡ªå·±é€è¿›çƒé—¨ï¼Œä¸ºå›½è¶³æ­£åï¼\nå’Œé©¬æ–¯å…‹åˆäº†å½± å¾ˆéš¾è§£é‡Šï¼Œçœ‹å›¾å§\næ™šä¸Šé—­å¹•å¼ï¼Œå¾ˆé«˜å…´ç”šè‡³æ‹¿äº†ä¸ªkimi for vibeèµ›é“çš„å¥–ï¼ˆæœ¬æ¥æ²¡æƒ³ç€æ‹¿å¥–çš„æ\næ™šä¸Šå‡ºå»å’Œæ–°è®¤è¯†çš„å‡ ä¸ªæœ‹å‹èŠå¤©ï¼Œä»–ä»¬æœ‰ä¸€ä¸ªåˆ›ä¸šideaï¼Œå¾ˆé«˜å…´è¯´åŠ¨äº†æˆ‘ï¼Œå¤§å®¶å†³å®šä¸€èµ·åšï¼Œæˆ‘ä½œä¸ºCTOâ€œåŠ ç›Ÿâ€äº†ä»–ä»¬\nç¬¬äºŒå¤©æ¸¸è¥¿æ¹–ï¼Œå¥½è€¶ï¼\nç»“æŸäº†è¿™ä¸ªä»¤æˆ‘å°è±¡æå…¶æ·±åˆ»çš„æ´»åŠ¨ï¼Œé£æ·±åœ³ï¼\nåœ¨æ·±åœ³ä¹‹å‰è¿˜æœ‰è®¤è¯†äº†å‡ ä¸ªæƒ³æé»‘å®¢æ¾çš„æœ‹å‹ï¼Œè¿™æ¬¡advxç®—æ˜¯ç»™å¤§å®¶æ‰“äº†ä¸ªæ ·ï¼Œå…¨å›½å„ç§é»‘å®¢æ¾ç»„ç»‡å¼€å§‹å…´èµ·ï¼Œä¼ä¸šå’ŒæŠ•è¡Œå¼€å§‹å˜å¾—æ„¿æ„ä¸ºé»‘å®¢æ¾ä¹°å•ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘åœ¨æ–‡ç« ä¸€å¼€å§‹è¯´çµç æ¯æ˜¯ä¸ªæ­£ç¡®çš„å†³å®šçš„åŸå› ã€‚ä½†æ˜¯ç”±äºè¿™æ¬¡advxå‘ç”Ÿäº†ä¸€äº›äº‹æƒ…ï¼ˆä¸æƒ³è¯´äº†ï¼‰æ‰€ä»¥å¤§å®¶æƒ³åŠçœŸæ­£å±äºæˆ‘ä»¬è‡ªå·±çš„é»‘å®¢æ¾ï¼Œæˆ‘é‡åˆ°äº†Då“¥ï¼Œä»–æœ‰ç†æƒ³ï¼Œä¹Ÿæœ‰èµ„æºå»åŠä¸€åœºæ–°çš„å…¨å›½æ€§çš„å¤§å‹é»‘å®¢æ¾ï¼Œä»–ä¹Ÿåœ¨å¯»æ‰¾å¿—åŒé“åˆçš„äººä¸€èµ·åŠè¿™ä¸ªäº‹æƒ…ï¼Œæ‰€ä»¥æˆ‘åŠ å…¥äº†ä»–ä»¬ï¼Œæˆ‘ä»¬æŠŠè¿™å«åšâ€œåˆ›å®¢æ¾â€ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨å‰æœŸå‡†å¤‡é˜¶æ®µï¼Œç­¹åŠä¸‹ä¸€æ¬¡è¶…å¤§å‹çš„é»‘å®¢æ¾ï¼ŒçœŸæ­£æ‰“åŠ¨æˆ‘çš„ä¸€äº›ç†å¿µï¼Œåƒè®©æ¥è‡ªè´«ç©·åœ°åŒºçš„å­©å­ä¹Ÿèƒ½æ¥è§¦åˆ°è¿™äº›èµ„æºï¼Œè¿™å°±ä¸å¾—ä¸è¯´æˆ‘è‡ªå·±ï¼Œæˆ‘æ„Ÿè§‰æˆ‘ä»å°åˆ°å¤§ä¸€æ›´åƒæ˜¯åœ¨æ²‰æ·€é˜¶æ®µï¼Œä¸€ç›´ä¸€ç›´å­¦ä¹ çŸ¥è¯†ï¼Œç›´åˆ°è¿™ä¸ªæš‘å‡æ‰æœ‰èµ°å‘æ›´å¤§èˆå°çš„æœºä¼šï¼Œä¹Ÿæ„Ÿè°¢æˆ‘è‡ªå·±çš„è¿™ç§çƒ­æƒ…è®©æˆ‘èƒ½æœ‰ç°åœ¨çš„èƒ½åŠ›ï¼Œä½†æ˜¯å¦‚æœæˆ‘èƒ½åœ¨æˆ‘å°æ—¶å€™æ¥è§¦åˆ°åƒæ¢æœˆå­¦æ ¡è¿™æ ·çš„èµ„æºéƒ½è¯ï¼Œæˆå°±è‚¯å®šè¿œä¸æ­¢æˆ‘ç°åœ¨ï¼Œæ€»ä¹‹å¾ˆæ„Ÿæ¦‚ã€‚å¦ä¸€ä¸ªå°±æ˜¯åŠä¸å»è®¨å¥½æŠ•èµ„äººçš„é»‘å®¢æ¾ï¼Œåªæ˜¯ä¸ºäº†è§è¯åˆ›é€ ï¼Œè¿™å¯¹æˆ‘ä»¬è€Œè¨€å°±å¤Ÿäº†ï¼Œæˆ‘ä»¬å°±æ˜¯æƒ³çœ‹é‚£äº›äº†ä¸èµ·çš„æƒ³æ³•ï¼Œæƒ³è§è¯é‚£äº›æˆ–è®¸å¤§å®¶è§‰å¾—æ²¡æœ‰ä»»ä½•æ„ä¹‰çš„åˆ›é€ ï¼Œè¿™å¤ªé…·äº†ï¼æ¨åŠ¨æ¨åŠ¨æ¨åŠ¨ï¼Œå¸Œæœ›èƒ½æ—©æ—©åœ°å’Œå¤§å®¶è§é¢ã€‚\nå›å½’ä¸»çº¿ï¼Œé£æ·±åœ³ï¼\nVivoå¤ä»¤è¥ è¿™ä¸‰å¤©å°è±¡æœ€æ·±çš„äº‹æƒ…ï¼Œæ˜¯å­¦ä¹ äº†ä¸€é¡¹æ–°æŠ€èƒ½ï¼šæ“éº»å°†ï¼ˆbushiï¼Œç¥å¥‡çš„vivoç»™æˆ‘ä»¬å®‰æ’çš„æˆ¿é—´é‡Œæœ‰å°éº»å°†æœºï¼Œæ‰€ä»¥æˆ‘ä»¬æ¯å¤©æ™šä¸Šå›å»éƒ½åœ¨æ“éº»å°†hhhï¼Œä»¥åŠæƒ¯è›‹ï¼Œæƒ³ä¸åˆ°åœ¨å®‰å¾½ä¹‹å¤–è¿˜èƒ½è§è¯†åˆ°è¿™ä¸ªç©æ³•\næ²¡é”™æˆ‘ä»¬ä¸‰ä¸ªç¥äººåœ¨è¿™ç©24ç‚¹ç©äº†ä¸€ä¸ªå°æ—¶ï¼Œç”±äºä¼ ç»Ÿç©æ³•è¢«æˆ‘ä»¬ç§’äº†ï¼Œæ‰€ä»¥å¤§å®¶å¼€å‘äº†ä½è¿ç®—ï¼Œå·¦ç§»å³ç§»è¿™ç§ç©æ³•ï¼Œé‰´å®šä¸ºå­¦è®¡ç®—æœºå­¦çš„ï¼ˆbushi\nå½“ç„¶ä¹Ÿæ˜¯æœ‰å¾ˆå¤šæ”¶è·ï¼Œæ¯”å¦‚å­¦ä¹ äº†å¾®è°ƒæŠ€å·§å’Œç«¯ä¾§æ¨¡å‹éƒ¨ç½²ï¼Œï¼ˆåˆå’¨è¯¢äº†wcå­¦é•¿å¾ˆå¤šï¼Œwcå“¥å“¥å¤ªå¼ºè¾£ï¼‰å’ŒvivoæŠ•èµ„è€æ€»è¯´ä¸Šäº†è¯ï¼Œå­¦ä¹ åˆ°äº†æ¼”è®²æŠ€å·§ï¼ˆbushiã€‚å‚è§‚äº†vivoå·¥å‚ï¼Œè¶…æ£’ã€‚\nç»“æŸä»¥åæ²¡ç›´æ¥é£å›å®¶ï¼Œè€Œæ˜¯è·‘åˆ°å¹¿å·å»æ‰¾æ”¿é˜³å“¥å“¥èŠå¤©ï¼Œæˆ‘ä¿©åœ¨å¤ä»¤è¥ä¸€å¤©æ™šä¸Šå°±èŠäº†å¾ˆä¹…å¾ˆä¹…ï¼Œæˆ‘è¿˜æ˜¯è¦å†è¡¨è¾¾ä¸€éå¯¹æ”¿é˜³å“¥å“¥çš„æ„Ÿè°¢ï¼Œä½œä¸ºæˆ‘å¤§ä¸€æ—¶æœŸçš„å¼•è·¯äººï¼Œåˆ‡åˆ‡å®å®å¸®åŠ©äº†æˆ‘å¾ˆå¤šå¾ˆå¤šï¼Œä¹Ÿçº æ­£äº†æˆ‘ä¸å°‘æƒ³æ³•ï¼Œå¼•é¢†æˆ‘èµ°ä¸Šäº†æ­£ç¡®çš„é“è·¯ã€‚è¿™æ¬¡æ¥åˆ°å¹¿å·ï¼Œå‚è§‚äº†ä¼ä¸šå¾®ä¿¡å’Œå¾®ä¿¡ï¼ŒåˆèŠäº†èŠåˆ›æ–°ï¼Œåˆ›ä¸šï¼Œé»‘å®¢æ¾ã€‚æˆ‘è¶æœºæ‹¿æˆ‘çš„ä¸€äº›ä¸šåŠ¡å’¨è¯¢äº†æ”¿é˜³å“¥å“¥ï¼Œä¹Ÿå¾—åˆ°äº†ä¸å°çš„å¯å‘å“ˆå“ˆå“ˆï¼Œè¿™æ¬¡åˆä»æ”¿é˜³å“¥å“¥èº«ä¸Šå­¦äº†å¾ˆå¤šï¼Œé£å›å®¶ï¼\nåœ¨å®¶è¹²ç€ åœ¨å®¶è¹²ç€æœŸé—´å¹²äº†å“ªäº›äº‹å‘¢ï¼š\nå®Œæˆäº†çµç æ¯ç¬¬äºŒæ¬¡åˆ†äº«ï¼Œä¸€åˆ‡æœ‰æ¡ä¸ç´Šï¼å‚èµ›é˜Ÿä¼è¾¾åˆ°115æ”¯ï¼Œæ˜¯æˆ‘è®¾æƒ³æƒ…å†µçš„ä¸¤å€ï¼Œè¶…çº§æœŸå¾…çœ‹åˆ°å¤§å®¶çš„ä½œå“ï¼\nè·ŸDå“¥ï¼Œè¡ŒçŸ¥å“¥èŠé»‘å®¢æ¾çš„ç­¹å¤‡å’Œå®‰æ’ï¼Œå’Œmarkè€å¸ˆè¯·æ•™é»‘å®¢æ¾çš„ä¸€äº›äº‹é¡¹ï¼Œæˆ‘ä»¬åœ¨æ†‹ä¸€ä¸ªå¤§æ´»ï¼å¤§å®¶æœŸå¾…å•Šå“ˆå“ˆå“ˆ\nå®Œæˆäº†æˆ‘ä»¬è‡ªå®¶åˆåˆ›çš„å‰æœŸå‡†å¤‡ï¼Œè·Ÿä¸€ä¸ªè¶…å¥½çš„å­¦é•¿èŠäº†å¾ˆä¹…ï¼ŒåŸºæœ¬è§£å†³äº†æˆ‘å…³äºæœå¹¿æ¨çš„å…¨éƒ¨ç–‘æƒ‘ï¼Œä¹Ÿæ˜¯æ”¿é˜³å“¥å“¥æ¨èçš„ï¼Œæ„Ÿæ©ï¼\nå‚åŠ äº†ä¸€å®¶åˆåˆ›é¡¹ç›®çš„å‰æœŸç ”ç©¶ç¯èŠ‚ï¼Œå¯ä»¥é€éœ²ä¸‹ä¹Ÿæ˜¯åœ¨åšagentï¼Œå› æ­¤å¾—åˆ°äº†è¶…æ£’çš„æ€è·¯å’Œèµ„æº\næ„Ÿæ‚Ÿ For AIåˆ›ä¸š AIåˆ›ä¸šè¶…çº§æ¬¢è¿å¹´è½»äººï¼Œæˆ‘è§åˆ°äº†ä¸€å †é«˜ä¸­ç”ŸCEOï¼Œç°åœ¨æ˜¯AIæ—¶ä»£çš„å¼€å§‹ï¼Œç°åœ¨æŠ“ä½æœºä¼šæ˜¯æœ€å¥½çš„æ—¶é—´ç‚¹\nåˆ›ä¸šåˆæœŸä¸è¦å»æƒ³æ ¸å¿ƒç«äº‰åŠ›ï¼Œå¥—å£³ï¼ˆAgentï¼‰å®Œå…¨æ²¡é—®é¢˜ï¼æƒ³æƒ³Manuså§ï¼Œæ—©æœŸå®Œå…¨ä¸ç”¨æ‹…å¿ƒè¢«æŠ„è¢­ç­‰ç­‰é—®é¢˜ï¼Œè‡ªä¿¡Forever\nå¥½çš„äº§å“ä¸€å®šæ˜¯Dog Feedingçš„ï¼Œå³è‡ªå·±ä¼šç”¨è‡ªå·±åšå‡ºæ¥çš„ä¸œè¥¿ï¼Œè¿™ä¸ªäº§å“æ‰æ˜¯æœ‰ç”¨çš„ï¼Œä¸è¦å»æŠ“ä¼ªéœ€æ±‚ï¼Œæ‰¾çœŸéœ€è¦ï¼\nåˆ›ä¸šæœ€å¥½çš„æœºä¼šä¸€ä¸ªæ˜¯åœ¨åå¹´å‰ï¼Œä¸€ä¸ªæ˜¯ç°åœ¨\nä¸è¦è§‰å¾—åˆ›ä¸šå¾ˆå¸…å¾ˆå…‰é²œäº®ä¸½ï¼Œæˆ‘èº«è¾¹çš„CEOæœ‹å‹ä»¬ä»æ¥ä¸è¯´è‡ªå·±æ˜¯CEOï¼Œåˆ›ä¸šæ˜¯è¿‡ç‹¬æœ¨æ¡¥ï¼ŒæˆåŠŸçš„æ˜¯æå°‘æ•°ï¼Œä¸è¦åœ¨ä¹å¤´è¡”ï¼Œä¹Ÿä¸è¦æ€»æ‹¿å¤´è¡”è¯´äº‹\næ€»ä¹‹\u0026mdash;-ä»°æœ›åˆ›ä¸šè€…\nFor é»‘å®¢æ¾ ä¸»è¦èŠèŠæˆ‘ä¸ºä»€ä¹ˆæƒ³åŠé»‘å®¢æ¾ï¼š\næˆ‘è§‰å¾—æˆ‘ç›®å‰å‘†çš„åœ°æ–¹ï¼ˆDUTï¼‰åˆ›æ–°åˆ›ä¸šæ°›å›´ä¸å¤Ÿï¼Œæˆ‘æƒ³çœ‹åˆ°æ›´å¤šåˆ›æ–°åœ¨è¿™é‡Œå‘ç”Ÿï¼Œè¿™æ˜¯æˆ‘å‘èµ·çµç æ¯æœ€çœŸå®çš„æƒ³æ³•\næˆ‘è§‰å¾—ä¸å…¬å¹³ï¼Œéœ€è¦è®©å¤§å®¶æ¥è§¦åˆ°ä¸€æ ·çš„èµ„æºï¼Œå°±å¥½åƒä¸Šæ–‡æˆ‘è°ˆåˆ°çš„ï¼Œå› ä¸ºå‘†çš„åœ°æ–¹ä¸èƒ½å¾—åˆ°æ›´å¥½çš„å‘å±•ï¼Œè¿™å¤ªä¸é…·äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå¤§å®¶å¸¦æ¥ä»€ä¹ˆï¼Ÿå°±ä¸šã€è¯»ç ”ã€åˆ›ä¸šæˆ‘ä»¬ä¸è¯¥ä¸ºå¤§å®¶æŒ‡å®šä»»ä½•ä¸€æ¡è·¯ï¼æ‰€ä»¥æˆ‘ä»¬èƒ½åšçš„å°±æ˜¯æŠŠèµ„æºå¸¦ç»™å¤§å®¶ï¼Œè‡³å°‘ç•™ç»™å¤§å®¶ä¸€ä¸ªé€‰æ‹©çš„æœºä¼šï¼Œè¿™å°±è¶³å¤Ÿäº†ï¼Œä¸è¦å› ä¸ºæ¥è§¦ä¸åˆ°é”™è¿‡è¿™ä¸ªé€‰æ‹©ã€‚\nè¿™æ˜¯ä¸ªå¾ˆå¥½çš„å¹³å°ï¼Œæˆ‘è®¤è¯†äº†å¾ˆå¤šæŒšå‹ï¼Œä¹Ÿè§è¯äº†å¾ˆå¤šä¼Ÿå¤§çš„é¡¹ç›®\nFor Vibe Coding æœ‰å¹¸ä½“éªŒè¿‡ä¸–é¢ä¸Šè¿‘ä¹å…¨éƒ¨vibe codingäº§å“çš„æˆ‘èŠä¸€èŠæˆ‘çš„çœ‹æ³•ï¼Œé¦–å…ˆå…ˆç»™ä¸ªæ’åï¼ˆæˆ‘å¿ƒç›®ä¸­ï¼Œä¸ä»£è¡¨çœŸå®æƒ…å†µï¼‰ï¼Œåé¢æœ‰æœºä¼šå†ç»™å¤§å®¶æ›´æ–°è¯¦ç»†çš„æµ‹è¯„ï¼šcline + claude4 \u0026gt; claude code + claude4 \u0026gt; argument code \u0026gt; cline +gemini \u0026gt; claude code + k2 \u0026gt; kiro \u0026gt; cursor \u0026gt; windsurf \u0026gt; trae \u0026gt; void\nvibe codingä¸æ„å‘³ç€ä¸å†éœ€è¦éœ€è¦ç¼–ç¨‹ï¼Œæ„å‘³ç€éœ€è¦å¼€å‘è€…æœ‰æ›´é«˜çš„æ¶æ„æ„è¯†ï¼ŒæŒ‡æŒ¥èƒ½åŠ›\nä»¥åå¤§å®¶å°†ç¦»ä¸å¼€vibe codingï¼Œæ‰€ä»¥æ‰€æœ‰äººéƒ½è¦è½¬å˜æˆå…¨æ ˆå·¥ç¨‹å¸ˆï¼Œå¦åˆ™å°±ä¼šè¢«æ·˜æ±°ï¼Œè¿™ç‚¹åœ¨åˆåˆ›å…¬å¸ä¸­ä½“ç°çš„å°¤ä¸ºæ˜æ˜¾\nç›®å‰æ¥çœ‹vibe codingè¿˜æ˜¯ç¦»ä¸å¼€designerï¼Œæœ‰è®¾è®¡ç¨¿å†å»ç”Ÿæˆå‰ç«¯ç•Œé¢ä¼šæ›´åŠ ç¾è§‚å’Œé«˜æ•ˆï¼Œvibe codingçš„uiå¤ªè¿‡åŒè´¨åŒ–ä¸”æ²¡æœ‰æƒ³è±¡åŠ›\nä¸€å®šè¦åŒæ—¶ä¿è¯è‡ªå·±çš„å¼€å‘èƒ½åŠ›ï¼Œå¤šå»äº†è§£æ–°çš„æŠ€æœ¯æ ˆï¼ˆå¦‚æœä½ è‡ªå·±éƒ½ä¸äº†è§£æ€ä¹ˆè®©aiå»ç”¨ï¼Ÿaiåªä¼šç”¨å®ƒæœ€ç†Ÿçš„æŠ€æœ¯æ ˆï¼ˆåœ¨ä¸æŒ‡å®šçš„æƒ…å†µä¸‹ï¼‰ï¼‰æ‰€ä»¥æˆ‘ç°åœ¨è™½ç„¶å› ä¸ºä¸€äº›æ´»æ—¶é—´å¾ˆç´§ï¼Œè¿˜æ˜¯vibe codingä¸ºä¸»ï¼Œä½†æ˜¯è‡ªå·±åšçš„é¡¹ç›®éƒ½æ˜¯è¦æ±‚è‡ªå·±çº¯æ‰‹å†™ï¼Œå¤æ³•ç¼–ç¨‹ä¸‡å²ğŸ‰ï¼\næ€»ç»“ å¤ç›˜èƒ½èŠçš„å·®ä¸å¤šä¹Ÿå°±è¿™äº›äº†ï¼Œæ€»ç®—æ˜¯æœ‰æ—¶é—´åœä¸‹æ¥å¥½å¥½æ€è€ƒæ€è€ƒï¼Œè¿™æ®µæ—¶é—´æ„Ÿè§‰ä¸€ç›´åœ¨è¢«äº‹æƒ…æ¨ç€èµ°è€Œä¸æ˜¯æˆ‘æ¨ç€äº‹æƒ…èµ°ï¼Œå¸Œæœ›å¤§å®¶æœ‰æ—¶é—´çš„è¯è¿˜æ˜¯è¦æ…¢ä¸‹æ¥å¥½å¥½æƒ³æƒ³è‡ªå·±çš„æ–¹å‘\n","date":"2025-08-11T02:00:00Z","permalink":"https://dingdinglz.github.io/p/%E6%9A%91%E5%81%87%E6%B8%B8%E8%AE%B0%E5%8F%8A%E6%84%9F%E6%82%9F/","title":"æš‘å‡æ¸¸è®°åŠæ„Ÿæ‚Ÿ"},{"content":"å¤§ä¸€æ€»ç»“ å¤§ä¸€æœ€åä¸€ä¸ªæ¼«é•¿çš„æœŸæœ«å‘¨ç»ˆäºç»“æŸäº†ï¼Œä¸€ä¸ªå……å®çš„å¤§ä¸€ï¼Œæœ¬ç¯‡ä¸»è¦è®°å½•ä¸‹æš‘æœŸè§„åˆ’\næ¯”èµ›æ–¹é¢ Vivo AIGCè¿›å…¥å¤èµ›ï¼Œå®Œæˆå¤èµ›å†…å®¹ Oppoæ™ºèƒ½äº¤äº’è¿›å…¥å¤èµ›ï¼Œå®Œæˆå¤èµ›å†…å®¹ ä¸­å›½å¤§å­¦ç”Ÿè½¯ä»¶æ¯ï¼Œåˆèµ› ä¸¾åŠæ¯”èµ› é¢„å¤‡æš‘å‡æœŸé—´å¼€å±•vibe codingç«èµ› æ´»åŠ¨æ–¹é¢ å‚åŠ 7æœˆä»½AdventureXï¼Œæ­å·è§ï¼ å®ä¹ æ–¹é¢ æ™ºè¯†ç¥å·¥æš‘æœŸå®ä¹ ï¼Œè¥¿å®‰è§ï¼ é¡¹ç›®æ–¹é¢ å»ºè®¾TICæ–°é—¨æˆ·ç½‘ç«™ ç»§ç»­æ¨åŠ¨ç¤¾åŒºå¿—æ„¿ç½‘ç«™ ç»§ç»­æ¨åŠ¨UI-Generatorã€Backend-Generator å®Œæˆä¸è€å¸ˆåˆä½œå¾®è°ƒé¡¹ç›® ","date":"2025-06-19T02:00:00Z","permalink":"https://dingdinglz.github.io/p/%E6%9A%91%E5%81%87%E8%AE%A1%E5%88%92/","title":"æš‘å‡è®¡åˆ’"},{"content":"èƒŒæ™¯ ä½œä¸ºä¸€ä¸ªå…¨æ ˆå¼€å‘ï¼Œä½†é€šå¸¸æ¥è¯´ä»¥åç«¯å±…å¤šï¼Œå¹³å¸¸å†™å‰ç«¯ä¹ŸåŸºæœ¬ä¸Šå°±æ˜¯è‡ªå·±æŠŠæ¥å£å†™å®Œäº†å†å»å¯¹æ¥ï¼Œå› æ­¤æ¥è§¦åˆ°mockæ¯”è¾ƒå°‘ï¼ˆåº”è¯¥æ¥è¯´å¯¹å‰ç«¯ä»…é™äºèƒ½è·‘å°±è¡Œçš„ç¨‹åº¦ï¼‰ï¼Œç”±äºè¿‘æœŸæ¯”èµ›ä¸å…¶ä»–åŒå­¦åˆä½œï¼Œå¤„äºå¼•å¯¼åç«¯åŒå­¦è‡ªä¸»å¼€å‘çš„æƒ³æ³•ï¼Œæˆ‘ä¸»åŠ¨æ‰¿æ¥äº†å‰ç«¯çš„å·¥ä½œï¼Œå¹¶è¡¨ç¤ºä¸ä¼šå‚ä¸åç«¯çš„ä»»ä½•å·¥ä½œï¼Œä½†æ˜¯ï¼ç”±äºæŸåŒå­¦è¿Ÿè¿Ÿéƒ¨ç½²ä¸æˆåŠŸï¼Œæ‹¿ä¸åˆ°ä¸Šçº¿çš„æ¥å£çš„æˆ‘åªèƒ½å¼€å§‹å­¦ä¹ mockï¼ˆï¼‰\nä»€ä¹ˆæ˜¯mock Mockï¼ˆæ¨¡æ‹Ÿï¼‰æ˜¯è½¯ä»¶å¼€å‘ä¸­ä¸€ç§é‡è¦çš„æŠ€æœ¯ï¼Œç‰¹åˆ«æ˜¯åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œå®ƒå…è®¸å¼€å‘è€…åœ¨æ²¡æœ‰çœŸå®åç«¯æœåŠ¡çš„æƒ…å†µä¸‹è¿›è¡Œå¼€å‘å’Œæµ‹è¯•ã€‚\nMock æ˜¯æŒ‡åˆ›å»ºæ¨¡æ‹Ÿå¯¹è±¡æˆ–æ•°æ®æ¥æ›¿ä»£çœŸå®ä¾èµ–é¡¹çš„æŠ€æœ¯ã€‚åœ¨å‰ç«¯å¼€å‘ä¸­ï¼ŒMock ä¸»è¦ç”¨äºï¼š\næ¨¡æ‹Ÿåç«¯ API å“åº” æ¨¡æ‹Ÿæµè§ˆå™¨ API æˆ–ç¯å¢ƒ æ¨¡æ‹Ÿç¬¬ä¸‰æ–¹æœåŠ¡ åœ¨æµ‹è¯•ä¸­éš”ç¦»è¢«æµ‹ä»£ç  Mock Service Workerï¼ˆMSWï¼‰æ˜¯ä¸€ä¸ªç”¨äºæµè§ˆå™¨å’Œ Node.js çš„ API æ¨¡æ‹Ÿåº“ã€‚ä½¿ç”¨ MSWï¼Œæ‚¨å¯ä»¥æ‹¦æˆªå‘å‡ºçš„è¯·æ±‚ï¼Œè§‚å¯Ÿå®ƒä»¬ï¼Œå¹¶ä½¿ç”¨æ¨¡æ‹Ÿå“åº”æ¥å›ç­”å®ƒä»¬ã€‚\nä¸‹æ–‡ä¸­å°±ä»‹ç»å¦‚ä½•åˆ©ç”¨msw.jsæ¥è¿›è¡Œmockæ“ä½œï¼Œé“¾æ¥ï¼šhttps://mswjs.io/\nå®‰è£… 1 npm i msw --save-dev msw.jsä¾èµ–ä¸€ä¸ªworkerå·¥ä½œï¼Œåœ¨æ­£å¼ä½¿ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå·¥ä½œè„šæœ¬å¯¼å…¥publicç›®å½•\n1 npx msw init \u0026lt;PUBLIC_DIR\u0026gt; --save æ¨¡æ‹Ÿæ¥å£ é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç”¨ä¸€ä¸ªæ•°ç»„æ¥å®šä¹‰æˆ‘ä»¬è¦æ¨¡æ‹Ÿçš„æ¥å£åˆ—è¡¨ï¼Œä¾‹å¦‚ï¼š\n1 2 3 4 5 6 7 8 9 10 import { http, HttpResponse } from \u0026#39;msw\u0026#39; export const handlers = [ http.get(\u0026#39;/user\u0026#39;, () =\u0026gt; { return HttpResponse.json({ firstName: \u0026#39;John\u0026#39;, lastName: \u0026#39;Maverick\u0026#39;, }) }), ] è¯¥ä¾‹å­å°±æ˜¯æ¨¡æ‹Ÿäº†\u0026rsquo;/user\u0026rsquo;è¿™ä¸ªgetæ¥å£ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæ¨¡æ‹Ÿè¿”å›å€¼æ˜¯ä¸€ä¸ªjson\nåˆå§‹åŒ–workerå¹¶å¯åŠ¨ åœ¨main.jsä¸­ä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼š\n1 2 3 4 5 import { setupWorker } from \u0026#39;msw/browser\u0026#39; import { handlers } from \u0026#39;./handlers\u0026#39; export const worker = setupWorker(...handlers) worker.start() å³å¯å¯åŠ¨mockï¼Œåœ¨æ§åˆ¶å°çœ‹åˆ°ï¼š[MSW] Mocking enabled.å³ä¸ºå¯åŠ¨æˆåŠŸ\nåœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡import.meta.MODEåŒºåˆ†ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒæ¥å†³å®šæ˜¯å¦å¯åŠ¨mockï¼ˆviteä¸‹ï¼‰\nä¼šé‡åˆ°çš„é—®é¢˜ workerå¿…é¡»è¦åœ¨httpså’Œå—ä¿¡ä»»çš„è¯ä¹¦ä¸‹æ‰èƒ½å·¥ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å€ŸåŠ©mkcertï¼šhttps://github.com/FiloSottile/mkcertç”Ÿæˆè¯ä¹¦\nmkcertå®‰è£… ä»¥brewä¸ºä¾‹ï¼š\n1 brew install mkcert å¦‚æœä½ æƒ³åœ¨firefoxä¸Šå¼€å‘ï¼Œä½ è¿˜éœ€è¦å®‰è£…nss\n1 brew install nss å®‰è£…mkcertä¸ºå—ä¿¡ä»»çš„è¯ä¹¦æœºæ„ 1 mkcert -install å®‰è£…åï¼Œç”Ÿæˆçš„è¯ä¹¦å¯ä»¥è¢«æµè§ˆå™¨ä¿¡ä»»ï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºä¸ºä¸å®‰å…¨çš„è¯ä¹¦\nç”Ÿæˆè¯ä¹¦ 1 mkcert -key-file key.pem -cert-file cert.pem localhost ç”Ÿæˆäº†key.pemå’Œcert.pem\nnodeä¸­å¯ç”¨https ä»¥viteä¸ºä¾‹ï¼švite.config.jsï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 import {defineConfig} from \u0026#39;vite\u0026#39; import vue from \u0026#39;@vitejs/plugin-vue\u0026#39; import fs from \u0026#34;fs\u0026#34;; // https://vite.dev/config/ export default defineConfig(({command, mode}) =\u0026gt; { if (mode === \u0026#39;development\u0026#39;) { // development æ¨¡å¼ä¸‹å¯ç”¨https return { plugins: [vue()], server: { https: { key: fs.readFileSync(\u0026#39;./key.pem\u0026#39;), cert: fs.readFileSync(\u0026#39;./cert.pem\u0026#39;) }, } } } return { plugins: [vue()], } }) åè®° æˆ‘ä»¬å¤§å‰ç«¯ç»ˆäºç‹¬ç«‹äº†å£ç‰™\n","date":"2025-06-03T02:00:00Z","permalink":"https://dingdinglz.github.io/p/mock-msw.js/","title":"mock - msw.js"},{"content":"å‰è¨€ ä¸€ä¸ªç½‘ç«™åç«¯çš„æ ¸å¿ƒåŠŸèƒ½å½“ç„¶æ˜¯ä¸€ä¸ªhttp serverï¼Œä½†é™¤äº†serverä¹‹å¤–è¿˜æœ‰å…¶ä»–éœ€è¦è®¾è®¡çš„éƒ¨åˆ†ï¼Œæ¯”å¦‚ç”Ÿæˆé…ç½®æ–‡ä»¶å•Šï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨å¼•å¯¼å®‰è£…å•Šï¼Œé‡æ–°åˆå§‹åŒ–ï¼Œè¿ç§»æ•°æ®ï¼Œå¯¼å‡ºæ•°æ®ç­‰ç­‰ï¼Œç›´æ¥è¿è¡Œåº”ç”¨åå°±å¯åŠ¨ä¸€ä¸ªhttp serverå¹¶ä¸æ˜¯æœ€ä¼˜ç§€çš„é€‰æ‹©ã€‚\nå› æ­¤ï¼Œæœ¬ç¯‡blogå°†å¸¦é¢†å¤§å®¶åˆ©ç”¨Cobraï¼ˆCobra æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºå¼ºå¤§çš„ç°ä»£ CLI åº”ç”¨ç¨‹åºçš„åº“ã€‚ï¼‰å’ŒPtermï¼ˆPTerm æ˜¯ä¸€ä¸ªç°ä»£çš„ Go æ¨¡å—ï¼Œå¯è½»æ¾ç¾åŒ–æ§åˆ¶å°è¾“å‡ºï¼‰æ¥æ„å»ºåº”ç”¨\næˆ‘ä»¬éœ€è¦å®ç°çš„æ•ˆæœå¦‚ä¸‹ï¼ˆåº”ç”¨åæ˜¯testï¼‰ï¼š\ntest versionæ˜¾ç¤ºç‰ˆæœ¬å· test serverå¯åŠ¨æœåŠ¡å™¨ å‘½ä»¤æ¡†æ¶ cobraçš„ä½¿ç”¨æ–¹æ³•è¯·å¤§å®¶è‡ªè¡Œå‚é˜…æ–‡æ¡£ï½\né¦–å…ˆï¼Œæˆ‘ä»¬æ„å»ºåŸºç¡€å‘½ä»¤\n1 2 3 4 5 rootCmd := \u0026amp;cobra.Command{ Use: \u0026#34;test\u0026#34;, Short: \u0026#34;ä¸€ä¸ªæµ‹è¯•åº”ç”¨\u0026#34;, Long: \u0026#34;ä¸€ä¸ªæµ‹è¯•åº”ç”¨ï¼Œç”¨æ¥æ¼”ç¤º\u0026#34;, } Versionå‘½ä»¤\n1 2 3 4 5 6 7 8 versionCmd := \u0026amp;cobra.Command{ Use: \u0026#34;version\u0026#34;, Short: \u0026#34;ç‰ˆæœ¬å·\u0026#34;, Long: `è·å–testçš„ç‰ˆæœ¬ä¿¡æ¯`, Run: func(cmd *cobra.Command, args []string) { fmt.Println(\u0026#34;test v0.1 beta\u0026#34;) }, } Serverå‘½ä»¤\n1 2 3 4 5 6 7 8 serverCmd := \u0026amp;cobra.Command{ Use: \u0026#34;server\u0026#34;, Short: \u0026#34;å¯åŠ¨æœåŠ¡å™¨\u0026#34;, Long: \u0026#34;å¯åŠ¨testçš„æœåŠ¡å™¨æœåŠ¡\u0026#34;, Run: func(cmd *cobra.Command, args []string) { // å¯åŠ¨æœåŠ¡å™¨... }, } æ·»åŠ åˆ°åŸºç¡€å‘½ä»¤\n1 2 rootCmd.AddCommand(versionCmd) rootCmd.AddCommand(serverCmd) è§£æ\n1 rootCmd.Execute() å½“å‰å®Œæ•´ä»£ç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;github.com/spf13/cobra\u0026#34; ) func main() { rootCmd := \u0026amp;cobra.Command{ Use: \u0026#34;test\u0026#34;, Short: \u0026#34;ä¸€ä¸ªæµ‹è¯•åº”ç”¨\u0026#34;, Long: \u0026#34;ä¸€ä¸ªæµ‹è¯•åº”ç”¨ï¼Œç”¨æ¥æ¼”ç¤º\u0026#34;, } versionCmd := \u0026amp;cobra.Command{ Use: \u0026#34;version\u0026#34;, Short: \u0026#34;ç‰ˆæœ¬å·\u0026#34;, Long: `è·å–testçš„ç‰ˆæœ¬ä¿¡æ¯`, Run: func(cmd *cobra.Command, args []string) { fmt.Println(\u0026#34;test v0.1 beta\u0026#34;) }, } serverCmd := \u0026amp;cobra.Command{ Use: \u0026#34;server\u0026#34;, Short: \u0026#34;å¯åŠ¨æœåŠ¡å™¨\u0026#34;, Long: \u0026#34;å¯åŠ¨testçš„æœåŠ¡å™¨æœåŠ¡\u0026#34;, Run: func(cmd *cobra.Command, args []string) { // å¯åŠ¨æœåŠ¡å™¨... }, } rootCmd.AddCommand(versionCmd) rootCmd.AddCommand(serverCmd) rootCmd.Execute() } ç¼–è¯‘å¹¶è¿è¡Œ./test\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 ä¸€ä¸ªæµ‹è¯•åº”ç”¨ï¼Œç”¨æ¥æ¼”ç¤º Usage: test [command] Available Commands: completion Generate the autocompletion script for the specified shell help Help about any command server å¯åŠ¨æœåŠ¡å™¨ version ç‰ˆæœ¬å· Flags: -h, --help help for test Use \u0026#34;test [command] --help\u0026#34; for more information about a command. å¯ä»¥çœ‹åˆ°ï¼ŒåŸºç¡€çš„å‘½ä»¤æ¡†æ¶å·²ç»æ­å»ºå®Œæˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡./test helpï¼Œ./test versionæ¥æµ‹è¯•ä¸€ä¸‹ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬è¦æ·»åŠ é¢å¤–çš„åŠŸèƒ½åªéœ€è¦æ·»åŠ åˆ°å­å‘½ä»¤ä¸­å³å¯ï¼Œ./test serveråˆ™æ˜¯å¯åŠ¨ä¸»æœåŠ¡çš„æ–¹å¼\nç¾åŒ–è¾“å‡º åç«¯çš„ä¿¡æ¯å±•ç¤ºå’Œæ—¥å¿—ç­‰ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿›è¡Œæº¯æºç­‰ç­‰ï¼Œå› æ­¤æˆ‘ä»¬å¼•å…¥ptermæ¥ç¾åŒ–è¾“å‡ºï¼Œæ¯”å¦‚versionå‘½ä»¤æˆ‘ä»¬å¯ä»¥å…ˆç”¨å¤§å­—ç¾åŒ–ã€‚\n1 2 pterm.DefaultBigText.WithLetters(putils.LettersFromString(\u0026#34;test\u0026#34;)).Render() fmt.Println(\u0026#34;test v0.1 beta\u0026#34;) åˆæˆ–è€…æ˜¯å°†æ—¥å¿—æ›¿æ¢æˆptermçš„logger\n1 2 3 4 logger := pterm.DefaultLogger.WithLevel(pterm.LogLevelTrace) logger.WithCaller().Debug(\u0026#34;æˆ‘æ˜¯Debug\u0026#34;) logger.Info(\u0026#34;ä½ å¥½å‘€\u0026#34;) logger.Debug(\u0026#34;æˆ‘æ˜¯Debug\u0026#34;) æ›´å¤šå¦™ç”¨å¦‚è¿›åº¦æ¡ï¼Œé€‰æ‹©å™¨ï¼Œè¡¨æ ¼ç­‰ç­‰å‘½ä»¤è¡Œç¾åŒ–è¯·æŸ¥æ‰¾ptermæ–‡æ¡£ï¼Œæœ¬æ–‡ä»…æä¾›éƒ¨åˆ†æ€è·¯\nåè®° æœ¬æ–‡ä»‹ç»äº†æ„å»ºåç«¯æœåŠ¡å™¨çš„ç»“æ„ï¼Œå°†å•ä¸€æœåŠ¡å™¨å¯åŠ¨å˜æˆæ”¯æŒå¤šåŠŸèƒ½ï¼Œå¤§å®¶åœ¨å¼€å‘è‡ªå·±çš„åº”ç”¨ä¹‹å‰å°±è¦è€ƒè™‘å¥½æ¶æ„çš„è®¾è®¡ï¼ŒåŠŸèƒ½çš„æ‹“å±•ï¼Œéšç€æ—¶é—´çš„å †ç§¯æ‰ä¸ä¼šè®©ä»£ç è¶Šæ¥è¶Šè‡ƒè‚¿ã€‚\n","date":"2025-05-13T02:00:00Z","permalink":"https://dingdinglz.github.io/p/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E9%AB%98%E6%95%88%E7%9A%84%E7%BD%91%E7%AB%99%E5%90%8E%E7%AB%AF%E5%BA%94%E7%94%A8/","title":"å¦‚ä½•æ„å»ºä¸€ä¸ªé«˜æ•ˆçš„ç½‘ç«™åç«¯åº”ç”¨"},{"content":"Intro æœ¬æ–‡ç« ä¸»è¦ä»‹ç»å¦‚ä½•ç”¨golangçš„einoæ¡†æ¶ï¼ŒåŠ ä¸Šmcpï¼Œå®ç°ä¸€ä¸ªç»˜åˆ¶æ€ç»´å¯¼å›¾çš„å°å·¥å…·ï¼Œé¡¹ç›®ç›®å‰å·²ç»å¼€æºåœ¨ï¼šhttps://github.com/dingdinglz/mind-maker ï¼Œå®ç°çš„æ•ˆæœå¯ä»¥è¿›å…¥ä»“åº“æŸ¥çœ‹readmeï¼Œ æœ¬æ–‡ä¸»è¦èŠèŠè®¾è®¡æ€è·¯ï¼Œä»€ä¹ˆæ˜¯mcpï¼Œå¦‚ä½•è°ƒç”¨mcp\nmcp ä»€ä¹ˆæ˜¯mcp MCP æ˜¯ä¸€ä¸ªå¼€æ”¾åè®®ï¼Œå®ƒæ ‡å‡†åŒ–äº†åº”ç”¨ç¨‹åºå¦‚ä½•å‘å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰æä¾›ä¸Šä¸‹æ–‡ã€‚å¯ä»¥å°†MCPæƒ³è±¡æˆAIåº”ç”¨çš„USB-Cç«¯å£ã€‚æ­£å¦‚USB-Cæä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼æ¥è¿æ¥ä½ çš„è®¾å¤‡åˆ°å„ç§å¤–å›´è®¾å¤‡å’Œé…ä»¶ï¼ŒMCPæä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼æ¥è¿æ¥AIæ¨¡å‹åˆ°ä¸åŒçš„æ•°æ®æºå’Œå·¥å…·ã€‚\nå…¶å®ä¹Ÿå°±æ˜¯ä¸ºllmæä¾›ä¸‰æ–¹å·¥å…·ï¼Œè®©llmè·å¾—æ›´å¤šçš„èƒ½åŠ›ï¼Œä½†è¿™ä¼¼ä¹å¬èµ·æ¥å¾ˆåƒtool callï¼Œmcpä¸tool callç›¸æ¯”ï¼Œåœ¨äºå°†å·¥å…·æ•´åˆèµ·æ¥ï¼Œå¹¶ä¸”æä¾›äº†æ ‡å‡†çš„åè®®è¿›è¡Œé€šä¿¡ã€‚åœ¨è°ƒç”¨çš„åº•å±‚ï¼Œå…¶å®ä¹Ÿå°±æ˜¯å°†mcpçš„æ¯ä¸ªå‡½æ•°åŠ è½½æˆtoolçš„å½¢å¼æä¾›ç»™llmã€‚\nä½†æ˜¯ï¼Œmcpå¯ä»¥ç”±æä¾›æœåŠ¡çš„å‚å®¶å¼€å‘ï¼Œè€Œå¹¶éä½¿ç”¨llmçš„äººè‡ªå·±ï¼Œæ–¹ä¾¿äº†å¿«é€Ÿé›†æˆå·¥å…·ã€‚\nä¸ºä»€ä¹ˆmcp MCP å¸®åŠ©ä½ åœ¨å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ä¹‹ä¸Šæ„å»ºä»£ç†å’Œå¤æ‚çš„å·¥ä½œæµç¨‹ã€‚LLM ç»å¸¸éœ€è¦ä¸æ•°æ®å’Œå·¥å…·é›†æˆï¼ŒMCP æä¾›ï¼š\nä¸€ä¸ªä¸æ–­å¢é•¿çš„å·¥å…·é›†æˆåˆ—è¡¨ï¼Œä½ çš„ LLM å¯ä»¥ç›´æ¥æ¥å…¥ åœ¨ä¸åŒçš„ LLM æä¾›å•†å’Œä¾›åº”å•†ä¹‹é—´å¯ä»¥çµæ´»åˆ‡æ¢ åœ¨æ‚¨çš„åŸºç¡€è®¾æ–½å†…ä¿æŠ¤æ‚¨çš„éšç§æ•°æ® æ€ä¹ˆmcp mcpçš„è°ƒç”¨å½¢å¼ç›®å‰åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯stdioï¼Œä¸€ç§æ˜¯sseï¼Œå‰è€…æ˜¯é€šè¿‡ç±»ä¼¼äºè°ƒç”¨å‘½ä»¤è¡Œçš„æ–¹æ³•å»ä¼ é€’æ•°æ®å’Œå–å¾—ç»“æœï¼Œåè€…æ˜¯åˆ©ç”¨sseè¿›è¡Œé€šä¿¡ã€‚\nå¤§éƒ¨åˆ†è¯­è¨€ç›®å‰å·²ç»æœ‰äº†ä¸‰æ–¹å®ç°çš„mcp-clientåŒ…ï¼Œå› æ­¤æˆ‘ä»¬å¯¹äºå®ç°çš„æŠ€æœ¯ç»†èŠ‚å¯ä»¥ä¸é‚£ä¹ˆå…³å¿ƒã€‚\næˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ç”¨åˆ°çš„ï¼Œè°ƒç”¨mcpçš„golangåŒ…æ˜¯mcp-goï¼Œå®ƒåŒæ ·å¯ä»¥ä½œä¸ºserverçš„å¼€å‘å·¥å…·åŒ…\neino https://www.cloudwego.io/zh/docs/eino/\nçœ‹è¯¥blogä¹‹å‰æŠŠeinoçš„ç”¨æ³•çœ‹ä¸€é\nä»€ä¹ˆæ˜¯eino Eino æ˜¯åŸºäº Golang çš„ AI åº”ç”¨å¼€å‘æ¡†æ¶ ï¼Œ ç±»ä¼¼äºpythonçš„langchain\neinoçš„ä¼˜åŠ¿ einoé›†æˆäº†ç›¸å½“å¤šçš„å¤§æ¨¡å‹è°ƒç”¨åè®® einoæä¾›äº†ä¸€ç§ä»¥å›¾çš„å½¢å¼ï¼Œè¿›è¡Œaiè°ƒç”¨èƒ½åŠ›ç¼–æ’çš„åŠŸèƒ½ einoæä¾›äº†å‡ ç§aiçš„å°è£…å¥½çš„å¼€å‘æ¨¡å¼ï¼Œä¾‹å¦‚muli-agentï¼Œreact å½“ç„¶ï¼Œç›®å‰einoä¹Ÿæ”¯æŒäº†é›†æˆmcpï¼Œå› æ­¤ï¼Œæˆ‘ä»¬çš„ä»£ç ä¸­è¦åšçš„æ›´å¤šå°±æ˜¯è®¾è®¡æ–¹é¢çš„è€ƒè™‘ï¼Œåœ¨å®ç°ä¸Šç›¸å¯¹æ¥è¯´è¾ƒä¸ºç®€å•ã€‚\né¡¹ç›®æµç¨‹ è®©æˆ‘ä»¬æ¢³ç†ä¸€ä¸‹é¡¹ç›®æµç¨‹ï¼Œé¦–å…ˆï¼Œæ‹¿åˆ°çŸ¥è¯†ç‚¹ï¼Œç„¶åç»™llmï¼Œè®©ä»–å¸®æˆ‘ä»¬ç”»å³å¯ï¼Œç„¶åæŠŠç”Ÿæˆçš„å†…å®¹ä¿å­˜ã€‚\nè¿™éå¸¸ç®€å•ï¼Œä½†æˆ‘ä»¬éœ€è¦å¼•å…¥ä¸‹åˆ—èƒ½åŠ›ï¼š\nè”ç½‘æœç´¢ï¼Œè®©llmå¯ä»¥è·å¾—åˆ°æœ€æ–°çš„çŸ¥è¯†ç‚¹ï¼ˆå› æ­¤æœ¬é¡¹ç›®å¯ä»¥å¯¹è¿‘æœŸçš„çƒ­ç‚¹äº‹ä»¶è¿›è¡Œæ€ç»´å¯¼å›¾çš„ç»˜åˆ¶ï¼‰ï¼Œä¸”é¿å…å‡ºç°å¹»è§‰ã€‚ä½¿ç”¨æ–¹æ³•ï¼Œeinoæä¾›äº†æœç´¢çš„å·¥å…·ï¼Œæ¯”å¦‚googleã€duckduckgoï¼Œæˆ‘ä»¬ç”¨ä»–çš„duckduckgoæä¾›æœç´¢æœåŠ¡ã€‚ ç»˜åˆ¶æ€ç»´å¯¼å›¾çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬ç”¨åˆ°äº†mindmap-mcp-server æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ä¿å­˜æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥è®©aiä¿å­˜ï¼Œä¸ºäº†æ¼”ç¤ºmcpçš„ç”¨æ³•ï¼Œæˆ‘ä»¬ç”¨@modelcontextprotocol/server-filesystemæ¥å®ç°llmå¯¹æ–‡ä»¶çš„æ“ä½œ Mcpè°ƒç”¨éƒ¨åˆ† é¦–å…ˆï¼Œæˆ‘ä»¬çš„é…ç½®æ–‡ä»¶éœ€è¦è‡ªä¸»é…ç½®mcpï¼Œä»¥æ”¯æŒmcpçš„æ‹“å±•ï¼Œå› æ­¤æˆ‘ä»¬é‡‡ç”¨äº†ä»¥ä¸‹æ ¼å¼:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 { \u0026#34;mcps\u0026#34;: [ { \u0026#34;command\u0026#34;: \u0026#34;uvx\u0026#34;, \u0026#34;env\u0026#34;: [], \u0026#34;args\u0026#34;: [ \u0026#34;mindmap-mcp-server\u0026#34;, \u0026#34;--return-type\u0026#34;, \u0026#34;html\u0026#34; ] }, { \u0026#34;command\u0026#34;: \u0026#34;npx\u0026#34;, \u0026#34;env\u0026#34;: [], \u0026#34;args\u0026#34;: [ \u0026#34;-y\u0026#34;, \u0026#34;@modelcontextprotocol/server-filesystem\u0026#34;, \u0026#34;å¡«ä¸Šè¿è¡Œé¡¹ç›®çš„åœ°å€ï¼ï¼ï¼\u0026#34; ] } ] } å†™åœ¨é…ç½®æ–‡ä»¶é‡Œï¼Œè¿™ä¸å¸‚é¢ä¸Šå¤§éƒ¨åˆ†ä¸‰æ–¹MCPçš„è®¾ç½®å½¢å¼éƒ½æ˜¯ç›¸åŒçš„ï¼ŒåŠ è½½mcpçš„ä»£ç å¦‚ä¸‹ï¼Œå…¶å®å°±æ˜¯å°†mcpå…¨éƒ¨è½¬æ¢æˆäº†tool callã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; einomcp \u0026#34;github.com/cloudwego/eino-ext/components/tool/mcp\u0026#34; \u0026#34;github.com/cloudwego/eino/components/tool\u0026#34; \u0026#34;github.com/mark3labs/mcp-go/client\u0026#34; \u0026#34;github.com/mark3labs/mcp-go/mcp\u0026#34; ) func GenerateTools() []tool.BaseTool { startTime := time.Now() ctx := context.Background() var res []tool.BaseTool initRequest := mcp.InitializeRequest{} initRequest.Params.ProtocolVersion = mcp.LATEST_PROTOCOL_VERSION initRequest.Params.ClientInfo = mcp.Implementation{ Name: \u0026#34;mind-maker-client\u0026#34;, Version: \u0026#34;1.0.0\u0026#34;, } for _, item := range ActivateConfig.Mcps { cli, e := client.NewStdioMCPClient(item.Command, item.Env, item.Args...) if e != nil { panic(e) } _, e = cli.Initialize(ctx, initRequest) if e != nil { panic(e) } // å°†mcpè½¬æ¢ä¸ºå·¥å…· tools, e := einomcp.GetTools(ctx, \u0026amp;einomcp.Config{ Cli: cli, }) if e != nil { panic(e) } res = append(res, tools...) } timeLast := time.Since(startTime) fmt.Println(\u0026#34;ç”Ÿæˆmcpå·¥å…·åˆ—è¡¨ç”¨æ—¶:\u0026#34;, timeLast) return res } å¤§æ¨¡å‹è°ƒç”¨éƒ¨åˆ† ç”±äºeinoå·²ç»æ”¯æŒäº†reactæ¨¡å¼ï¼Œå› æ­¤æˆ‘ä»¬ç›´æ¥æ‹¿è¿‡æ¥ç”¨å³å¯ï¼Œå› æ­¤è¦è®¾è®¡çš„æ ¸å¿ƒç‚¹æ˜¯promptï¼Œç›®å‰é¡¹ç›®ä¸­çš„promptå¦‚ä¸‹\n1 2 ä¸‹é¢ï¼Œä½ éœ€è¦å¯¹ç”¨æˆ·ç»™å‡ºçš„çŸ¥è¯†ç‚¹è¿›è¡Œæ€ç»´å¯¼å›¾çš„ç»˜åˆ¶ï¼Œç„¶åå°†ç»“æœä¿å­˜åœ¨mind.htmlï¼Œè¦æ±‚æ€ç»´å¯¼å›¾ç»“æ„æ¸…æ™°ï¼Œé€»è¾‘æ­£ç¡®ï¼Œè¦†ç›–é¢å¹¿ï¼Œç”Ÿæˆçš„å†…å®¹çš„è¯­è¨€åº”å½“ä½¿ç”¨ä¸­æ–‡ åˆ¶ä½œå‰ä½ éœ€è¦è¿›è¡Œæœç´¢æ”¶é›†ç›¸å…³ä¿¡æ¯ï¼Œå¦‚æœæ”¶é›†åˆ°çš„ä¿¡æ¯ä¸æ˜¯ä¸­æ–‡ï¼Œè¯·ç¿»è¯‘æˆä¸­æ–‡ï¼Œç»“æœä¸€å®šè¦æ˜¯ä¸­æ–‡ï¼Œè®°ä½ï¼Œä¸€å®šè¦å°†ç»“æœä¿å­˜åˆ°mind.htmlï¼Œç”Ÿæˆçš„å†…å®¹çš„è¯­è¨€åº”å½“ä½¿ç”¨ä¸­æ–‡ ä¸»è¦åšçš„å†…å®¹å…¶å®ä¹Ÿå°±æ˜¯å¯¹è¯­è¨€çš„é™åˆ¶ï¼Œä»¥åŠå˜±å’aiè®°å¾—è°ƒç”¨ç›¸å…³èƒ½åŠ›ã€‚\nå®Œæ•´è°ƒç”¨è¿‡ç¨‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 package main import ( \u0026#34;bufio\u0026#34; \u0026#34;context\u0026#34; \u0026#34;errors\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;io\u0026#34; \u0026#34;os\u0026#34; \u0026#34;strings\u0026#34; \u0026#34;time\u0026#34; \u0026#34;github.com/cloudwego/eino-ext/components/model/openai\u0026#34; \u0026#34;github.com/cloudwego/eino-ext/components/tool/duckduckgo\u0026#34; \u0026#34;github.com/cloudwego/eino/compose\u0026#34; \u0026#34;github.com/cloudwego/eino/flow/agent\u0026#34; \u0026#34;github.com/cloudwego/eino/flow/agent/react\u0026#34; \u0026#34;github.com/cloudwego/eino/schema\u0026#34; ) func main() { ctx := context.Background() fmt.Println(\u0026#34;mind-maker by dinglz\u0026#34;) fmt.Println(\u0026#34;https://github.com/dingdinglz/mind-maker\u0026#34;) LoadConfig() if FileExist(\u0026#34;mind.html\u0026#34;) { os.Remove(\u0026#34;mind.html\u0026#34;) } fmt.Print(\u0026#34;è¯·è¾“å…¥è¦ç”Ÿæˆæ€ç»´å¯¼å›¾çš„çŸ¥è¯†ç‚¹:\u0026#34;) reader := bufio.NewReader(os.Stdin) question, e := reader.ReadString(\u0026#39;\\n\u0026#39;) if e != nil { panic(e) } question = strings.ReplaceAll(question, \u0026#34; \u0026#34;, \u0026#34;\u0026#34;) question = strings.ReplaceAll(question, \u0026#34;\\n\u0026#34;, \u0026#34;\u0026#34;) fmt.Println(\u0026#34;å¼€å§‹å¯¹çŸ¥è¯†ç‚¹\u0026#34;, question, \u0026#34;ç»˜åˆ¶æ€ç»´å¯¼å›¾\u0026#34;) chatModel, e := openai.NewChatModel(ctx, \u0026amp;openai.ChatModelConfig{ BaseURL: ActivateConfig.Model.BaseURL, APIKey: ActivateConfig.Model.ApiKey, Model: ActivateConfig.Model.Model, }) if e != nil { panic(e) } tools := GenerateTools() ducktool, e := duckduckgo.NewTool(ctx, \u0026amp;duckduckgo.Config{}) if e != nil { panic(e) } tools = append(tools, ducktool) ragent, e := react.NewAgent(ctx, \u0026amp;react.AgentConfig{ Model: chatModel, ToolsConfig: compose.ToolsNodeConfig{ Tools: tools, }, }) if e != nil { panic(e) } startTime := time.Now() sr, e := ragent.Stream(ctx, []*schema.Message{ { Role: schema.System, Content: \u0026#34;ä¸‹é¢ï¼Œä½ éœ€è¦å¯¹ç”¨æˆ·ç»™å‡ºçš„çŸ¥è¯†ç‚¹è¿›è¡Œæ€ç»´å¯¼å›¾çš„ç»˜åˆ¶ï¼Œç„¶åå°†ç»“æœä¿å­˜åœ¨mind.htmlï¼Œè¦æ±‚æ€ç»´å¯¼å›¾ç»“æ„æ¸…æ™°ï¼Œé€»è¾‘æ­£ç¡®ï¼Œè¦†ç›–é¢å¹¿ï¼Œç”Ÿæˆçš„å†…å®¹çš„è¯­è¨€åº”å½“ä½¿ç”¨ä¸­æ–‡\\n\\nåˆ¶ä½œå‰ä½ éœ€è¦è¿›è¡Œæœç´¢æ”¶é›†ç›¸å…³ä¿¡æ¯ï¼Œå¦‚æœæ”¶é›†åˆ°çš„ä¿¡æ¯ä¸æ˜¯ä¸­æ–‡ï¼Œè¯·ç¿»è¯‘æˆä¸­æ–‡ï¼Œç»“æœä¸€å®šè¦æ˜¯ä¸­æ–‡ï¼Œè®°ä½ï¼Œä¸€å®šè¦å°†ç»“æœä¿å­˜åˆ°mind.htmlï¼Œç”Ÿæˆçš„å†…å®¹çš„è¯­è¨€åº”å½“ä½¿ç”¨ä¸­æ–‡\u0026#34;, }, { Role: schema.User, Content: question, }, }, agent.WithComposeOptions(compose.WithCallbacks(\u0026amp;LoggerCallback{}))) if e != nil { panic(e) } defer sr.Close() for { msg, e := sr.Recv() if e != nil { if errors.Is(e, io.EOF) { break } panic(e) } fmt.Print(msg.Content) } fmt.Println() fmt.Println(\u0026#34;ç”Ÿæˆæ€ç»´å¯¼å›¾ç”¨æ—¶ï¼š\u0026#34;, time.Since(startTime)) if FileExist(\u0026#34;mind.html\u0026#34;) { fmt.Println(\u0026#34;ç”Ÿæˆæ€ç»´å¯¼å›¾å·²ä¿å­˜åˆ°ï¼šmind.html\u0026#34;) } else { fmt.Println(\u0026#34;ç”Ÿæˆå¤±è´¥ï¼è¯·é‡è¯•\u0026#34;) } } æ€»ç»“ è¿™åªæ˜¯ä¸€ä¸ªç›¸å½“äºä¸€ä¸ªç®€å•çš„llmé›†æˆmcpçš„ç¤ºä¾‹ + einoçš„ç¤ºä¾‹ï¼Œå®Œæ•´ä»£ç è¯·å»githubæŸ¥çœ‹\nç»“è¯­ è¿‘æœŸæ‹¿åˆ°äº†ä¸€ä¸ªç”ŸæˆuiåŸå‹å›¾çš„promptï¼Œè¿˜æŒºæœ‰æ„æ€çš„ï¼Œä¹ŸæŒºå¼ºï¼ŒåŸºäºæ­¤å¼€å‘äº†ä¸ªuiåŸå‹å›¾ç”Ÿæˆçš„ç½‘é¡µï¼Œæœ‰æ—¶é—´å°±å‘ç¯‡blogå” å” \n","date":"2025-04-29T02:00:00Z","permalink":"https://dingdinglz.github.io/p/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E7%BB%98%E5%88%B6mcp%E7%89%88/","title":"æ€ç»´å¯¼å›¾ç»˜åˆ¶ï¼ˆmcpç‰ˆï¼‰"},{"content":"æ¦‚è¿° ç”±äºæˆ‘æ›¾ç»å¯¹aiå†™ä»£ç è¿™ä¸€æ¦‚å¿µå¹¶ä¸æ˜¯å¾ˆè®¤åŒï¼Œè§‰å¾—ä»–ä¼šå¾ˆå¿«ä»å†å²èˆå°ä¸Šæ¨å‡ºï¼Œå› æ­¤å¹¶æ²¡æœ‰åœ¨cursoråˆšå‡ºçš„æ—¶å€™å°±ä½“éªŒï¼ˆäº‹å®è¯æ˜æˆ‘æ˜¯å¯¹çš„ï¼Œå¼ºçš„æ˜¯agentè€Œä¸æ˜¯chatï¼‰ï¼Œä½†éšç€claudeä»¥åŠgeminiæ–°æ¨¡å‹çš„ä¸æ–­å‘å¸ƒï¼Œä¼¼ä¹vibeç¼–ç¨‹è¶Šæ¥è¶Šçƒ­ï¼ŒåŠ ä¸Šå›½äº§å¤§å‚å­—èŠ‚çš„traeä¹Ÿå¼€å§‹åŠ å…¥å¸‚åœºï¼Œç›´æ¥å¼•çˆ†äº†æˆ‘çš„å¥½å¥‡å¿ƒã€‚\næ‰€ä»¥ï¼Œæˆ‘äº²èº«ä½“éªŒäº†cursorå’Œtraeï¼Œå…ˆä¸Šç»“è®º\nç»“è®º å¯¹äºå·²æœ‰ideaï¼Œå¿«é€Ÿæˆå‹ï¼Œtraeå’Œcursorå‡æœ‰éå¸¸å¼ºçš„èƒ½åŠ›ï¼Œèƒ½ç†è§£äººçš„éœ€æ±‚ï¼Œå¹¶èƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šè¯»æ‡‚ç½‘é¡µä¸Šçš„æ–‡æ¡£æˆ–è€…markdownæ–‡æ¡£ã€‚ï¼ˆä¼¼ä¹å¯ä»¥è¿›è¡ŒæŸäº›ä¼˜åŒ–ï¼Œè®©æ–‡æ¡£å˜æˆaiæ›´æ˜“æ‡‚çš„æ–¹å¼ï¼‰ï¼Œä½†æ˜¯ï¼Œç”Ÿæˆçš„ä»£ç å¹¶ä¸æ˜“è¯» æ­¤å¤–ï¼Œç”Ÿæˆçš„ä»£ç é¡¹ç›®ç»“æ„æ„è¯†å¹¶ä¸å¼ºï¼Œé€šå¸¸åªä¼šç”Ÿæˆå‡ ä¸ªæ–‡ä»¶ï¼Œç„¶åå †ç§¯ä¸€å¤§å †ä»£ç ï¼ˆå¯ä»¥ç†è§£ï¼Œæ¶‰åŠåˆ°å·¥å…·è°ƒç”¨ï¼Œå°½é‡å‡å°‘è°ƒç”¨æ¬¡æ•°ï¼‰ï¼Œä½†æ˜¯ï¼Œè¿™å°±å¯¼è‡´ä»£ç è´¨é‡æé€Ÿä¸‹é™ï¼Œå¾ˆå¤šä»£ç ä»…ä»…æ˜¯ä¸ºäº†å®ŒæˆåŠŸèƒ½ï¼Œå¹¶æ²¡æœ‰è€ƒè™‘å¤ç”¨æ€§å’Œæ€§èƒ½é—®é¢˜ï¼Œç”Ÿæˆå¤§é‡é‡å¤çš„ä»£ç ï¼Œä¾‹å¦‚å‰ç«¯éƒ¨åˆ†ä¸ç”¨layoutç»Ÿä¸€åšç•Œé¢ï¼Œæ¯ä¸ªå­ç•Œé¢éƒ½æŠŠlayouté‡æ–°ç”Ÿæˆä¸€éï¼Œç›®å‰æœ‰promptå¯¹äºè¯¥é—®é¢˜åšäº†æå‡ï¼Œä½†è¿˜æ˜¯ä¸å°½äººæ„ å¯¹äºç°æœ‰æˆä½“ç³»çš„ä»£ç ï¼Œæ–°å¢åŠŸèƒ½æˆ–è€…ä¿®æ”¹bugçš„èƒ½åŠ›å¹¶ä¸å¼ºï¼Œå°¤å…¶æ˜¯é¡¹ç›®æ–‡ä»¶è¾ƒå¤šçš„æ—¶å€™ï¼Œå¯èƒ½ä¸ä¸Šä¸‹æ–‡é•¿åº¦é™åˆ¶æœ‰å…³ï¼Œè€Œä¸”ï¼Œæ–°å¢çš„ä»£ç ä»£ç é£æ ¼å¹¶ä¸èƒ½ä¸è€ä»£ç å¯¹é½ï¼Œå¢åŠ äº†å®¡æ ¸å’Œä¿®æ”¹çš„éš¾åº¦ æ‰€ä»¥ï¼ŒçŸ­æœŸå†…ï¼Œé‡è¦çš„é¡¹ç›®ä»ç„¶é€‰æ‹©æ‰‹æ•²çš„å½¢å¼æ¯”è¾ƒå¥½ï¼Œæˆ‘ç”šè‡³åˆ»æ„åœ°å»å…³é—­tabï¼Œé¿å…aiçš„æ€è·¯å¯¹æˆ‘é€ æˆå¹²æ‰° ä½†æ˜¯ï¼Œä¸€äº›éœ€è¦å¿«é€Ÿå®Œæˆçš„é¡¹ç›®ï¼ˆæ¯”å¦‚æ‹¿åˆ°pptä¸Šå±•ç¤ºï¼‰ï¼Œç”ŸæˆåŸå‹å›¾ç­‰ï¼Œai ideå°±å¯ä»¥å®Œå…¨å‘æŒ¥å‡ºä»–çš„åŠŸåŠ›ï¼Œè¿™ä¸€éƒ¨åˆ†å¯èƒ½æˆ‘ä¹Ÿåªéœ€è¦ä»–å®ŒæˆåŠŸèƒ½å³å¯ï¼ŒåæœŸä¸éœ€è¦é¢å¤–ä¿®æ”¹ï¼Œä¸éœ€è¦ä¸Šçº¿ï¼Œä¹Ÿä¸éœ€è¦æ³¨æ„ä»–çš„ä»£ç è´¨é‡ è¿™é‡Œæ˜¯æˆ‘çš„å»ºè®®ï¼ï¼ï¼\næ–°æ‰‹è¯·æ…é‡ä½¿ç”¨AI IDEï¼Œä½ åº”è¯¥æ¸…æ¥šä»£ç åœ¨åšä»€ä¹ˆï¼Œåªè®©AIå†™ä¼šè¿·å¤±ä½ è‡ªå·±ï¼Œè¿™ä¸èƒ½è®©ä½ çš„codingæ°´å¹³å¾—åˆ°ä»»ä½•çš„æå‡ AIå®Œæˆä»£ç åï¼Œå¯¹äºé‡è¦çš„éƒ¨åˆ†ï¼Œä¸€å®šè¦reviewä¸€éï¼ä¸€å®šè¦reviewä¸€éï¼ è®©AIè¿™é¢—å­å¼¹å†é£ä¸€ä¼šï¼Œä¸è¡Œæˆ‘ä»¬å…ˆè‡ªå·±codeå§ï¼Œç›¸ä¿¡ä½ çš„ç”Ÿäº§åŠ›ï¼ ä¸‹é¢æ˜¯å¯¹ä¸¤æ¬¾IDEçš„è¯„æµ‹\nTrae Features Bad Points æš‚æ—¶æ•ˆæœä¸Šä»ç„¶ä¸å¦‚cursorï¼ˆåŒæ¨¡å‹ä¸‹å¯¹æ¯”ï¼‰ï¼ŒæœŸå¾…å­—èŠ‚æŒç»­å‘åŠ› æ’é˜Ÿç­‰å¾…AIå“åº”æ—¶é—´è¿‡é•¿ è¿™å‡ å¤©å¤±å»äº†å¯¹vscodeæ’ä»¶å¸‚åœºçš„æ”¯æŒï¼Œå¯¼è‡´å¼€å‘æ—¶éœ€è¦å¼€å¯ä¸¤ä¸ªIDEï¼ˆtrae + vscode ä¸€ä¸ªç”Ÿæˆä¸€ä¸ªå†™ï¼‰ Good Points ç•Œé¢å¯¹ä¸­æ–‡ç”¨æˆ·æ›´åŠ å‹å¥½ï¼Œæˆ‘è§‰å¾—ç›¸æ¯”äºcursoræ›´åŠ ç¾è§‚ï¼ˆä¹Ÿå¯èƒ½æ˜¯ç†å·¥ç”·å®¡ç¾å‘åŠ›äº†ï¼‰ ç›®å‰å·²ç»æ”¯æŒagentæ¨¡å¼ï¼Œæ”¯æŒmcpï¼Œç”šè‡³è¿˜è‡ªå¸¦äº†ä¸€ä¸ªmcpå¸‚åœº ç•Œé¢æˆªå›¾ Cursor Features Bad Points æ”¶è´¹ï¼Œ20ç¾åˆ€ä¸€ä¸ªæœˆ mcpé…ç½®å¯¹æ–°æ‰‹æ¥è¯´è¾ƒéš¾ï¼Œä½†æ˜¯ä½¿ç”¨AI IDEçš„åŒå¿—å¯èƒ½éƒ½æ˜¯å¼€å‘è€…ï¼Ÿæ‰€ä»¥æ¶‰åŠåˆ°è¯¥äº§å“çš„å®šä½å¦‚ä½•ã€‚ Good Points ä»£ç ç”Ÿæˆç»“æœå’Œå®¡ç¾ç›¸è¾ƒäºtraeæœ‰æ˜¾è‘—æé«˜ æ”¯æŒagent + mcp å¯¹vscodeæ’ä»¶å…¼å®¹æ€§å¥½ï¼Œå°±ç®—ä¸ç”¨aiåŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥å½“æˆvscodeä½¿ç”¨ ç•Œé¢æˆªå›¾ ","date":"2025-04-28T02:00:00Z","permalink":"https://dingdinglz.github.io/p/ai-ide%E6%9D%82%E8%B0%88/","title":"AI IDEæ‚è°ˆ"},{"content":"ä»€ä¹ˆæ˜¯mcp MCP æ˜¯ä¸€ç§å¼€æ”¾åè®®ï¼Œé€šè¿‡æ ‡å‡†åŒ–çš„æœåŠ¡å™¨å®ç°ï¼Œä½¿ AI æ¨¡å‹èƒ½å¤Ÿå®‰å…¨åœ°ä¸æœ¬åœ°å’Œè¿œç¨‹èµ„æºè¿›è¡Œäº¤äº’ã€‚æ­¤åˆ—è¡¨é‡ç‚¹å…³æ³¨å¯ç”¨äºç”Ÿäº§å’Œå®éªŒæ€§çš„ MCP æœåŠ¡å™¨ï¼Œè¿™äº›æœåŠ¡å™¨é€šè¿‡æ–‡ä»¶è®¿é—®ã€æ•°æ®åº“è¿æ¥ã€API é›†æˆå’Œå…¶ä»–ä¸Šä¸‹æ–‡æœåŠ¡æ¥æ‰©å±• AI åŠŸèƒ½ã€‚\nmcpæœ€è¿‘å¦‚æ­¤ä¹‹ç«ï¼Œå·²ç»æˆä¸ºè¿™å‡ å¤©llmç•Œæœ€å¤§çš„è¯é¢˜ï¼ˆä¸æ˜¯ï¼‰ï¼Œå¸‚é¢ä¸Šä¹Ÿæ¶Œç°äº†ä¸€æ‰¹åŠŸèƒ½å¼ºå¤§ï¼Œè¦†ç›–å„ä¸ªæ–¹é¢çš„mcp serverï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•è°ƒç”¨è¿™äº›mcp serverï¼Œä»¥åŠå¦‚ä½•æŠŠmcp serveré›†æˆåˆ°Einoï¼ˆå­—èŠ‚è·³åŠ¨å¼€æºçš„å¤§æ¨¡å‹åº”ç”¨å¼€å‘æ¡†æ¶ï¼‰ä¸­ï¼Œä½¿æˆ‘ä»¬çš„aiä¹Ÿå¯ä»¥è°ƒç”¨mcpçš„èƒ½åŠ›ã€‚\nLetâ€˜s start\nå¦‚ä½•å¯»æ‰¾mcp servers è¿™é‡Œæœ‰ä¸€ä»½éå¸¸æ£’çš„mcp serveråˆ—è¡¨ï¼Œä½ å¯ä»¥å¯»æ‰¾ä»»ä½•ä½ æƒ³è¦çš„åŠŸèƒ½ï¼šhttps://github.com/punkpeye/awesome-mcp-servers\nå¦å¤–ï¼Œå„å¤§apiå‚å•†ï¼Œåœ¨åŸæœ‰http apiçš„åŸºç¡€ä¸Šï¼Œé™†ç»­å¼€æ”¾äº†mcp serverï¼Œä¾‹å¦‚ç™¾åº¦åœ°å›¾ï¼Œæ›´æ–¹ä¾¿aiçš„æ¥å…¥\nä¸‹æ–‡ï¼Œæˆ‘ä»¬ä»¥https://github.com/blackwhite084/playwright-plus-python-mcpä¸ºä¾‹ï¼Œè¿›è¡Œmcpçš„è°ƒç”¨ï¼Œä½¿ç”¨çš„clientåŒ…æ˜¯ï¼šhttps://github.com/mark3labs/mcp-go\nå‰ç½®å‡†å¤‡ ç°æœ‰çš„mcp serverså¤§éƒ¨åˆ†éƒ½æ˜¯åŸºäºnpxï¼Œuvxæˆ–è€…ç›´æ¥ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæˆ‘ä»¬è¦ç”¨åˆ°çš„è¿™ä¸ªmcp serveråŸºäºuvxï¼Œç‚¹æˆ‘å®‰è£…uv\nplaywrightæ˜¯ä¸€ä¸ªæµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·ï¼Œplaywright-plus-python-mcpåŸºäºå…¶å®ç°åŠŸèƒ½ï¼Œç‚¹æˆ‘å®‰è£…playwright\nmcp server æ„æˆ ä¸€ä¸ªmcp serverä¼šæä¾›ä¸€ä¸ªtool listï¼Œä¹Ÿå°±æ˜¯æ”¯æŒçš„èƒ½åŠ›ï¼Œå¹¶ä»‹ç»å¯¹åº”toolçš„åŠŸèƒ½å’Œéœ€è¦ä¼ å…¥çš„å‚æ•°ï¼Œä»¥åŠè¿”å›çš„å‚æ•°\nè·å–tool list æ ¹æ®æ–‡æ¡£ï¼Œå¯ä»¥è½»æ¾çš„æŠŠè·å–tool listçš„åŠŸèƒ½å†™å‡ºæ¥\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;log\u0026#34; \u0026#34;github.com/mark3labs/mcp-go/client\u0026#34; \u0026#34;github.com/mark3labs/mcp-go/mcp\u0026#34; ) func main() { c, err := client.NewStdioMCPClient( \u0026#34;uvx\u0026#34;, []string{}, \u0026#34;playwright-server\u0026#34;, ) if err != nil { log.Fatalf(\u0026#34;Failed to create client: %v\u0026#34;, err) } ctx := context.Background() initRequest := mcp.InitializeRequest{} initRequest.Params.ProtocolVersion = mcp.LATEST_PROTOCOL_VERSION initRequest.Params.ClientInfo = mcp.Implementation{ Name: \u0026#34;example-client\u0026#34;, Version: \u0026#34;1.0.0\u0026#34;, } initResult, err := c.Initialize(ctx, initRequest) if err != nil { log.Fatalf(\u0026#34;Failed to initialize: %v\u0026#34;, err) } fmt.Printf( \u0026#34;Initialized with server: %s %s\\n\\n\u0026#34;, initResult.ServerInfo.Name, initResult.ServerInfo.Version, ) fmt.Println(\u0026#34;Listing available tools...\u0026#34;) toolsRequest := mcp.ListToolsRequest{} tools, err := c.ListTools(ctx, toolsRequest) if err != nil { log.Fatalf(\u0026#34;Failed to list tools: %v\u0026#34;, err) } for _, tool := range tools.Tools { fmt.Printf(\u0026#34;- %s: %s\\n\u0026#34;, tool.Name, tool.Description) } fmt.Println() } ä¸»è¦çš„æµç¨‹ä¹Ÿå°±æ˜¯æ–°å»ºä¸€ä¸ªmcpçš„clientï¼Œç„¶åæŒ‡å®šè¿æ¥çš„æ–¹å¼ï¼Œç„¶åè¿›è¡Œåˆå§‹åŒ–ï¼Œè·å–åˆ°å·¥å…·åˆ—è¡¨\nå¯ä»¥çœ‹åˆ°ï¼Œæ”¯æŒçš„åŠŸèƒ½å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 - playwright_navigate: Navigate to a URL,thip op will auto create a session - playwright_screenshot: Take a screenshot of the current page or a specific element - playwright_click: Click an element on the page using CSS selector - playwright_fill: Fill out an input field - playwright_evaluate: Execute JavaScript in the browser console - playwright_click_text: Click an element on the page by its text content - playwright_get_text_content: Get the text content of all elements - playwright_get_html_content: Get the HTML content of the page å½“ç„¶ï¼Œè¿™éƒ¨åˆ†çš„å†…å®¹åœ¨mcp-serverçš„æ–‡æ¡£ä¸­ä¹Ÿå¯ä»¥æŸ¥è¯¢åˆ°\nåˆ©ç”¨mcp serverå®ç°æˆªå›¾ç‰¹å®šç½‘é¡µ é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬åˆ©ç”¨è¿™äº›toolå®ç°ä¸€ä¸ªç®€å•çš„åŠŸèƒ½ï¼Œå¯¹github.comè¿›è¡Œæˆªå›¾ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸¤ä¸ªtoolï¼Œplaywright_navigateå’Œplaywright_screenshotï¼Œä¹Ÿå°±æ˜¯å…ˆå¯¼èˆªåˆ°å¯¹åº”ç½‘ç«™ï¼Œå†è¿›è¡Œæˆªå›¾ï¼Œå®ç°å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 package main import ( \u0026#34;context\u0026#34; \u0026#34;encoding/base64\u0026#34; \u0026#34;encoding/json\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;log\u0026#34; \u0026#34;os\u0026#34; \u0026#34;github.com/mark3labs/mcp-go/client\u0026#34; \u0026#34;github.com/mark3labs/mcp-go/mcp\u0026#34; ) func main() { c, err := client.NewStdioMCPClient( \u0026#34;uvx\u0026#34;, []string{}, \u0026#34;playwright-server\u0026#34;, ) if err != nil { log.Fatalf(\u0026#34;Failed to create client: %v\u0026#34;, err) } ctx := context.Background() initRequest := mcp.InitializeRequest{} initRequest.Params.ProtocolVersion = mcp.LATEST_PROTOCOL_VERSION initRequest.Params.ClientInfo = mcp.Implementation{ Name: \u0026#34;example-client\u0026#34;, Version: \u0026#34;1.0.0\u0026#34;, } initResult, err := c.Initialize(ctx, initRequest) if err != nil { log.Fatalf(\u0026#34;Failed to initialize: %v\u0026#34;, err) } fmt.Printf( \u0026#34;Initialized with server: %s %s\\n\\n\u0026#34;, initResult.ServerInfo.Name, initResult.ServerInfo.Version, ) fmt.Println(\u0026#34;Listing available tools...\u0026#34;) toolsRequest := mcp.ListToolsRequest{} tools, err := c.ListTools(ctx, toolsRequest) if err != nil { log.Fatalf(\u0026#34;Failed to list tools: %v\u0026#34;, err) } for _, tool := range tools.Tools { fmt.Printf(\u0026#34;- %s: %s\\n\u0026#34;, tool.Name, tool.Description) } fmt.Println() navigateRequest := mcp.CallToolRequest{} navigateRequest.Params.Name = \u0026#34;playwright_navigate\u0026#34; navigateRequest.Params.Arguments = map[string]interface{}{ \u0026#34;url\u0026#34;: \u0026#34;https://github.com/\u0026#34;, } result, err := c.CallTool(ctx, navigateRequest) if err != nil { log.Fatalf(\u0026#34;Failed to navigate: %v\u0026#34;, err) } printToolResult(result) jRequest := mcp.CallToolRequest{} jRequest.Params.Name = \u0026#34;playwright_screenshot\u0026#34; jRequest.Params.Arguments = map[string]interface{}{ \u0026#34;name\u0026#34;: \u0026#34;test.png\u0026#34;, } result, err = c.CallTool(ctx, jRequest) if err != nil { log.Fatalf(\u0026#34;Failed to navigate: %v\u0026#34;, err) } printToolResult(result) image := result.Content[0].(mcp.ImageContent) resPng, _ := base64.StdEncoding.DecodeString(image.Data) os.WriteFile(\u0026#34;test.png\u0026#34;, resPng, os.ModePerm) } func printToolResult(result *mcp.CallToolResult) { for _, content := range result.Content { if textContent, ok := content.(mcp.TextContent); ok { fmt.Println(textContent.Text) } else { jsonBytes, _ := json.MarshalIndent(content, \u0026#34;\u0026#34;, \u0026#34; \u0026#34;) fmt.Println(string(jsonBytes)) } } } é€šè¿‡mcp.CallToolRequestè¿›è¡Œè°ƒç”¨ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œè¿”å›çš„è°ƒç”¨ç»“æœæ˜¯mcp.Contentçš„å½¢å¼ï¼Œæ ¹æ®æ–‡æ¡£çš„è¯´æ˜å¯ä»¥è½¬æˆmcp.TextContentï¼Œmcp.ImageContentç­‰ç­‰\nè¿è¡Œå®Œåæœ¬åœ°çš„test.pngå›¾ç‰‡å·²ç»ä¿å­˜ï¼š\nå›é¡¾ ä¸Šè¿°åˆ©ç”¨mcp-serverçš„èƒ½åŠ›ç®€å•å®ç°äº†ä¸€ä¸ªæµè§ˆå™¨è‡ªåŠ¨åŒ–çš„ä¾‹å­ï¼Œå¦‚æœå§è¿™ä¸ªmcp serveræ¥å…¥åˆ°aiä¸­ï¼Œå…è®¸llmä½¿ç”¨çš„è¯ï¼Œå¯ä»¥å®ç°ä¸€ç³»åˆ—æµè§ˆå™¨è‡ªåŠ¨åŒ–æ“ä½œï¼Œåƒcursorç­‰ç­‰ä»¥åŠæ”¯æŒäº†mcpåè®®çš„å¼•å…¥ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹goä¸­å¦‚ä½•ä¸å¤–éƒ¨llmé›†æˆï¼Œä¹Ÿå°±æ˜¯åˆ©ç”¨einoæ¡†æ¶ï¼Œè®©mcpå»ä»£æ›¿åŸæœ‰çš„function callingçš„åŠŸèƒ½ã€‚\neinoå¼•å…¥ å®˜æ–¹å¼•å…¥ä»‹ç»ï¼šTool - MCP | CloudWeGo\neinoåŸæœ¬å®ç°ç±»ä¼¼langchainçš„åŠŸèƒ½ç›¸å¯¹æ¥è¯´å°±æ¯”è¾ƒè½»æ¾ï¼Œå®˜æ–¹ç»™å‡ºçš„mcpæ¥å…¥æ–¹æ³•æ„Ÿè§‰åƒæ˜¯æŠŠmcpçš„toolsè½¬æ¢æˆäº†åŸæœ¬çš„function toolã€‚\né€šè¿‡ï¼š\n1 2 3 import \u0026#34;github.com/cloudwego/eino-ext/components/tool/mcp\u0026#34; tools, err := mcp.GetTools(ctx, \u0026amp;mcp.Config{Cli: cli}) ç„¶åå†æŠŠtoolsåŠ å…¥Tool NodeèŠ‚ç‚¹ï¼Œå°±èƒ½è·Ÿä»¥å‰çš„function callä¸€æ ·å»ä½¿ç”¨mcpï¼Œä¹Ÿç®—æ˜¯ç»™å‡ºäº†ä¸€ç§ç®€æ´çš„æ¥å…¥æ–¹æ³•å§\næœ¬æ–‡ä¸»è¦ä»‹ç»mcpï¼Œå°±ä¸å†èµ˜è¿°einoçš„ä½¿ç”¨æ–¹å¼äº†\nç»“å°¾ å’•å’•çˆ½å•Šï¼ˆä¸æ˜¯ï¼‰ï¼Œæœ‰æ—¶é—´å†è¯¦ç»†ä»‹ç»ä¸€ä¸‹einoæ¡†æ¶å§ï¼Œgolangè‡ªå·±çš„langchain\n","date":"2025-03-29T02:00:00Z","permalink":"https://dingdinglz.github.io/p/mcp-with-golang/","title":"Mcp with golang"},{"content":" ä¼Ÿå¤§çš„etcdæ„æˆäº†äº‘åŸç”Ÿçš„åŸºçŸ³\nä»€ä¹ˆæ˜¯etcd etcd æ˜¯ç”± CoreOSï¼ˆç°ä¸º Red Hat æ——ä¸‹ï¼‰å¼€å‘çš„åˆ†å¸ƒå¼é”®å€¼å­˜å‚¨ç³»ç»Ÿï¼Œé‡‡ç”¨ Go è¯­è¨€ç¼–å†™ã€‚å®ƒé€šè¿‡ Raft å…±è¯†ç®—æ³•å®ç°é«˜å¯ç”¨æ€§ï¼Œä¸“ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡ï¼Œæä¾›ä»¥ä¸‹æ ¸å¿ƒèƒ½åŠ›ï¼š\nå¼ºä¸€è‡´æ€§ï¼šä¿è¯æ‰€æœ‰èŠ‚ç‚¹æ•°æ®çŠ¶æ€å®Œå…¨ä¸€è‡´\né«˜å¯ç”¨æ€§ï¼šé€šè¿‡å¤šèŠ‚ç‚¹é›†ç¾¤è‡ªåŠ¨æ•…éšœè½¬ç§»\nç®€å•æ˜“ç”¨ï¼šé€šè¿‡ HTTP API æä¾› RESTful æ¥å£\nå¯æ‰©å±•æ€§ï¼šæ”¯æŒæ°´å¹³æ‰©å±•å’ŒåŠ¨æ€é›†ç¾¤ç®¡ç†\nåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿé¢†åŸŸï¼Œetcd ä»¥å…¶ä¼˜é›…çš„è®¾è®¡å’Œå¼ºå¤§çš„åŠŸèƒ½ï¼Œæˆä¸ºäº‘åŸç”Ÿæ—¶ä»£çš„åŸºç¡€è®¾æ–½åŸºçŸ³ã€‚å®ƒå°±åƒä¸€ä¸ª\u0026quot;åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¿ƒè„\u0026quot;ï¼Œä¸º Kubernetesã€Service Mesh ç­‰ç³»ç»Ÿæä¾›æ ¸å¿ƒçš„åˆ†å¸ƒå¼æ•°æ®ç®¡ç†èƒ½åŠ›ã€‚\netcdçš„å®é™…åº”ç”¨ ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿæä¾›é…ç½®è®¾ç½®ä¸­å¿ƒï¼Œä¹Ÿå°±æ˜¯é”®å€¼å¯¹å­˜å‚¨ï¼Œæœ‰ç‚¹ç±»ä¼¼äºredisï¼Œä¸‹é¢æˆ‘ä»¬ä¼šè°ˆåˆ°å®ƒå’Œredisçš„å¼‚åŒ\nå®ç°é…ç½®çš„çƒ­æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯åˆ©ç”¨etcdçš„watchåŠŸèƒ½ç›‘å¬é”®å€¼çš„å˜åŒ–\nä½œä¸ºåˆ†å¸ƒå¼é”çš„ä¸€ç§å®ç°å½¢å¼\nä½œä¸ºå¾®æœåŠ¡ä¸­ï¼ŒæœåŠ¡å‘ç°ä¸æ³¨å†Œä¸­å¿ƒï¼ˆå¾—ç›Šäºleaseå’Œwatchï¼‰\nä¸‹é¢ï¼Œæˆ‘ä»¬å°†é’ˆå¯¹è¿™äº›å®é™…åº”ç”¨ï¼Œå°†golangä»£ç å®ç°ç»“åˆæ¥è¿›è¡Œè®²è§£\nåœ¨æ­¤ä¹‹å‰ï¼Œå…ˆå®Œæˆå‰ç½®å‡†å¤‡å·¥ä½œï¼š\nå‰ç½®å·¥ä½œ å®‰è£…etcdï¼šInstall | etcd\næœ¬æ–‡goå®ç°ä»£ç åŸºäºectdå®˜æ–¹clientåŒ…ï¼šetcd/client/v3 at main Â· etcd-io/etcd Â· GitHub\nLet\u0026rsquo;s start\néƒ¨ç½² etcdæ”¯æŒå•æœºéƒ¨ç½²å’Œé›†ç¾¤å¼éƒ¨ç½²ï¼Œé›†ç¾¤å¼éƒ¨ç½²æ—¶ï¼Œetcdä¿è¯äº†è‡ªå·±ä¸åŒç»ˆç«¯é—´çš„æ•°æ®é«˜åº¦ä¸€è‡´æ€§å’Œé«˜åº¦å¯ç”¨æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸redisç›¸æ¯”ï¼Œetcdæ›´åŠ ä¸€è‡´ï¼ŒåŒæ­¥é€Ÿåº¦æ›´å¿«ï¼Œå› è€Œä½œä¸ºåˆ†å¸ƒå¼é…ç½®åŒæ­¥æ˜¯å¾ˆå¥½çš„é€‰æ‹©\nç”±äºæœ¬æ–‡ä¸»è¦è°ˆä¸€è°ˆetcdèƒ½å¸®æˆ‘ä»¬å®ç°å“ªäº›å†…å®¹ï¼Œå°±ä¸åœ¨æ­¤è¯¦ç»†è¯´æ˜å¦‚ä½•éƒ¨ç½²etcdé›†ç¾¤ï¼ˆè®©è¿ç»´å“¥å»å¤´ç–¼å§å“ˆå“ˆå“ˆï¼‰ï¼Œæƒ³è¦äº†è§£è¯¦ç»†å†…å®¹å¯ä»¥å‚è€ƒï¼šHow to Set Up a Demo etcd Cluster | etcd\nGolangè¿æ¥etcd é¦–å…ˆå®‰è£…å‰ç½®å·¥ä½œä¸­çš„etcdå®˜æ–¹çš„clientåŒ…ï¼Œç„¶åå‚è€ƒä¸‹è¿°ä»£ç è¿›è¡Œè¿æ¥ï¼Œå³å¯å¾—åˆ°ä¸€ä¸ªetcdçš„clientå¯¹è±¡\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package main import ( \u0026#34;fmt\u0026#34; etcd \u0026#34;go.etcd.io/etcd/client/v3\u0026#34; ) func main() { client, e := etcd.New(etcd.Config{ Endpoints: []string{ \u0026#34;localhost:2379\u0026#34;, }, }) if e != nil { fmt.Println(e.Error()) return } é”®å€¼å¯¹çš„è¯»å’Œå†™ etcdæœ€åŸºç¡€çš„åŠŸèƒ½å…¶å®å°±æ˜¯åšä¸€ä¸ªkvå­˜å‚¨ï¼Œæœ‰ç‚¹ç±»ä¼¼äºredisï¼Œä½†æ˜¯etcdå¹¶ä¸å…·å¤‡redisé‚£æ ·ä¸°å¯Œçš„æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥å­˜å‚¨å’Œè¯»å–æ—¶çš„ç»“æ„åªæœ‰string-stringã€‚æ›´å¤šæ‹“å±•å¯ä»¥è€ƒè™‘ç”¨jsonæ ¼å¼å»å°è£…\nå†™ 1 2 ctx := context.Background() client.Put(ctx, \u0026#34;test\u0026#34;, \u0026#34;test-value\u0026#34;) è¿™æ ·å³ç»™testè®¾ç½®äº†å€¼\nè¯» 1 2 3 4 5 6 7 8 res, e := client.Get(ctx, \u0026#34;test\u0026#34;) if e != nil { fmt.Println(e.Error()) return } for _, item := range res.Kvs { fmt.Println(string(item.Key) + \u0026#34;:\u0026#34; + string(item.Value)) } è¿™æ ·å³å¯ä»¥å–åˆ°keyå’Œvalue\nå¤§å®¶å¯èƒ½æœ‰ç–‘æƒ‘ä¸ºä»€ä¹ˆres.Kvsæ˜¯ä¸€ä¸ªåˆ‡ç‰‡è€Œä¸æ˜¯ä¸€ä¸ªå…ƒç´ ï¼Œå› ä¸ºGetå¯ä»¥æŒ‰å‰ç¼€è¯»\næŒ‰å‰ç¼€è¯» 1 2 3 4 5 6 7 8 res, e := client.Get(ctx, \u0026#34;test\u0026#34;, etcd.WithPrefix()) if e != nil { fmt.Println(e.Error()) return } for _, item := range res.Kvs { fmt.Println(string(item.Key) + \u0026#34;:\u0026#34; + string(item.Value)) } å¯ä»¥çœ‹åˆ°åŒºåˆ«ä»…ä»…åœ¨äºetcd.WithPrefix()ï¼Œè¿™å¥çš„æ„æ€å°±æ˜¯è¯»æ‰€æœ‰å‰ç¼€æ˜¯testçš„é”®å€¼å¯¹ï¼Œæœ‰ç‚¹ç±»ä¼¼äºtest*ï¼Œæˆ‘ä»¬å¦‚æœæ–°å»ºä¸€ä¸ªtest2å’Œtest3ï¼Œç”¨ä¸Šè¿°ä»£ç å¯ä»¥å…¨éƒ¨è¯»å‡ºæ¥\né”®å€¼å¯¹çš„åˆç§Ÿï¼ˆleaseï¼‰ æ‰€è°“leaseï¼Œå¯ä»¥ç†è§£æˆä¸€ä¸ªé”®çš„ä¿è´¨æœŸï¼Œleaseç”¨äºä¸é”®è¿›è¡Œç»‘å®šï¼Œä¸€ä¸ªleaseå¯ä»¥ç»‘å®šå¤šä¸ªé”®ï¼Œå½“leaseè¿‡æœŸæ—¶ï¼Œå¯¹åº”çš„é”®éƒ½ä¼šè¢«åˆ é™¤ã€‚\nä¸æ­£å¸¸çš„è¿‡æœŸæ—¶é—´ä¸åŒçš„æ˜¯ï¼Œleaseå¯ä»¥è¢«ç»­æ—¶æˆ–è€…ç›´æ¥é”€æ¯ã€‚\nåŸºäºä»¥ä¸Šç‰¹ç‚¹ï¼Œè®©æˆ‘ä»¬æƒ³æƒ³leaseå¯ä»¥æ‹¿æ¥åšä»€ä¹ˆï¼š\né…åˆç›‘å¬æœºåˆ¶å»åšå¿ƒè·³åŒ…ï¼Œä¹Ÿå°±æ˜¯è®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œè®©æœåŠ¡å™¨ç«¯ä¸æ–­çš„å»ç»´æŠ¤ï¼ˆå»¶æ—¶ï¼‰leaseï¼Œå¦‚æœæœåŠ¡å™¨å®•æœºäº†ï¼Œä¸leaseç»‘å®šçš„é”®ä¼šè‡ªåŠ¨åˆ é™¤ï¼Œä¹Ÿå°±è¯´æ˜äº†è¿™å°æœåŠ¡å™¨å¯¹åº”çš„å·²ç»ä¸å¯ç”¨\næ ¹æ®ä¸Šé¢é‚£ç‚¹å¯ä»¥ç»§ç»­æ‹“å±•ï¼Œåšå¾®æœåŠ¡çš„æœåŠ¡æ³¨å†Œï¼Œæ¯”å¦‚ä¸€ä¸ªapiå¯¹åº”ä¸€ä¸ªipï¼Œè®©æœåŠ¡å™¨åŠ¨æ€ç»´æŠ¤ipçš„æ›´æ–°ï¼ŒæœåŠ¡å™¨å¯„äº†ä¹Ÿå°±å¯¼è‡´è¿™ä¸ªapiå¤±æ•ˆ\nè®¾ç½®è¿‡æœŸæ—¶é—´ 1 2 3 4 // åˆ›å»ºä¸€ä¸ªæ–°çš„leaseï¼Œè¿‡æœŸæ—¶é—´æ˜¯5s lease, _ := client.Grant(ctx, 5) // å°†åˆšåˆšåˆ›å»ºçš„leaseä¸é”®ç»‘å®š client.Put(ctx, \u0026#34;test\u0026#34;, \u0026#34;test-lease\u0026#34;, etcd.WithLease(lease.ID)) å¤§å®¶å¯ä»¥è¯•ä¸€ä¸‹5såå†å»å–testè¿™ä¸ªé”®ï¼Œè¿™ä¸ªæ—¶å€™testå·²ç»è¢«åˆ é™¤\næœåŠ¡å™¨ç»´æŠ¤å¿ƒè·³åŒ… 1 2 3 4 5 6 7 8 9 // åˆ›å»ºä¸€ä¸ªæ–°çš„leaseï¼Œè¿‡æœŸæ—¶é—´æ˜¯5s lease, _ := client.Grant(ctx, 5) // å°†åˆšåˆšåˆ›å»ºçš„leaseä¸é”®ç»‘å®š client.Put(ctx, \u0026#34;heart-ping\u0026#34;, \u0026#34;live\u0026#34;, etcd.WithLease(lease.ID)) for { // ç•™1sç»™ç½‘ç»œå› ç´  time.Sleep(4 * time.Second) client.KeepAliveOnce(ctx, lease.ID) } æ­¤æ—¶ï¼ŒéªŒè¯æœåŠ¡å™¨æ˜¯å¦å­˜æ´»åªéœ€è¦éªŒè¯heart-pingæ˜¯å¦å­˜åœ¨å³å¯\nç›‘å¬é”®å€¼å¯¹ï¼ˆwatchï¼‰ å®æ—¶ç›‘å¬é”®å€¼å¯¹çš„å˜åŒ–ï¼Œæ ¹æ®è¿™ä¸ªåŠŸèƒ½å¯ä»¥åšåˆ°é…ç½®çš„çƒ­æ›´æ–°ç­‰ç­‰\n1 2 3 4 5 6 7 8 9 10 11 // ç›‘å¬testé”® watcher := client.Watch(ctx, \u0026#34;test\u0026#34;) for event := range watcher { for _, item := range event.Events { if item.Type == etcd.EventTypeDelete { fmt.Println(string(item.Kv.Key) + \u0026#34; deleted\u0026#34;) } else { fmt.Println(string(item.Kv.Key) + \u0026#34; changed:\u0026#34; + string(item.Kv.Value)) } } } ç±»ä¼¼çš„ï¼Œwatchä¹Ÿæ¥å—etcd.WithPrefix()å‚æ•°\nåˆ†å¸ƒå¼é” æ—¢ç„¶rediså¯ä»¥ç»´æŠ¤ä¸€ä¸ªåˆ†å¸ƒå¼é”ï¼Œé‚£ä¹ˆæˆ‘etcdå½“ç„¶ä¹Ÿè¡Œï¼Œå¹¶ä¸”åŒæ­¥æ€§æ›´å¼ºï¼Œæ›´æ˜“äºæ‹“å±•\nåˆ†å¸ƒå¼é”çš„åŸç† é€šè¿‡redisã€etcdè¿™äº›ä¸­é—´ä»¶ï¼Œè®©ä¸€æŠŠé”å¯ä»¥è¢«å¤šä¸ªåº”ç”¨å…±ç”¨ï¼Œå®ç°åŸç†ä¹Ÿå¾ˆç®€å•ï¼Œç»´æŠ¤ä¸€ä¸ªé”®çš„å­˜åœ¨ä½œä¸ºé”è¢«å ç”¨ï¼Œä¸å­˜åœ¨ä½œä¸ºæœªåŠ é”çš„çŠ¶æ€å»å®ç°ï¼Œä¾‹å¦‚ä½¿ç”¨redisçš„SETNX\nåˆ†å¸ƒå¼é”æƒ³è¦å®ç°çš„åŠŸèƒ½ä¸æœ¬åœ°çš„sync.MXLockè¿™äº›åŸºæœ¬ç±»ä¼¼ï¼ŒåŒºåˆ«ä»…ä»…åœ¨äºå‰è€…å…è®¸å¤šä¸ªç³»ç»ŸåŒæ—¶è®¿é—®\nå®ç° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // å¼€å¯ä¸€ä¸ªäº‹åŠ¡ res, _ := client.Txn(ctx).If(etcd.Compare(etcd.CreateRevision(\u0026#34;lock\u0026#34;), \u0026#34;=\u0026#34;, \u0026#34;0\u0026#34;)). // å¦‚æœlockä¸å­˜åœ¨ï¼Œå³ä¸ºå¯ä»¥åŠ é” Then( etcd.OpPut(\u0026#34;lock\u0026#34;, \u0026#34;1\u0026#34;), // åˆ›å»ºlockå ç”¨é” ). Commit() if res.Succeeded { // åŠ é”æˆåŠŸ // do someting .... // è§£é” client.Delete(ctx, \u0026#34;lock\u0026#34;) } else { fmt.Println(\u0026#34;åŠ é”å¤±è´¥ï¼Œå ç”¨ä¸­\u0026#34;) } ä¸ºäº†ä¸å½¢æˆæ­»é”ï¼Œä¹Ÿå°±æ˜¯ä¸€ç›´ä¿æŒå ç”¨çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ctxçš„timeoutæˆ–è€…ç”¨åˆšåˆšè¯´çš„leaseå»ç»´æŠ¤ä¸€ä¸ªè¿‡æœŸæ—¶é—´æ¥å¤„ç†\nåŠ é”å¤±è´¥çš„æƒ…å†µä¹Ÿä¸ä»£è¡¨å½»åº•ä¸èƒ½ä½¿ç”¨ï¼Œåªæ˜¯å½“å‰è¢«å ç”¨ï¼Œå¯ä»¥ç”¨å¾ªç¯å°è¯•å¤šæ¬¡ä¸Šé”ç­‰ç­‰æ“ä½œ\næœåŠ¡å‘ç°ä¸æ²»ç† æ¯”å¦‚è¯´ï¼Œä¸€ä¸ªrpcæœåŠ¡ï¼Œæœ‰ä¸ªfunctionï¼Œè°ƒç”¨çš„ipåœ°å€æœ‰å¤šä¸ªï¼Œé€šè¿‡å¿ƒè·³åŒ…å®æ—¶ç»´æŠ¤ä»–çš„åœ°å€ï¼Œé€šè¿‡watchå»åŠ¨æ€æ›´æ–°è°ƒç”¨çš„åœ°å€ï¼Œå¦‚æœä½ æƒ³è¦æ·±å…¥äº†è§£è¿™æ–¹é¢ï¼Œå¯ä»¥å»é˜…è¯»go-zeroçš„ç›¸å…³éƒ¨åˆ†çš„æºç ï¼Œå®ƒçš„é»˜è®¤å®ç°å°±æ˜¯åˆ©ç”¨etcd\netcdä¸redisçš„å¼‚åŒ ç‰¹æ€§ Redis etcd æ ¸å¿ƒåŠŸèƒ½ é«˜æ€§èƒ½é”®å€¼å­˜å‚¨ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§æ•°æ®ç»“æ„ï¼ˆå­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å“ˆå¸Œã€é›†åˆã€æœ‰åºé›†åˆç­‰ï¼‰ã€‚ åˆ†å¸ƒå¼ä¸€è‡´æ€§é”®å€¼å­˜å‚¨ç³»ç»Ÿï¼Œä¸“æ³¨äºæœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†ã€åˆ†å¸ƒå¼åè°ƒã€‚ æ•°æ®æ¨¡å‹ æ”¯æŒä¸°å¯Œçš„æ•°æ®ç±»å‹ï¼Œå¦‚å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å“ˆå¸Œã€é›†åˆã€æœ‰åºé›†åˆã€ä½å›¾ã€åœ°ç†ç©ºé—´ç­‰ã€‚ ä»…æ”¯æŒç®€å•çš„é”®å€¼å¯¹ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œä½†æ”¯æŒç‰ˆæœ¬æ§åˆ¶ã€ç§Ÿçº¦ï¼ˆLeaseï¼‰å’Œç›®å½•ç»“æ„ï¼ˆé€’å½’æ“ä½œï¼‰ã€‚ ä¸€è‡´æ€§æ¨¡å‹ æ”¯æŒæœ€ç»ˆä¸€è‡´æ€§ï¼ˆå¼‚æ­¥å¤åˆ¶ï¼‰æˆ–å¼ºä¸€è‡´æ€§ï¼ˆé€šè¿‡ Redis Cluster æˆ–å¤šä¸»æ¨¡å¼ï¼‰ã€‚ é€šè¿‡ Raft åè®®ä¿è¯å¼ºä¸€è‡´æ€§ï¼Œæ‰€æœ‰èŠ‚ç‚¹æ•°æ®å®æ—¶åŒæ­¥ã€‚ æ€§èƒ½ é«˜ååé‡å’Œä½å»¶è¿Ÿï¼Œé€‚åˆé«˜é¢‘è¯»å†™æ“ä½œï¼ˆå¦‚ç¼“å­˜ã€é˜Ÿåˆ—ï¼‰ã€‚ ä¸ºä¸€è‡´æ€§ç‰ºç‰²éƒ¨åˆ†æ€§èƒ½ï¼Œä½†èƒ½æ»¡è¶³åˆ†å¸ƒå¼ç³»ç»Ÿåè°ƒéœ€æ±‚ã€‚ æŒä¹…åŒ– æ”¯æŒ RDBï¼ˆå¿«ç…§ï¼‰å’Œ AOFï¼ˆè¿½åŠ æ—¥å¿—ï¼‰ä¸¤ç§æŒä¹…åŒ–æ–¹å¼ã€‚ æ•°æ®æŒä¹…åŒ–åŸºäº Raft æ—¥å¿—ï¼Œæ”¯æŒ WALï¼ˆé¢„å†™æ—¥å¿—ï¼‰å’Œå¿«ç…§ã€‚ é€‚ç”¨åœºæ™¯ ç¼“å­˜ã€é˜Ÿåˆ—ã€å®æ—¶è®¡æ•°å™¨ã€ä¼šè¯ç®¡ç†ã€æ¶ˆæ¯ä¸­é—´ä»¶ï¼ˆå¦‚ Redis Pub/Subï¼‰ã€‚ æœåŠ¡å‘ç°ã€é…ç½®ä¸­å¿ƒã€åˆ†å¸ƒå¼é”ã€ leader é€‰ä¸¾ã€åˆ†å¸ƒå¼çŠ¶æ€åè°ƒï¼ˆå¦‚ Kubernetesï¼‰ã€‚ ä¸€è‡´æ€§åè®® ä¸ä¾èµ–ç‰¹å®šåè®®ï¼Œé€šè¿‡ä¸»ä»å¤åˆ¶æˆ– Cluster å®ç°åˆ†å¸ƒå¼ã€‚ åŸºäº Raft åè®®å®ç°åˆ†å¸ƒå¼ä¸€è‡´æ€§ï¼Œç¡®ä¿æ‰€æœ‰èŠ‚ç‚¹æ•°æ®ä¸€è‡´ã€‚ é›†ç¾¤ç®¡ç† éœ€è¦é¢å¤–å·¥å…·ï¼ˆå¦‚ Redis Clusterã€Redis Sentinelï¼‰å®ç°é«˜å¯ç”¨ã€‚ å†…ç½®é›†ç¾¤ç®¡ç†ï¼Œè‡ªåŠ¨æ•…éšœè½¬ç§»å’ŒèŠ‚ç‚¹å‘ç°ã€‚ API æ¥å£ åŸç”Ÿåè®®ï¼ˆRedis Protocolï¼‰æˆ– RESTful APIï¼ˆé€šè¿‡ RedisJSON ç­‰æ¨¡å—æ‰©å±•ï¼‰ã€‚ åŸç”Ÿ HTTP/JSON APIï¼Œæ”¯æŒ Watch æœºåˆ¶ï¼ˆå®æ—¶ç›‘å¬é”®å€¼å˜åŒ–ï¼‰ã€‚ ç”Ÿæ€ç³»ç»Ÿ ä¸°å¯Œçš„å®¢æˆ·ç«¯åº“ï¼ˆæ”¯æŒå¤šç§è¯­è¨€ï¼‰ã€æ’ä»¶å’Œæ‰©å±•æ¨¡å—ï¼ˆå¦‚ RedisModuleï¼‰ã€‚ æä¾›å®˜æ–¹å®¢æˆ·ç«¯åº“ï¼ˆGoã€Javaã€Python ç­‰ï¼‰ï¼Œä¸“æ³¨äºåˆ†å¸ƒå¼åè°ƒåœºæ™¯ã€‚ éƒ¨ç½²å¤æ‚åº¦ å•æœºéƒ¨ç½²ç®€å•ï¼Œé›†ç¾¤æ¨¡å¼éœ€é…ç½®ä¸»ä»æˆ– Clusterã€‚ éœ€è¦é›†ç¾¤éƒ¨ç½²ï¼ˆè‡³å°‘ 3 ä¸ªèŠ‚ç‚¹ï¼‰ï¼Œä½†ç®¡ç†ç›¸å¯¹è‡ªåŠ¨åŒ–ã€‚ å…¸å‹ç”¨é€”ç¤ºä¾‹ ç¼“å­˜é«˜é¢‘è®¿é—®æ•°æ®ã€å®ç°æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¦‚ Celeryï¼‰ã€å®æ—¶è®¡æ•°å™¨ï¼ˆå¦‚é™æµï¼‰ã€‚ å­˜å‚¨åˆ†å¸ƒå¼ç³»ç»Ÿçš„é…ç½®ã€æœåŠ¡æ³¨å†Œä¸å‘ç°ã€åè°ƒåˆ†å¸ƒå¼ä»»åŠ¡ï¼ˆå¦‚ etcd ä½œä¸º Kubernetes çš„å­˜å‚¨åç«¯ï¼‰ã€‚ å†™åœ¨æœ€å åœ¨å’•å’•äº†å¾ˆä¹…ä¹‹åç»ˆäºåˆæ›´æ–°äº†ä¸€ç¯‡ï¼ˆï¼‰ï¼Œetcdåœ¨ç›®å‰è°ˆå•¥éƒ½è¦èŠèŠåˆ†å¸ƒå¼çš„å¹´ä»£ï¼ˆè™½ç„¶æˆ–è®¸å…¶å®ä¸éœ€è¦ç”¨åˆ†å¸ƒå¼ä¹Ÿèƒ½å¸¦å¾—åŠ¨å‘¢ï¼ŒçœŸçš„æœ‰é‚£ä¹ˆå¤šç”¨æˆ·å—ï¼Ÿï¼‰èµ·ç€å¾ˆé‡è¦çš„ä½œç”¨ï¼Œetcdåœ¨è¿™ä¸ªé¢†åŸŸä¹Ÿä¸æ˜¯ä¸€å®¶ç‹¬å¤§ï¼Œå®ƒçš„â€œåŒè¡Œâ€æœ‰zookeeperç­‰ç­‰ï¼Œä½†æ˜¾ç„¶etcdæ˜¯å…¶ä¸­æ ¼å¤–å‡ºè‰²çš„ã€‚\né¡ºä¾¿ä¸€æï¼Œæœ€è¿‘æœ‰ç§å¾ˆå¿™åˆä¸çŸ¥é“åœ¨å¿™å•¥çš„æ„Ÿè§‰ï¼ˆï¼‰ï¼Œå¸Œæœ›ä¸‹æ¬¡æ›´æ–°å¯ä»¥æä¸Šæ—¥ç¨‹å§ï¼Œå°šä¸”å’•å’•äº†ä¸€ç¯‡kmpå’Œeinoçš„å†…å®¹ï¼Œå”‰å”‰å”‰\n","date":"2025-03-24T02:00:00Z","permalink":"https://dingdinglz.github.io/p/etcd%E7%9A%84%E5%8A%9F%E8%83%BD%E4%B8%8E%E5%BA%94%E7%94%A8/","title":"etcdçš„åŠŸèƒ½ä¸åº”ç”¨"},{"content":"Geospatial Redisåœ°ç†ç©ºé—´ç´¢å¼•å¯ç”¨äºå­˜å‚¨åœ°ç†åæ ‡å¹¶æ”¯æŒåŸºäºåæ ‡çš„æ£€ç´¢åŠŸèƒ½ã€‚è¿™ç§æ•°æ®ç»“æ„é€‚ç”¨äºæŸ¥æ‰¾ç»™å®šåŠå¾„æˆ–è¾¹ç•Œæ¡†èŒƒå›´å†…çš„é‚»è¿‘ä½ç½®ç‚¹ï¼Œåœ¨å®šä½å‘¨è¾¹ç›®æ ‡åœºæ™¯ä¸­å…·æœ‰é‡è¦åº”ç”¨ä»·å€¼ã€‚\nå…¶å®æˆ‘æ„Ÿè§‰è¿™æ˜¯ä¸ªæŒºå¥‡æ€ªçš„ç±»å‹ï¼Œåœ°ç†åæ ‡ä¼¼ä¹åªå¯¹ç‰¹å®šä¸šåŠ¡æœ‰ç”¨ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªpair\u0026lt;double,double\u0026gt;çš„setï¼Œé™„å¸¦äº†ä¸€äº›è®¡ç®—æ–¹æ³•å’Œç­›é€‰æ–¹æ³•ã€‚\nGEOADD å°†ä¸€ä¸ªä½ç½®æ·»åŠ åˆ°åœ°ç†ç©ºé—´é‡Œï¼Œç”¨æ³•æ˜¯GEOADD åœ°ç†ç©ºé—´å ç»åº¦ çº¬åº¦ åœ°ç‚¹å\nredis-cli 1 GEOADD test -122.27652 37.805186 station:1 go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 package main import ( \u0026#34;context\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) client.GeoAdd(ctx, \u0026#34;test\u0026#34;, \u0026amp;redis.GeoLocation{ Name: \u0026#34;station:1\u0026#34;, Longitude: -122.27652, Latitude: 37.805186, }) } GEODIST å¯ä»¥è·å–ä¸¤ç‚¹é—´çš„è·ç¦»ï¼Œç”¨æ³•æ˜¯GEODIST åœ°ç†ç©ºé—´å åœ°ç‚¹1 åœ°ç‚¹2\nredis-cli 1 GEODIST test station:1 station:2 km kmå¯ä»¥æ›¿æ¢æˆå…¶ä»–é•¿åº¦ï¼Œä¾‹å¦‚m\ngo-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.GeoDist(ctx, \u0026#34;test\u0026#34;, \u0026#34;station:1\u0026#34;, \u0026#34;station:2\u0026#34;, \u0026#34;m\u0026#34;).Result() if e != nil { panic(e) } fmt.Println(res) } GEOPOS è·å–åœ°ç†ç©ºé—´ä¸­ä¸€ä¸ªç‚¹çš„åæ ‡ï¼Œç”¨æ³•æ˜¯GEOPOS åœ°ç†ç©ºé—´å åœ°ç‚¹å\nredis-cli 1 GEOPOS test station:1 go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.GeoPos(ctx, \u0026#34;test\u0026#34;, \u0026#34;station:1\u0026#34;).Result() if e != nil { panic(e) } fmt.Println(res[0]) } GEOSEARCH æœç´¢ä¸€ä¸ªåœ†æˆ–è€…ä¸€ä¸ªé•¿æ–¹å½¢å†…çš„åœ°ç†ä½ç½®çš„ä¸ªæ•°ï¼Œç”¨æ³•æ˜¯GEOSEARCH åœ°ç†ç©ºé—´å \u0026lt;FROMMEMBERÂ member | FROMLONLATÂ longitude latitude\u0026gt; \u0026lt;BYRADIUSÂ radius \u0026lt;M | KM | FT | MI\u0026gt; | BYBOXÂ width height \u0026lt;M | KM | FT | MI\u0026gt;\u0026gt;\nredis-cli 1 GEOSEARCH test FROMLONLAT -122.2612767 37.7936847 BYRADIUS 5 km WITHDIST go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.GeoSearch(ctx, \u0026#34;test\u0026#34;, \u0026amp;redis.GeoSearchQuery{ Longitude: -122.2612767, Latitude: 37.7936847, Radius: 5, RadiusUnit: \u0026#34;km\u0026#34;, }).Result() if e != nil { panic(e) } for _, i := range res { fmt.Println(i) } } å›é¡¾ åœ°ç†ç©ºé—´å¯¹äºæŸäº›ç‰¹å®šä¸šåŠ¡éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚åœ°å›¾ä¸­çš„å®šä½ï¼Œæœç´¢ç­‰ç­‰ï¼Œæˆ‘ä»¬ä»Šå¤©èŠäº†è¿™äº›å‘½ä»¤ï¼š\nGEOADD\nGEODIST\nGEOPOS\nGEOSEARCH\næ›´å¤šåœ°ç†ç©ºé—´ç›¸å…³çš„å‘½ä»¤\n","date":"2025-02-24T02:00:00Z","permalink":"https://dingdinglz.github.io/p/redis%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%97%857-geospatial/","title":"Rediså­¦ä¹ ä¹‹æ—…(7) Geospatial"},{"content":"Stream Redisæµæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå…¶è¡Œä¸ºç±»ä¼¼äºä»…è¿½åŠ æ—¥å¿—ï¼ŒåŒæ—¶å®ç°äº†å¤šé¡¹çªç ´å¸¸è§„ä»…è¿½åŠ æ—¥å¿—å±€é™æ€§çš„æ“ä½œã€‚è¿™äº›ç‰¹æ€§åŒ…æ‹¬æ”¯æŒå¸¸é‡æ—¶é—´å¤æ‚åº¦(O(1))çš„éšæœºè®¿é—®ï¼Œä»¥åŠå®ç°è¯¸å¦‚æ¶ˆè´¹è€…ç»„ç­‰å¤æ‚çš„æ¶ˆæ¯æ¶ˆè´¹ç­–ç•¥ã€‚é€šè¿‡æµç»“æ„ï¼Œå¼€å‘è€…èƒ½å¤Ÿå®æ—¶è®°å½•å¹¶åŒæ­¥åˆ†å‘äº‹ä»¶ã€‚å…¶å…¸å‹åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š\näº‹ä»¶æº¯æºï¼ˆä¾‹å¦‚è·Ÿè¸ªç”¨æˆ·æ“ä½œã€ç‚¹å‡»ç­‰è¡Œä¸ºï¼‰\nä¼ æ„Ÿå™¨ç›‘æµ‹ï¼ˆä¾‹å¦‚æ¥è‡ªç°åœºè®¾å¤‡çš„è¯»æ•°æ•°æ®ï¼‰\né€šçŸ¥åŠŸèƒ½ï¼ˆä¾‹å¦‚ä¸ºæ¯ä½ç”¨æˆ·çš„é€šçŸ¥è®°å½•å•ç‹¬åˆ›å»ºç‹¬ç«‹äº‹ä»¶æµå­˜å‚¨ï¼‰\næµæ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ç±»å‹ï¼Œå› æ­¤å®ƒçš„ç‰¹æ€§ä¹Ÿå°±éå¸¸å¤æ‚ï¼Œé¦–å…ˆæµå¯ä»¥ç†è§£æˆä¸€ä¸ªåˆ—è¡¨ï¼Œä½†æ˜¯å…¶ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯å¸¦æœ‰å…ˆåé¡ºåºçš„ä¸€ä¸ªHashè¡¨ï¼Œæµä¸ä¹‹å‰æåˆ°çš„Listç›¸æ¯”ï¼Œæœ€çªå‡ºçš„ä¸€ä¸ªç‰¹æ€§æ˜¯ç›‘å¬ï¼Œé€šè¿‡æ¶ˆè´¹è€…ç»„ï¼Œå¯ä»¥å»å®æ—¶åœ°æ”¶åˆ°æµä¸­ä¼ æ¥çš„æœ€æ–°çš„æ¶ˆæ¯ï¼ˆæˆ–è€…æœªå¤„ç†çš„æ¶ˆæ¯ï¼‰\nå› æ­¤ï¼Œæµæ¯”Listæ›´é€‚åˆå®ç°æ¶ˆæ¯é˜Ÿåˆ—\nXADD XADDç”¨äºå‘æµä¸­æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œæ³¨æ„ï¼Œè¿™ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªhashè¡¨çš„å½¢å¼ï¼Œæ‰€ä»¥å®ƒç±»ä¼¼äºmap[string]interface{}ï¼ŒXADDçš„ç”¨æ³•æ˜¯XADD æµå ID key value ...\nXADDä¼šè¿”å›ä¸€ä¸ªIDå¯¹åº”è¿™ä¸ªå…ƒç´ ï¼ŒXADDä¸­çš„idä½ å³å¯ä»¥æ‰‹åŠ¨æŒ‡å®šï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ æ·»åŠ çš„å…ƒç´ ä¸€å®šè¦æ¯”ä¸Šä¸€æ¬¡æ·»åŠ çš„å…ƒç´ çš„IDæ–°ï¼‰ï¼Œæˆ–è€…ç”¨*è®©redisè‡ªåŠ¨å¸®ä½ ç”Ÿæˆï¼Œredisç”Ÿæˆçš„idæ˜¯å’Œæ—¶é—´ç›¸ç»‘å®šçš„\næ¯”å¦‚æˆ‘ä»¬è¦å¾€personæµä¸­æ·»åŠ ä¸€ä¸ªäººï¼Œè¿™ä¸ªäººå…·æœ‰nameã€ageè¿™ä¸¤ä¸ªå­—æ®µ\nredis-cli 1 XADD person * name dinglz age 18 go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import ( \u0026#34;context\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) client.XAdd(ctx, \u0026amp;redis.XAddArgs{ Stream: \u0026#34;person\u0026#34;, ID: \u0026#34;*\u0026#34;, Values: map[string]interface{}{ \u0026#34;name\u0026#34;: \u0026#34;dinglz\u0026#34;, \u0026#34;age\u0026#34;: 18, }, }) } XDEL åˆ é™¤æµä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œç”¨æ³•æ˜¯XDEL æµå ID\nredis-cli 1 XDEL person ID go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 package main import ( \u0026#34;context\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) client.XDel(ctx, \u0026#34;person\u0026#34;, \u0026#34;id\u0026#34;) } XRANGE æŒ‰èŒƒå›´æŸ¥è¯¢æµçš„å†…å®¹ï¼Œç”¨æ³•æ˜¯XRANGE æµå å¼€å§‹ ç»“æŸ [COUNT è·å–ä¸ªæ•°]\n[]å†…æ˜¯å¯é€‰å†…å®¹ï¼Œå¼€å§‹idå’Œç»“æŸidæœ‰ä¸€ä¸ªç‰¹æ®Šå†™æ³•ï¼Œå°±æ˜¯-å’Œ+ï¼Œå‰è€…ä»£è¡¨æœ€è€ä¸€ä¸ªæµå†…å®¹ï¼Œåè€…ä»£è¡¨æœ€æ–°ä¸€ä¸ªæµå†…å®¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¦è·å–åˆšåˆšæµé‡Œæ‰€æœ‰å†…å®¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥XRANGE person - +\nå¦‚æœæˆ‘ä»¬æƒ³è·å–æœ€åˆåŠ å…¥çš„ä¸‰ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨COUNTé™å®šæœ€å¤šå–åˆ°çš„å…ƒç´ ä¸ªæ•°ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼šXRANGE person - + COUNT 3\nå¦‚æœæˆ‘ä»¬ä¸€ç›´ä¸€ä¸ªIDï¼Œæƒ³è·å–å®ƒçš„å†…å®¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥XRANGE person id id\ngo-redis example 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.XRange(ctx, \u0026#34;person\u0026#34;, \u0026#34;-\u0026#34;, \u0026#34;+\u0026#34;).Result() if e != nil { panic(e) } for _, i := range res { fmt.Println(i) } } XGROUP CREATE æ–°å»ºä¸€ä¸ªç›‘å¬ç»„ï¼Œç”¨æ³•æ˜¯XGROUP CREATE æµå ç»„å å¼€å§‹ç›‘å¬çš„id, è¿™ä¸ªidå¯ä»¥å¡«æˆ$ï¼Œè¡¨ç¤ºç›‘å¬ä»æ–°å»ºä»¥åæ–°å¢çš„idã€‚\né…åˆä¸‹é¢è¦è¯´çš„XREADGROUPå‘½ä»¤å¯ä»¥å®Œæˆå¯¹æ¶ˆæ¯çš„ç›‘å¬\nXREADGROUP ä»ç›‘å¬çš„æµé‡Œè·å–æ–°æ¶ˆæ¯ï¼Œç”¨æ³•æ˜¯XREADGROUP GROUP ç›‘å¬ç»„å ç›‘å¬è€… COUNT æœ€å¤šè·å–æ¶ˆæ¯æ•° STREAMS æµå \u0026gt;\næœ€åä¸€ä¸ª\u0026gt;è¡¨ç¤ºè·å–ä»æ¥æ²¡æœ‰è¢«å…¶ä»–ç›‘å¬è€…å¬åˆ°è¿‡çš„æ¶ˆæ¯ï¼Œä¹Ÿå°±ä¿è¯äº†æ¶ˆæ¯ä¸ä¼šé‡å¤åˆ†å‘\nä¸‹é¢æˆ‘ä»¬æ¥æ·»åŠ ä¸‰ä¸ªäººï¼Œç„¶åå°è¯•è·å–ä¸¤æ¬¡æ¬¡\nredis-cli 1 2 3 4 5 6 XGROUP CREATE person test $ XADD person * name dinglz age 18 XADD person * name jack age 20 XADD person * name alice age 22 XREADGROUP GROUP test listener COUNT 1 STREAMS person \u0026gt; XREADGROUP GROUP test listener COUNT 1 STREAMS person \u0026gt; å¯ä»¥çœ‹åˆ°æ˜¯ä»æ–°åˆ°è€è·å–\ngo-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) client.XGroupCreateMkStream(ctx, \u0026#34;person\u0026#34;, \u0026#34;test\u0026#34;, \u0026#34;$\u0026#34;) client.XAdd(ctx, \u0026amp;redis.XAddArgs{ Stream: \u0026#34;person\u0026#34;, ID: \u0026#34;*\u0026#34;, Values: map[string]interface{}{ \u0026#34;name\u0026#34;: \u0026#34;dinglz\u0026#34;, \u0026#34;age\u0026#34;: 18, }, }) client.XAdd(ctx, \u0026amp;redis.XAddArgs{ Stream: \u0026#34;person\u0026#34;, ID: \u0026#34;*\u0026#34;, Values: map[string]interface{}{ \u0026#34;name\u0026#34;: \u0026#34;jack\u0026#34;, \u0026#34;age\u0026#34;: 20, }, }) client.XAdd(ctx, \u0026amp;redis.XAddArgs{ Stream: \u0026#34;person\u0026#34;, ID: \u0026#34;*\u0026#34;, Values: map[string]interface{}{ \u0026#34;name\u0026#34;: \u0026#34;alice\u0026#34;, \u0026#34;age\u0026#34;: 20, }, }) res, e := client.XReadGroup(ctx, \u0026amp;redis.XReadGroupArgs{ Group: \u0026#34;test\u0026#34;, Consumer: \u0026#34;listener\u0026#34;, Streams: []string{\u0026#34;person\u0026#34;, \u0026#34;\u0026gt;\u0026#34;}, Count: 1, }).Result() if e != nil { panic(e) } fmt.Println(res[0].Messages[0].Values) } XACK \u0026amp;\u0026amp; XPENDING XACKå’ŒXPENDINGæ˜¯ä¸€ç»„å‘½ä»¤ï¼ŒXPENDINGç”¨äºè·å–è¢«è·å–ï¼Œä½†æ²¡è¢«å¤„ç†çš„æµé‡Œçš„æ•°æ®ï¼ŒXACKç”¨äºæ ‡è®°è¯¥æ•°æ®å·²è¢«å¤„ç†ã€‚\nXPENDINGçš„ç”¨æ³•æ˜¯XPENDING æµå ç›‘å¬ç»„åï¼ŒXACKçš„ç”¨æ³•æ˜¯XACK æµå ç›‘å¬ç»„å ID\nè¯¦ç»†çš„ç”¨æ³•ç›´æ¥å‚è€ƒç”¨ä¾‹å§\nç”¨ä¾‹ è¿™é‡Œæˆ‘ä»¬ç”¨streamå®ç°ä¸€ä¸ªæ›´å®Œå–„çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ç°äº†ä»¥ä¸‹åŠŸèƒ½\nä¸‰ä¸ªworkerså»è®¤é¢†ä»»åŠ¡\nä¸‰ä¸ªworkersä¸€å…±æœ€å¤šæ‹¥æœ‰åä¸ªå¤„ç†ä»»åŠ¡çš„goroutine\næ¯3såšä¸€æ¬¡å‰©ä½™ä»»åŠ¡é‡çš„é€šæŠ¥\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;strconv\u0026#34; \u0026#34;sync\u0026#34; \u0026#34;time\u0026#34; \u0026#34;math/rand\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) var waitGroup sync.WaitGroup var processLock sync.Mutex func taskMaker(ctx context.Context, client *redis.Client, counts int) { for i := 1; i \u0026lt;= counts; i++ { client.XAdd(ctx, \u0026amp;redis.XAddArgs{ Stream: \u0026#34;tasks\u0026#34;, Values: map[string]interface{}{ \u0026#34;name\u0026#34;: \u0026#34;task\u0026#34; + strconv.Itoa(i), }, }) } } func workerMaker(ctx context.Context, client *redis.Client, name string) { for { resW, _ := client.XReadGroup(ctx, \u0026amp;redis.XReadGroupArgs{ Group: \u0026#34;worker\u0026#34;, Consumer: name, Count: 1, Streams: []string{\u0026#34;tasks\u0026#34;, \u0026#34;\u0026gt;\u0026#34;}, Block: 1 * time.Second, }).Result() if len(resW) == 0 { fmt.Println(name + \u0026#34;è®¤é¢†å·¥ä½œå®Œæˆ\u0026#34;) break } go func() { for { processLock.Lock() res, _ := client.Get(ctx, \u0026#34;worker-count\u0026#34;).Int() if res \u0026lt; 10 { client.Incr(ctx, \u0026#34;worker-count\u0026#34;) go func() { max := int64(3 * time.Second) ns := rand.Int63n(max) time.Sleep(time.Duration(ns)) client.XAck(ctx, \u0026#34;tasks\u0026#34;, \u0026#34;worker\u0026#34;, resW[0].Messages[0].ID) client.XDel(ctx, \u0026#34;tasks\u0026#34;, resW[0].Messages[0].ID) fmt.Println(resW[0].Messages[0].Values[\u0026#34;name\u0026#34;], \u0026#34;ç”±\u0026#34;, name, \u0026#34;å®Œæˆ\u0026#34;) client.Decr(ctx, \u0026#34;worker-count\u0026#34;) }() processLock.Unlock() break } processLock.Unlock() } }() } } func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) client.Set(ctx, \u0026#34;worker-count\u0026#34;, 0, 0) go taskMaker(ctx, client, 100) client.XGroupCreateMkStream(ctx, \u0026#34;tasks\u0026#34;, \u0026#34;worker\u0026#34;, \u0026#34;$\u0026#34;) waitGroup.Add(1) for i := 1; i \u0026lt;= 3; i++ { go workerMaker(ctx, client, \u0026#34;worker\u0026#34;+strconv.Itoa(i)) } go func() { for { time.Sleep(3 * time.Second) res, _ := client.XPending(ctx, \u0026#34;tasks\u0026#34;, \u0026#34;worker\u0026#34;).Result() resText := \u0026#34;\u0026#34; for name, last := range res.Consumers { resText += name + \u0026#34;:\u0026#34; + strconv.FormatInt(last, 10) + \u0026#34; \u0026#34; } fmt.Println(resText) if res.Count == 0 { waitGroup.Done() } } }() waitGroup.Wait() } å›é¡¾ Streaméå¸¸å¼ºå¤§ï¼Œä»æˆ‘ä»¬ä¸Šé¢å®ç°çš„æ¶ˆè´¹é˜Ÿåˆ—å°±å¯ä»¥çœ‹å‡ºï¼Œå¤§å®¶å¯ä»¥è¯¦ç»†ç ”ç©¶ä¸€ä¸‹Streamç›¸å…³çš„ï¼Œæˆ‘ä»¬æœªæåˆ°çš„å…¶ä»–å‘½ä»¤ï¼Œä»Šå¤©èŠåˆ°äº†è¿™äº›å‘½ä»¤ï¼š\nXADD\nXDEL\nXRANGE\nXGROUP CREATE\nXREADGROUP\nXACK \u0026amp;\u0026amp; XPENDING\næ›´å¤šstreamç›¸å…³çš„å‘½ä»¤\n","date":"2025-02-23T02:00:00Z","permalink":"https://dingdinglz.github.io/p/redis%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%97%856-streams/","title":"Rediså­¦ä¹ ä¹‹æ—…(6) Streams"},{"content":"Sorted Sets Redisæœ‰åºé›†åˆæ˜¯ä¸€ç§ç”±å”¯ä¸€å­—ç¬¦ä¸²ï¼ˆæˆå‘˜ï¼‰æ„æˆçš„æ•°æ®ç»“æ„ï¼Œå…¶æˆå‘˜æŒ‰å…³è”åˆ†å€¼æ’åºã€‚å½“å¤šä¸ªå­—ç¬¦ä¸²å…·æœ‰ç›¸åŒåˆ†å€¼æ—¶ï¼Œè¿™äº›å­—ç¬¦ä¸²å°†æŒ‰å­—å…¸é¡ºåºæ’åˆ—ã€‚å…¶å…¸å‹åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š\næ’è¡Œæ¦œã€‚ä¾‹å¦‚ï¼Œåœ¨å¤§å‹åœ¨çº¿æ¸¸æˆä¸­ï¼Œæ‚¨å¯ä»¥é€šè¿‡æœ‰åºé›†åˆè½»æ¾ç»´æŠ¤æœ€é«˜åˆ†çš„æœ‰åºåˆ—è¡¨ï¼Œå®ç°é«˜æ•ˆçš„æ¸¸æˆç§¯åˆ†æ’åç³»ç»Ÿã€‚\né€Ÿç‡é™åˆ¶å™¨ã€‚ç‰¹åˆ«æ˜¯å¯ä»¥åˆ©ç”¨æœ‰åºé›†åˆæ„å»ºæ»‘åŠ¨çª—å£é€Ÿç‡é™åˆ¶å™¨ï¼Œä»¥é˜²æ­¢è¿‡å¤šçš„APIè¯·æ±‚ã€‚\nsorted setä¸setçš„åŒºåˆ«æ˜¯ï¼Œå®ƒä¸setä¸€æ ·éƒ½æ˜¯åªèƒ½å­˜æ”¾äº’å¼‚çš„å…ƒç´ ï¼Œä½†æ˜¯å®ƒçš„æ¯ä¸ªå…ƒç´ ä¸ä¸€ä¸ªåˆ†æ•°ï¼ˆscoreï¼‰ç»‘å®šã€‚\nsorted setæœ‰ç‚¹ç±»ä¼¼äºcppçš„stlä¸­çš„ä¼˜å…ˆé˜Ÿåˆ—ï¼Œä»–ä¼šå°†æ‰€æœ‰å…ƒç´ æŒ‰ç…§scoreçš„å¤§å°è¿›è¡Œæ’åº\nZADD å‘sorted setä¸­åŠ å…¥ä¸€ä¸ªå…ƒç´ ï¼Œç”¨æ³•æ˜¯ZADD æœ‰åºé›†åˆå å…ƒç´ çš„åˆ†æ•° å…ƒç´ \nå½“æˆ‘ä»¬è¦ä¿®æ”¹ä¸€ä¸ªå…ƒç´ çš„åˆ†æ•°æ—¶ï¼Œå¯ä»¥ç›´æ¥å†ç”¨ä¸€éZADDï¼Œä¼šè‡ªåŠ¨ä¿®æ”¹å…ƒç´ çš„åˆ†æ•°å¹¶é‡æ–°æ’åº\nredis-cli 1 ZADD age 20 jack go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package main import ( \u0026#34;context\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) client.ZAdd(ctx, \u0026#34;age\u0026#34;, redis.Z{ Member: \u0026#34;Jack\u0026#34;, Score: 20, }) } ZREM ä»sorted setä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œç”¨æ³•æ˜¯ZREM æœ‰åºé›†åˆå å…ƒç´ \nredis-cli 1 ZREM age jack go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 package main import ( \u0026#34;context\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) client.ZRem(ctx, \u0026#34;age\u0026#34;, \u0026#34;Jack\u0026#34;) } ZRANGE \u0026amp;\u0026amp; ZREVRANGE éå†sorted setï¼ŒZRANGEæ˜¯ä»¥å‡åºæ–¹å¼éå†ï¼ŒZREVRANGEæ˜¯ä»¥é™åºæ–¹å¼éå†\nç”¨æ³•æ˜¯ZRANGE æ’åºé›†åˆå å¼€å§‹ä¸‹æ ‡ ç»“æŸä¸‹æ ‡\næ¯”å¦‚ZRANGE age 0 -1å°±æ˜¯å‡åºæ–¹å¼éå†æ•´ä¸ªé›†åˆï¼ˆä»å°åˆ†æ•°åˆ°å¤§åˆ†æ•°ï¼‰ï¼ŒZREVRANGEåˆ™ä¸ä¹‹ç›¸å\nredis-cli 1 2 3 4 ZADD age 18 dinglz ZADD age 20 jack ZADD age 25 alice ZRANGE age 0 -1 å¾—åˆ°çš„ç»“æœæ˜¯\n1 2 3 1) \u0026#34;dinglz\u0026#34; 2) \u0026#34;jack\u0026#34; 3) \u0026#34;alice\u0026#34; å¯ä»¥çœ‹åˆ°æ˜¯ä»å°åˆ°å¤§éå†çš„ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±è¯•ä¸€ä¸‹ZREVRANGE\ngo-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.ZRange(ctx, \u0026#34;age\u0026#34;, 0, -1).Result() if e != nil { panic(e) } for _, i := range res { fmt.Println(i) } } ZRANK \u0026amp;\u0026amp; ZREVRANK è·å–æ’åºé›†åˆä¸­ä¸€ä¸ªå…ƒç´ ä»å°åˆ°å¤§çš„æ’åï¼ˆREVä»å¤§åˆ°å°ï¼‰ï¼Œç”¨æ³•æ˜¯ZRANK æ’åºé›†åˆå å…ƒç´ ï¼Œæ³¨æ„ï¼Œè·å–åˆ°çš„æ’åä»0å¼€å§‹\nredis-cli 1 ZRANK age dinglz go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.ZRank(ctx, \u0026#34;age\u0026#34;, \u0026#34;dinglz\u0026#34;).Result() if e != nil { panic(e) } fmt.Println(res) } ZRANGEBYSCORE \u0026amp;\u0026amp; ZREVRANGEBYSCORE ä¸ZRANGEç±»ä¼¼ï¼Œä½†æ˜¯ZRANGEBYSCOREé™åˆ¶äº†scoreçš„èŒƒå›´ï¼Œç”¨æ³•æ˜¯ZRANGEBYSCORE æ’åºé›†åˆå æœ€å°åˆ†æ•° æœ€å¤§åˆ†æ•°å’ŒZREVRANGEBYSCORE æ’åºé›†åˆå æœ€å¤§åˆ†æ•° æœ€å°åˆ†æ•°\næ³¨æ„ï¼ï¼è¿™ä¸¤ä¸ªå‘½ä»¤çš„æœ€å°åˆ†æ•°å’Œæœ€å¤§åˆ†æ•°ä½ç½®æ˜¯ç›¸åçš„\næ¯”å¦‚ï¼Œæˆ‘ä»¬è¦è·å–å¹´é¾„ä»å°åˆ°å¤§ï¼Œä»æœ€å°åˆ°20çš„æ’åº\nredis-cli 1 ZRANGEBYSCORE age -inf 20 infæŒ‡æ— ç©·å¤§ï¼Œ-infå°±æ˜¯æ— ç©·å°\ngo-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.ZRangeByScore(ctx, \u0026#34;age\u0026#34;, \u0026amp;redis.ZRangeBy{ Min: \u0026#34;-inf\u0026#34;, Max: \u0026#34;20\u0026#34;, }).Result() if e != nil { panic(e) } for _, i := range res { fmt.Println(i) } } å›é¡¾ ä»ä¸Šé¢ä¸€äº›å‘½ä»¤å°±å¯ä»¥çœ‹å‡ºï¼Œsorted setsç®€ç›´å°±æ˜¯ä¸ºäº†æ’è¡Œæ¦œè¿™ç§è€Œç”Ÿçš„ï¼Œå½“ä½ çš„æœåŠ¡æƒ³å¼•å…¥æ’è¡Œæ¦œæ—¶ï¼Œæˆ‘ä»¬å€ŸåŠ©å®ƒå°±èƒ½è½»æ˜“å®ç°ï¼Œä»Šå¤©èŠåˆ°äº†è¿™äº›å‘½ä»¤ï¼š\nZADD\nZREM\nZRANGE \u0026amp;\u0026amp; ZREVRANGE\nZRANK \u0026amp;\u0026amp; ZREVRANK\nZRANGEBYSCORE \u0026amp;\u0026amp; ZREVRANGEBYSCORE\n","date":"2025-02-22T02:00:00Z","permalink":"https://dingdinglz.github.io/p/redis%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%97%855-sorted-sets/","title":"Rediså­¦ä¹ ä¹‹æ—…(5) Sorted sets"},{"content":"Hashes Redis hashesæ˜¯ä¸€ç§è®°å½•ç±»å‹ï¼Œç»“æ„ä¸ºå­—æ®µå€¼å¯¹çš„é›†åˆã€‚\nä½ å¯ä»¥ä½¿ç”¨ hashes æ¥\nè¡¨ç¤ºåŸºæœ¬å¯¹è±¡\nå­˜å‚¨è®¡æ•°å™¨çš„åˆ†ç»„ç­‰\næˆ‘æ„Ÿè§‰Hashæœ‰ç‚¹ç±»ä¼¼äºmap[string]interface{}\nhashå¯ä»¥å­˜å‚¨è¿™ç§ç±»ä¼¼çš„json\n1 2 3 4 { \u0026#34;name\u0026#34;:\u0026#34;dinglz\u0026#34;, \u0026#34;age\u0026#34;:18 } ç®€å•çš„æ¥è¯´ï¼Œä¸€ä¸ªhashç±»å‹çš„å€¼ï¼Œå­˜å‚¨çš„æ˜¯key-valueçš„ç»“æ„\nHSET è®¾ç½®ä¸€ä¸ªå­—æ®µçš„å€¼ï¼Œç”¨æ³•æ˜¯HSET hashå å­—æ®µå å­—æ®µå€¼\næ¯”å¦‚è¦å­˜å‚¨ä¸€ä¸ªäººçš„ä¿¡æ¯ï¼Œå­˜å‚¨ä»–çš„å§“åå’Œå¹´é¾„ï¼Œæˆ‘ä»¬å°±å¯ä»¥\n1 2 HSET person name dinglz HSET person age 18 go-redis example 1 2 3 4 5 6 7 8 9 10 11 12 13 14 package main import ( \u0026#34;context\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) client.HSet(ctx, \u0026#34;person\u0026#34;, \u0026#34;name\u0026#34;, \u0026#34;dinglz\u0026#34;) client.HSet(ctx, \u0026#34;person\u0026#34;, \u0026#34;age\u0026#34;, 18) } HGET è·å–æŸä¸ªå­—æ®µçš„å€¼ï¼Œç”¨æ³•æ˜¯HGET hashå å­—æ®µå\nredis-cli 1 HGET person name go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.HGet(ctx, \u0026#34;person\u0026#34;, \u0026#34;name\u0026#34;).Result() if e != nil { panic(e) } fmt.Println(res) } HINCRBY ä¸INCRBYç±»ä¼¼ï¼Œè®©hashçš„æŸä¸ªå­—æ®µå¢åŠ ä¸€ä¸ªæ•°å€¼ï¼Œç”¨æ³•æ˜¯HINCRBY hashå å­—æ®µå å¢åŠ çš„æ•°å€¼\næ¯”å¦‚è¦æ¨¡æ‹Ÿä¸€ä¸ªäººé•¿å¤§äº†ä¸€å²\nredis-cli 1 HINCRBY person age 1 go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 package main import ( \u0026#34;context\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) client.HIncrBy(ctx, \u0026#34;person\u0026#34;, \u0026#34;age\u0026#34;, 1) } HEXISTS åˆ¤æ–­hashä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå­—æ®µï¼Œç”¨æ³•æ˜¯HEXISTS hashå å­—æ®µå\nredis-cli 1 HEXISTS person name go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.HExists(ctx, \u0026#34;person\u0026#34;, \u0026#34;name\u0026#34;).Result() if e != nil { panic(e) } fmt.Println(res) } HKEYS å¯ä»¥è·å–hashä¸­çš„æ‰€æœ‰å­—æ®µï¼Œç”¨æ³•æ˜¯HKEYS hashå\nredis-cli 1 HKEYS person go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.HKeys(ctx, \u0026#34;person\u0026#34;).Result() if e != nil { panic(e) } for _, i := range res { fmt.Println(i) } } å›é¡¾ HASHESå°±æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ï¼Œå¯æŒä¹…åŒ–çš„mapï¼Œä»Šå¤©èŠåˆ°äº†è¿™äº›å‘½ä»¤ï¼š\nHSET \u0026amp;\u0026amp; HGET\nHINCRBY\nHEXISTS\nHKEYS\næ›´å¤šHashç›¸å…³çš„å‘½ä»¤\n","date":"2025-02-21T02:00:00Z","permalink":"https://dingdinglz.github.io/p/redis%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%97%854-hash/","title":"Rediså­¦ä¹ ä¹‹æ—…(4) Hash"},{"content":"Sets Redisé›†åˆæ˜¯ä¸€ç§ç”±å”¯ä¸€å­—ç¬¦ä¸²æˆå‘˜æ„æˆçš„æ— åºé›†åˆï¼Œè¿™ä¸ªé›†åˆå°±å¾ˆæ¥è¿‘å¤§å®¶è®¤è¯†é‡Œçš„é›†åˆäº†ï¼Œä¸c++ stlä¸­çš„setç±»ä¼¼ï¼Œä½†æ˜¯å¤šæ”¯æŒäº†å¾ˆå¤šåŠŸèƒ½ã€‚æ³¨æ„ï¼šSetså’Œæ•°ç»„çš„å·®å¼‚åœ¨äºSetså†…çš„æ¯ä¸ªå…ƒç´ ä¸€å®šæ˜¯äº’å¼‚çš„ã€‚\né€šè¿‡é›†åˆï¼Œä½ å¯ä»¥ï¼š\nè¿½è¸ªå”¯ä¸€æ€§æ•°æ®ï¼ˆä¾‹å¦‚è®°å½•è®¿é—®æŸç¯‡åšå®¢æ–‡ç« çš„æ‰€æœ‰ç‹¬ç«‹IPåœ°å€ï¼‰\næè¿°å¯¹è±¡é—´å…³è”å…³ç³»ï¼ˆä¾‹å¦‚å…·æœ‰ç‰¹å®šè§’è‰²çš„å…¨ä½“ç”¨æˆ·é›†åˆï¼‰\næ‰§è¡Œå¸¸è§çš„é›†åˆè¿ç®—ï¼ŒåŒ…æ‹¬äº¤é›†ã€å¹¶é›†ä¸å·®é›†æ“ä½œã€‚\nSADD å°†ä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°é›†åˆä¸­ï¼Œç”¨æ³•æ˜¯ï¼šSADD [é›†åˆå] å€¼ï¼Œæ³¨æ„ï¼Œå¦‚æœè¿™ä¸ªå€¼ä¸é›†åˆä¸­ä¹‹å‰å­˜åœ¨çš„å…ƒç´ é‡å¤ï¼Œå°†ä¸ä¼šé‡å¤æ·»åŠ ï¼Œæ·»åŠ å¤šä¸ªå…ƒç´ æ˜¯å…è®¸çš„ï¼Œæ¯”å¦‚SADD test 1 2 3 4 5 6\nredis-cli 1 SADD test 1 go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 package main import ( \u0026#34;context\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) client.SAdd(ctx, \u0026#34;test\u0026#34;, \u0026#34;1\u0026#34;) } SREM åˆ é™¤é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œç”¨æ³•æ˜¯ï¼šSREM [é›†åˆå] å€¼\nåˆ é™¤å¤šä¸ªå…ƒç´ ä¹Ÿæ˜¯å…è®¸çš„ã€‚\nredis-cli 1 SREM test 1 go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 package main import ( \u0026#34;context\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) client.SRem(ctx, \u0026#34;test\u0026#34;, \u0026#34;1\u0026#34;) } SISMEMBER åˆ¤æ–­å…ƒç´ åœ¨ä¸åœ¨SETé‡Œï¼Œç”¨æ³•æ˜¯ï¼šSISMEMBER [é›†åˆå] å€¼\nredis-cli 1 SISMEMBER test 1 go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.SIsMember(ctx, \u0026#34;test\u0026#34;, \u0026#34;1\u0026#34;).Result() if e != nil { panic(e) } fmt.Println(res) } SCARD è·å–é›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œé«˜ä¸­æ—¶å¤§å®¶åº”è¯¥å°±å­¦è¿‡card(X) = é›†åˆXçš„ä¸ªæ•°ï¼Œå°±æ˜¯è¿™ä¸ªCARDï¼Œè®°æ³•å°±æ˜¯set_cardã€‚ç”¨æ³•æ˜¯ï¼šSCARD é›†åˆå\nredis-cli 1 SCARD test go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.SCard(ctx, \u0026#34;test\u0026#34;).Result() if e != nil { panic(e) } fmt.Println(res) } SINTER è¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„å‘½ä»¤ï¼Œå¯ä»¥å–ä¸¤ä¸ªé›†åˆçš„äº¤é›†\næ¯”å¦‚ï¼Œæˆ‘æœ‰ä¸¤ä¸ªé›†åˆï¼Œtestå’Œtest2ï¼Œåˆ†åˆ«æœ‰1ï¼Œ2ï¼Œ3ï¼Œ4å’Œ1ï¼Œ3ï¼Œ4ï¼Œ5è¿™äº›å…ƒç´ \nSINTER test test2å¯ä»¥å–å¾—1ï¼Œ3ï¼Œ4ä¹Ÿå°±æ˜¯è¿™ä¸¤ä¸ªé›†åˆçš„äº¤é›†\nredis-cli 1 SINTER test test2 go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.SInter(ctx, \u0026#34;test\u0026#34;, \u0026#34;test2\u0026#34;).Result() if e != nil { panic(e) } for _, i := range res { fmt.Println(i) } } SDIFF è¿™ä¸ªå‘½ä»¤ç”¨äºæ±‚ä¸¤ä¸ªé›†åˆçš„å·®ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„å‘½ä»¤ï¼Œå¦‚æœæ˜¯SDIFF setA setBçš„è¯ï¼Œç»™æˆ‘çš„æ„Ÿè§‰åƒæ˜¯setA - SINTER(setA setB)\nredis-cli 1 SDIFF test test2 go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.SDiff(ctx, \u0026#34;test\u0026#34;, \u0026#34;test2\u0026#34;).Result() if e != nil { panic(e) } for _, i := range res { fmt.Println(i) } } SUNION æ±‚ä¸¤ä¸ªé›†åˆçš„å¹¶é›†\nredis-cli 1 SUNION test test2 go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.SUnion(ctx, \u0026#34;test\u0026#34;, \u0026#34;test2\u0026#34;).Result() if e != nil { panic(e) } for _, i := range res { fmt.Println(i) } } SMEMBERS è·å–ä¸€ä¸ªé›†åˆçš„å…¨éƒ¨æˆå‘˜\nredis-cli 1 SMEMBERS test go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.SMembers(ctx, \u0026#34;test\u0026#34;).Result() if e != nil { panic(e) } for _, i := range res { fmt.Println(i) } } SRANDMEMBER è¿™ä¹Ÿæ˜¯ä¸ªå¾ˆæœ‰æ„æ€çš„åŠŸèƒ½ï¼Œä»é›†åˆä¸­éšæœºæŠ½å…ƒç´ ï¼Œç”¨æ³•æ˜¯SRANDMEMBER setå ä¸ªæ•°ï¼Œä¸ªæ•°æ˜¯å¯é€‰çš„å‚æ•°ï¼Œå¦‚æœä¸å¡«ä¸ªæ•°çš„è¯é»˜è®¤æŠ½ä¸€ä¸ª\nè¿™ä¸ªåŠŸèƒ½æ„Ÿè§‰å¯ä»¥æ‹¿æ¥åšæŠ½å¥–å°ç¨‹åºå•Šï¼ˆå¦‚æœå®Œå…¨éšæœºçš„è¯ï¼‰\ngo-redis example 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.SRandMemberN(ctx, \u0026#34;test\u0026#34;, 2).Result() if e != nil { panic(e) } for _, i := range res { fmt.Println(i) } } SPOP è¿™ä¸ªå‘½ä»¤ç”¨äºéšæœºä»é›†åˆä¸­æŠ½å–ä¸€ä¸ªå…ƒç´ å¹¶æŠŠå®ƒåˆ é™¤ï¼Œè¿™ç§åœºæ™¯æˆ‘æœ‰ç‚¹éš¾æƒ³è±¡ï¼Œå‡å¦‚æœ‰ä¸ªä¸é‡å¤æŠ½å–çš„å¥–æ± ï¼ˆæŠ½å®Œä¸ºæ­¢ï¼Œå¥–æ± é‡Œå¥–å“æ•°å›ºå®šï¼‰å°±å¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤æŠ½å–ã€‚\nredis-cli 1 SPOP test go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) res, e := client.SPop(ctx, \u0026#34;test\u0026#34;).Result() if e != nil { panic(e) } fmt.Println(res) } ç¤ºä¾‹ æˆ‘ä»¬å°±ç”¨SPOPæ¥å®ç°ä¸€ä¸ªæŠ½å¥–å°ç¨‹åºå§\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;strconv\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{}) for i := 1; i \u0026lt;= 10; i++ { // æ·»åŠ åä¸ªå¥–å“ client.SAdd(ctx, \u0026#34;test\u0026#34;, \u0026#34;prize\u0026#34;+strconv.Itoa(i)) } for { res, e := client.SPop(ctx, \u0026#34;test\u0026#34;).Result() if e != nil { if e == redis.Nil { fmt.Println(\u0026#34;æŠ½å–å®Œæˆï¼\u0026#34;) break } panic(e) } fmt.Println(\u0026#34;æŠ½åˆ°äº†\u0026#34;, res, \u0026#34;!\u0026#34;) } } å›é¡¾ SETæ„Ÿè§‰å¯ä»¥å½“ä½œæ•°ç»„æ¥ç”¨ï¼Œä»Šå¤©èŠåˆ°è¿™é‡Œè®²äº†è¿™äº›å‘½ä»¤ï¼š\nSADD\nSREM\nSISMEMBER\nSCARD\nSINTER \u0026amp;\u0026amp; SDIFF \u0026amp;\u0026amp; SUNION\nSMEMBERS\nSRANDMEMBER\nSPOP\næ›´å¤šSETç›¸å…³çš„å‘½ä»¤\n","date":"2025-02-16T03:00:00Z","permalink":"https://dingdinglz.github.io/p/redis%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%97%853-sets/","title":"Rediså­¦ä¹ ä¹‹æ—…(3) Sets"},{"content":"Lists Redisä¸­çš„åˆ—è¡¨ï¼ˆListsï¼‰æ˜¯ç”±å­—ç¬¦ä¸²å€¼æ„æˆçš„é“¾è¡¨ç»“æ„ã€‚\nç›¸æ¯”äºå¤§å®¶è®¤çŸ¥ä¸­çš„åˆ—è¡¨ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªæ ¼å¼æ›´åå‘äºé˜Ÿåˆ—å’Œæ ˆï¼Œè€Œä¸æ˜¯æ•°ç»„\nRedisçš„åˆ—è¡¨é€šå¸¸ç”¨äºï¼š\næ„å»ºé˜Ÿåˆ—å’Œæ ˆ\nä¸ºåå° worker ç³»ç»Ÿæ„å»ºé˜Ÿåˆ—ç®¡ç†\nä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Œé¦–å…ˆå¯¹äºListså–å‡ºå…ƒç´ çš„æ“ä½œå¤§éƒ½æ˜¯ä»ä¸€å¤´å–ï¼ˆå¦‚æœçœ‹æˆä¸€ä¸ªåŒå¤´é˜Ÿåˆ—çš„è¯ï¼‰ï¼Œå–å‡ºä»¥åå°±åˆ é™¤è¯¥å…ƒç´ ï¼Œè¿™å¾ˆæ˜¾ç„¶å°±æ˜¯å…¸å‹çš„é˜Ÿåˆ—å’Œæ ˆçš„ç»“æ„ï¼ˆå¤§å®¶å¯èƒ½ä¹ŸçŸ¥é“ï¼Œcppçš„stlä¸­çš„æ ˆæ˜¯ç”±dequeå®ç°çš„ï¼‰ï¼Œé‚£ä¹ˆä¸‹é¢ä»‹ç»ä¸€ä¸‹Listsç›¸å…³çš„å‘½ä»¤\nLPUSH \u0026amp;\u0026amp; RPUSH æˆ‘å»ºè®®åœ¨ç†è§£redisçš„listsç»“æ„æ—¶å°†å®ƒçœ‹æˆä¸€ä¸ªçº¿æ€§çš„ç»“æ„ï¼Œä¸€æ¡æ¨ªé“ºçš„çº¿ï¼Œé‚£ä¹ˆLPUSHå°±æ˜¯ä»å·¦è¾¹æ’å…¥å…ƒç´ ï¼ˆLeft Pushï¼‰ï¼ŒRPUSHå°±æ˜¯ä»å³è¾¹æ’å…¥å…ƒç´ ï¼ˆRight Pushï¼‰ï¼ŒæŒ‰è¿™ä¹ˆæ¥è®°ï¼Œå¯¹äºä¸‹æ–‡ä¸­è®²çš„å…¶ä»–Rå’ŒLå¼€å¤´çš„å‘½ä»¤æ¥è¯´ä¼šæ›´å¥½ç†è§£ä¸€ç‚¹ã€‚\nLPUSHå’ŒRPUSHäºSETçš„ä½¿ç”¨æ–¹æ³•ç±»ä¼¼ï¼Œå½¢å¦‚ï¼šLPUSH åˆ—è¡¨å è¦æ’å…¥çš„å€¼æˆ–è€…RPUSH åˆ—è¡¨å è¦æ’å…¥çš„å€¼ï¼Œä¸‹é¢æˆ‘ä»¬å†è®²Ræˆ–è€…Lå¼€å¤´çš„å‘½ä»¤æ—¶å¯èƒ½å°±ä¸å†é‡å¤é˜è¿°ï¼Œåªè®²è§£Ræˆ–è€…Lçš„å‘½ä»¤ã€‚\nLPUSHä¼šåœ¨Listä¸å­˜åœ¨çš„æ—¶å€™è‡ªåŠ¨åˆ›å»ºListï¼Œå› è€Œä¸è¦åœ¨æ„\néœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒLPUSHå¯ä»¥ä¾æ¬¡æ’å…¥å¤šä¸ªå…ƒç´ ï¼Œä¾‹å¦‚LPUSH tasks 1 2 3 4 5æ˜¯æ­£ç¡®çš„ã€‚\nä¸‹é¢æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚åˆ›å»ºä¸€ä¸ªä»»åŠ¡åˆ—è¡¨tasks\nredis-cli 1 2 LPUSH tasks task1 LPUSH tasks task2 go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package main import ( \u0026#34;context\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{ Addr: \u0026#34;localhost:6379\u0026#34;, }) client.LPush(ctx, \u0026#34;tasks\u0026#34;, \u0026#34;task1\u0026#34;) client.LPush(ctx, \u0026#34;tasks\u0026#34;, \u0026#34;task2\u0026#34;) } LPOP \u0026amp;\u0026amp; RPOP ç»§ç»­æ²¿ç”¨æˆ‘ä»¬åˆšåˆšçš„æ€æƒ³ï¼Œå°±æ˜¯åˆ†åˆ«ä»å·¦è¾¹å’Œå³è¾¹å¼¹å‡ºä¸€ä¸ªå…ƒç´ ï¼Œä½†æ˜¯ï¼Œè¿™é‡Œçš„POPå’Œæˆ‘ä»¬c++çš„stlä¸­é˜Ÿåˆ—çš„popä¸åŒçš„æ˜¯ï¼Œå®ƒå¹¶ä¸ç®€ç®€å•å•åªæ˜¯åˆ é™¤ï¼Œè€Œæ˜¯é™„å¸¦äº†ä¸€ä¸ªå–å›çš„æ“ä½œã€‚\næ¯”å¦‚æˆ‘ä»¬LPOP tasksï¼Œå°±èƒ½å¾—åˆ°task2ï¼ŒRPOPåŒç†\ngo-redis example 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{ Addr: \u0026#34;localhost:6379\u0026#34;, }) res, e := client.LPop(ctx, \u0026#34;tasks\u0026#34;).Result() if e != nil { panic(e) } fmt.Println(res) } LLEN è·å–åˆ—è¡¨çš„é•¿åº¦ï¼Œåªéœ€è¦LLEN åˆ—è¡¨åå³å¯ï¼Œä¾‹å¦‚ï¼šLLEN tasks\ngo-redis example 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{ Addr: \u0026#34;localhost:6379\u0026#34;, }) res, e := client.LLen(ctx, \u0026#34;tasks\u0026#34;).Result() if e != nil { panic(e) } fmt.Println(res) } LRANGE ä»å·¦è¾¹å¼€å§‹è·å–ä¸€ä¸ªèŒƒå›´åˆ°å³è¾¹çš„æŸä¸ªä½ç½®ï¼Œrangeå˜›ï¼Œç”¨æ³•æ˜¯ï¼šLRANGE åˆ—è¡¨å å·¦è¾¹åæ ‡ å³è¾¹åæ ‡ï¼Œå°±å¯ä»¥è·å–åˆ°ä»[å·¦è¾¹åæ ‡ï¼Œå³è¾¹åæ ‡]è¿™ä¸ªèŒƒå›´çš„æ‰€æœ‰å…ƒç´ ï¼Œæ³¨æ„ï¼Œè¿™ä¸ªåæ ‡ä»å·¦è¾¹å¼€å§‹æ•°ï¼Œä¸”ä»é›¶å¼€å§‹ã€‚ï¼ˆè®©æˆ‘å¾ˆå¥‡æ€ªçš„æ˜¯ï¼Œè¿™ä¸ªå‘½ä»¤ä¸ºä»€ä¹ˆæ²¡æœ‰Rç‰ˆï¼Œä¹Ÿå°±æ˜¯è¯´RRANGEæ˜¯ä¸å­˜åœ¨çš„ï¼‰\nå¦å¤–ï¼Œå³è¾¹åæ ‡å¯ä»¥= -1ï¼Œè¿™æ—¶å€™ä»£è¡¨ä»å·¦è¾¹åæ ‡ä¸€ç›´å–åˆ°æœ€å³è¾¹ï¼Œç±»ä¼¼äºgoçš„åˆ‡ç‰‡ç•™ç©ºï¼Œå’Œpyã€matlabçš„-1ï¼Œå…¶å®è¿™é‡Œçš„-1ä»£è¡¨çš„æ˜¯ä»å¦ä¸€å¤´æ•°ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯ä»å³ä¾§å¼€å§‹æ•°ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒåŒç†ï¼Œ-2ä»£è¡¨ä»å¦ä¸€å¤´æ•°ç¬¬äºŒä¸ªå…ƒç´ \nredis-cli 1 2 3 4 LPUSH test 1 LPUSH test 2 LPUSH test 3 LRANGE test 0 1 å¾—åˆ°ï¼š\n1 2 1) \u0026#34;3\u0026#34; 2) \u0026#34;2\u0026#34; go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{ Addr: \u0026#34;localhost:6379\u0026#34;, }) client.LPush(ctx, \u0026#34;test\u0026#34;, 1) client.LPush(ctx, \u0026#34;test\u0026#34;, 2) client.LPush(ctx, \u0026#34;test\u0026#34;, 3) res, e := client.LRange(ctx, \u0026#34;test\u0026#34;, 0, 1).Result() if e != nil { panic(e) } for _, i := range res { fmt.Println(i) } } ç¤ºä¾‹ ä¸‹é¢è®©æˆ‘ä»¬ç”¨go-redisåˆ©ç”¨Listæ¨¡æ‹Ÿä¸€ä¸‹æ¶ˆæ¯é˜Ÿåˆ—\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;math/rand\u0026#34; \u0026#34;strconv\u0026#34; \u0026#34;sync\u0026#34; \u0026#34;time\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) var waitGroup sync.WaitGroup // å‘æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ·»åŠ ä»»æ„ä¸ªå¾…å¤„ç†çš„ä»»åŠ¡ func AddTasks(ctx context.Context, client *redis.Client, num int) { for i := 1; i \u0026lt;= num; i++ { client.LPush(ctx, \u0026#34;tasks\u0026#34;, \u0026#34;task\u0026#34;+strconv.Itoa(i)) } } // å¤„ç†æ¶ˆæ¯é˜Ÿåˆ— func DealTasks(ctx context.Context, client *redis.Client, name string) { //å…ˆæ·»åŠ çš„ä»»åŠ¡å…ˆå¤„ç† for { task, e := client.RPop(ctx, \u0026#34;tasks\u0026#34;).Result() if e == redis.Nil { fmt.Println(name + \u0026#34;å¤„ç†å®Œæˆï¼\u0026#34;) waitGroup.Done() break } fmt.Println(name + \u0026#34;å¤„ç†\u0026#34; + task + \u0026#34;ä¸­\u0026#34;) // æ¨¡æ‹Ÿå¤„ç†è€—æ—¶ dealTime := rand.Intn(3001) time.Sleep(time.Duration(dealTime) * time.Millisecond) } } func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{ Addr: \u0026#34;localhost:6379\u0026#34;, }) waitGroup.Add(3) AddTasks(ctx, client, 100) for i := 1; i \u0026lt;= 3; i++ { // å¼€ä¸‰ä¸ªgoroutineæ¥å¤„ç† go DealTasks(ctx, client, \u0026#34;å¤„ç†é€šé“\u0026#34;+strconv.Itoa(i)) } waitGroup.Wait() } å¯ä»¥çœ‹åˆ°ï¼Œå¾—ç›Šäºredisçš„å•çº¿ç¨‹ï¼Œæˆ‘ä»¬è™½ç„¶å¼€äº†ä¸‰ä¸ªçº¿ç¨‹å¼€åŒæ—¶å¤„ç†æ¶ˆæ¯åˆ—è¡¨ä¸­çš„ä»»åŠ¡ï¼Œä»ç„¶å¯ä»¥ä¿è¯å…ˆè¿›æ¥çš„ä»»åŠ¡å…ˆè¢«å¤„ç†ã€‚\næœ‹å‹ä»¬å¯ä»¥è‡ªå·±ä¿®æ”¹ä¸€ä¸‹è¿›ç¨‹æ•°å’Œä»»åŠ¡æ•°ï¼Œå¹¶ä½“ä¼šä¸€ä¸‹å¦‚ä½•æŠŠè¿™ä¸ªç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—è¿ç”¨åˆ°å®æˆ˜ä¸­\né™åˆ¶ Redis åˆ—è¡¨çš„æœ€å¤§é•¿åº¦ä¸º 2^32 - 1 ï¼ˆ4,294,967,295ï¼‰ ä¸ªå…ƒç´ ã€‚\nå›é¡¾ ä»Šå¤©è¯´åˆ°è¿™é‡Œå·®ä¸å¤šæŠŠListsçš„ä¸€äº›å¸¸ç”¨å‘½ä»¤è¯´å®Œäº†ï¼Œè¿˜é™„å¸¦äº†ä¸€ä¸ªå°å°çš„åº”ç”¨ä¾‹å­ï¼Œè®©æˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹ä»Šå¤©å­¦ä¹ äº†å“ªäº›å‘½ä»¤\nLPUSH \u0026amp;\u0026amp; RPUSH\nLPOP \u0026amp;\u0026amp; RPOP\nLLEN\nLRANGE\næ›´å¤šListsç›¸å…³çš„å‘½ä»¤\n","date":"2025-02-16T02:00:00Z","permalink":"https://dingdinglz.github.io/p/redis%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%97%852-lists/","title":"Rediså­¦ä¹ ä¹‹æ—…(2) Lists"},{"content":"å‰è¨€ ï¼ˆå…¶å®æ˜¯æœ¬ç³»åˆ—çš„å‰è¨€ï¼‰\nä¸ºä»€ä¹ˆåˆå¼€æ–°å‘äº†ï¼šå› ä¸ºå­¦å­¦redisï¼Œé¡ºä¾¿åŒæ—¶è®°å½•ä¸‹cliå’Œgo-redisçš„æ“ä½œ\nä¸ºä»€ä¹ˆè€å‘ä¸æ›´äº†ï¼ˆæˆ–è€…æ²¡æ›´å®Œï¼‰ï¼šä¸æƒ³å†™äº† æ²¡äººçœ‹\nè¯´æ­£äº‹ï¼š\næœ¬ç³»åˆ—ä¼šå¯¹æ¯ä¸ªå‘½ä»¤åŒæ—¶è®²è§£ä¸¤æ–¹é¢ï¼šredis-cliçš„æ“ä½œå’Œgo-redisçš„æ“ä½œï¼Œå°½é‡å®Œæˆå®˜ç½‘ä¸Šæ–‡æ¡£å¯¹åº”å‘½ä»¤çš„100% ä»£ç è¦†ç›–ç‡\næœ¬ç³»åˆ—å¤§éƒ¨åˆ†å†…å®¹å‚è€ƒï¼šå®˜ç½‘æ–‡æ¡£ï¼šDevelop with Redis | Docs\næœ¬æ–‡è®²çš„æ˜¯ï¼Œrediså¹¿å¤§ç±»å‹ä¸­æœ€å¸¸è§çš„ä¸€ä¸ªï¼šStrings\nå‰å‰è¨€ ï¼ˆè¡¥å……ä¸€ä¸‹redisçš„ä»‹ç»ï¼‰\nRedis æ˜¯ä»€ä¹ˆï¼Ÿ\nRedisï¼ˆRemote Dictionary Serverï¼‰æ˜¯ä¸€ä¸ªå¼€æºçš„ å†…å­˜æ•°æ®åº“ï¼Œå®ƒä»¥è¶…å¿«çš„è¯»å†™é€Ÿåº¦å’Œçµæ´»çš„æ•°æ®ç»“æ„è‘—ç§°ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªâ€œè¶…çº§åŠ é€Ÿå™¨â€ï¼Œä¸“é—¨ç”¨æ¥å­˜å‚¨é‚£äº›éœ€è¦é¢‘ç¹è®¿é—®çš„æ•°æ®ï¼ˆæ¯”å¦‚ç½‘ç«™çƒ­é—¨å†…å®¹ã€ç”¨æˆ·ç™»å½•ä¿¡æ¯ï¼‰ï¼Œæˆ–è€…ç”¨æ¥è§£å†³é«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ€§èƒ½ç“¶é¢ˆã€‚\nRedis çš„ä¸‰å¤§ç‰¹ç‚¹\nå†…å­˜å­˜å‚¨\næ•°æ®ç›´æ¥æ”¾åœ¨å†…å­˜ä¸­ï¼Œè¯»å†™é€Ÿåº¦æå¿«ï¼ˆå¾®ç§’çº§ï¼‰ï¼Œè¿œè¶…ä¼ ç»Ÿç¡¬ç›˜æ•°æ®åº“ï¼ˆå¦‚ MySQLï¼‰ã€‚\nä¸°å¯Œçš„æ•°æ®ç»“æ„\né™¤äº†ç®€å•çš„é”®å€¼å¯¹ï¼ˆKey-Valueï¼‰ï¼Œè¿˜æ”¯æŒï¼š\nå­—ç¬¦ä¸²ï¼ˆStringï¼‰ï¼šç¼“å­˜æ–‡æœ¬ã€æ•°å­— å“ˆå¸Œè¡¨ï¼ˆHashï¼‰ï¼šå­˜å‚¨å¯¹è±¡ï¼ˆå¦‚ç”¨æˆ·ä¿¡æ¯ï¼‰ åˆ—è¡¨ï¼ˆListï¼‰ï¼šå®ç°æ¶ˆæ¯é˜Ÿåˆ— é›†åˆï¼ˆSetï¼‰/ æœ‰åºé›†åˆï¼ˆSorted Setï¼‰ï¼šå»é‡ã€æ’è¡Œæ¦œ æ›´å¤šé«˜çº§ç»“æ„å¦‚ä½å›¾ï¼ˆBitmapsï¼‰ã€åœ°ç†åæ ‡ï¼ˆGEOï¼‰ç­‰ã€‚ æŒä¹…åŒ–ä¸é«˜å¯ç”¨\nè™½ç„¶æ•°æ®åœ¨å†…å­˜ä¸­ï¼Œä½† Redis æ”¯æŒå®šæœŸä¿å­˜åˆ°ç¡¬ç›˜ï¼ˆRDB å¿«ç…§ï¼‰æˆ–è®°å½•æ“ä½œæ—¥å¿—ï¼ˆAOFï¼‰ï¼Œé˜²æ­¢æ–­ç”µä¸¢å¤±ã€‚è¿˜èƒ½é€šè¿‡ä¸»ä»å¤åˆ¶ã€å“¨å…µæ¨¡å¼ã€é›†ç¾¤æ¨¡å¼ä¿éšœæœåŠ¡ç¨³å®šã€‚\nå…¸å‹ä½¿ç”¨åœºæ™¯\nç¼“å­˜å±‚ï¼šå‡è½»æ•°æ®åº“å‹åŠ›ï¼ŒåŠ é€Ÿç½‘é¡µåŠ è½½ã€‚ ä¼šè¯å­˜å‚¨ï¼šå¿«é€Ÿç®¡ç†ç”¨æˆ·ç™»å½•çŠ¶æ€ã€‚ å®æ—¶æ’è¡Œæ¦œï¼šæ¸¸æˆç§¯åˆ†ã€çƒ­æœæ¦œå•ã€‚ æ¶ˆæ¯é˜Ÿåˆ—ï¼šå¼‚æ­¥å¤„ç†ä»»åŠ¡ï¼ˆå¦‚å‘é€é‚®ä»¶ï¼‰ã€‚ ç§’æ€ç³»ç»Ÿï¼šåº”å¯¹ç¬æ—¶é«˜å¹¶å‘è¯·æ±‚ã€‚ ä¸ºä»€ä¹ˆé€‰æ‹© Redisï¼Ÿ\nç®€å•æ˜“ç”¨ï¼šå‘½ä»¤ç®€æ´ï¼ˆä¾‹å¦‚ SET name \u0026quot;Alice\u0026quot;ã€GET nameï¼‰ã€‚ è·¨è¯­è¨€æ”¯æŒï¼šPythonã€Javaã€Go ç­‰ä¸»æµè¯­è¨€å‡å¯è°ƒç”¨ã€‚ ç”Ÿæ€å¼ºå¤§ï¼šå¤§é‡ä¼ä¸šçº§æ‰©å±•æ–¹æ¡ˆï¼ˆé›†ç¾¤ã€ç›‘æ§å·¥å…·ç­‰ï¼‰ã€‚ å°æç¤º\nRedis è™½å¼ºï¼Œä½†å¹¶éä¸‡èƒ½ï¼š\nå†…å­˜æˆæœ¬è¾ƒé«˜ï¼Œä¸é€‚åˆå­˜å‚¨æµ·é‡å†·æ•°æ®ã€‚ é€‚åˆé«˜é€Ÿè¯»å†™åœºæ™¯ï¼Œå¤æ‚è®¡ç®—ä»éœ€ä¼ ç»Ÿæ•°æ®åº“ã€‚ String æ€»è€Œè¨€ä¹‹ï¼ŒRediså°±æ˜¯ä¸€ä¸ªKVæ•°æ®åº“ï¼Œä½ å¯ä»¥æŠŠå®ƒç†è§£æˆgolangä¸­çš„map[string]interface{} , æˆ‘ä»¬ç±»å‹ç¯‡å°±å°†ç€æ‰‹äºå¯¹äºV - Valueçš„ç±»å‹çš„ä»‹ç»ã€‚\nRediså­—ç¬¦ä¸²å¯å­˜å‚¨å­—èŠ‚åºåˆ—ï¼ŒåŒ…æ‹¬æ–‡æœ¬ã€åºåˆ—åŒ–å¯¹è±¡åŠäºŒè¿›åˆ¶æ•°ç»„ã€‚å› æ­¤ï¼Œå­—ç¬¦ä¸²æ˜¯å¯ä¸Redisé”®å…³è”çš„æœ€åŸºæœ¬æ•°æ®ç±»å‹ã€‚å®ƒä»¬ä¸ä»…å¸¸ç”¨äºç¼“å­˜åœºæ™¯ï¼Œè¿˜æ”¯æŒæ›´å¤šé«˜çº§åŠŸèƒ½ï¼Œå¦‚å®ç°è®¡æ•°å™¨åŠæ‰§è¡Œä½è¿ç®—ï¼Œå±•ç°å‡ºå¤šæ ·åŒ–çš„åº”ç”¨æ½œåŠ›ã€‚\nç”±äºRedisçš„é”®å‡ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œå½“å€¼ä¹Ÿé‡‡ç”¨å­—ç¬¦ä¸²ç±»å‹æ—¶ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯å°†ä¸€ä¸ªå­—ç¬¦ä¸²æ˜ å°„è‡³å¦ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚è¿™ç§å­—ç¬¦ä¸²æ•°æ®ç±»å‹é€‚ç”¨äºå¤šç§åº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚ç¼“å­˜HTMLç‰‡æ®µæˆ–é¡µé¢ã€‚\nSET \u0026amp;\u0026amp; GET SETçœ‹è¿™ä¸ªç¿»è¯‘åº”è¯¥ä¹Ÿèƒ½æ˜ç™½å¤§æ¦‚çš„æ„æ€ï¼Œå°±æ˜¯ä¸€ä¸ªè®¾ç½®ï¼Œç»™å®šä¸€ä¸ªKeyå’Œä¸€ä¸ªValueæ¥å­˜å‚¨ã€‚\næ¯”å¦‚ï¼šSET key valueå°±èƒ½å­˜å‚¨ï¼Œæœ‰ç‚¹åƒmapé‡Œmap[key] = value\nå­˜å‚¨å®Œæˆä»¥åè‡ªç„¶å¯ä»¥é€šè¿‡keyå»æŸ¥è¯¢ï¼Œç”¨æˆ‘ä»¬çš„GETæŒ‡ä»¤GET key\nä¸‹é¢çš„ä¾‹å­æ˜¯ç”¨redis-cliå»å­˜å‚¨å¹¶æŸ¥è¯¢ä¸€ä¸ªè‡ªè¡Œè½¦çš„åå­—\n1 2 SET bike:name name GET bike:name è¿™ä¸ªä¾‹å­ä¸­ï¼šbike:nameå°±æ˜¯keyï¼Œnameå°±æ˜¯valueï¼Œå¤§å®¶å¯ä»¥æ‰“å¼€è‡ªå·±çš„redis-cliåŠ¨æ‰‹æ•²ä¸€æ•²\ngo-redis example 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{ Addr: \u0026#34;localhost:6379\u0026#34;, }) client.Set(ctx, \u0026#34;bike:name\u0026#34;, \u0026#34;name\u0026#34;, 0) res, e := client.Get(ctx, \u0026#34;bike:name\u0026#34;).Result() if e != nil { panic(e) } fmt.Println(res) } å¤§å®¶å¯èƒ½ä¼šå¥½å¥‡ä¸ºä»€ä¹ˆgo-redisçš„Setè·Ÿredis-cliçš„SETç›¸æ¯”å¤šäº†ä¸ªå‚æ•°ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥è¦è¯´çš„expire\nExpire ä¹Ÿå°±æ˜¯è¿‡æœŸæ—¶é—´ï¼Œredisçš„SETæ˜¯æ”¯æŒè®¾ç½®è¿‡æœŸæ—¶é—´çš„ï¼Œè€Œ0ä¹Ÿå°±ä»£è¡¨ç€æ²¡æœ‰è¿‡æœŸæ—¶é—´ï¼Œå³æ°¸ä¸è¿‡æœŸï¼Œé‚£ä¹ˆè¿‡æœŸæ—¶é—´çš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼Œæ˜¯è§„å®šè¯¥æ•°æ®æœ€å¤šåªèƒ½å­˜æ”¾è¿™ä¹ˆé•¿æ—¶é—´ã€‚\nredis-cliè®¾ç½®è¿‡æœŸæ—¶é—´çš„æ–¹æ³•æ˜¯SET key value EX [time]ï¼Œtimeæ˜¯è¿‡æœŸæ—¶é—´çš„é•¿åº¦ï¼Œæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå•ä½æ˜¯ç§’ã€‚go-redisåªéœ€è¦å°†0ä¿®æ”¹ä¸ºtimeç±»å‹çš„å€¼å³å¯ï¼Œä¾‹å¦‚ï¼š1*time.Second\nMSET \u0026amp;\u0026amp; MGET è¿™ä¸¤ä¸ªå‘½ä»¤å…¶å®å°±æ˜¯SETå’ŒGETçš„å‡çº§ç‰ˆï¼Œç”¨äºè®¾ç½®å’Œè·å–å¤šä¸ªæ•°æ®ï¼Œç›´æ¥æ¥çœ‹ä¾‹å­å§\nredis-cli 1 2 MSET bike:1 test1 bike:2 test bike:3 test MGET bike:1 bike:2 bike:3 ä¸Šè¿°å‘½ä»¤è¾“å‡ºçš„ç»“æœæ˜¯ï¼š\n1 2 3 1) \u0026#34;test1\u0026#34; 2) \u0026#34;test\u0026#34; 3) \u0026#34;test\u0026#34; go-redis 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{ Addr: \u0026#34;localhost:6379\u0026#34;, }) client.MSet(ctx, \u0026#34;bike:1\u0026#34;, \u0026#34;test1\u0026#34;, \u0026#34;bike:2\u0026#34;, \u0026#34;test2\u0026#34;, \u0026#34;bike:3\u0026#34;, \u0026#34;test3\u0026#34;) res, e := client.MGet(ctx, \u0026#34;bike:1\u0026#34;, \u0026#34;bike:2\u0026#34;, \u0026#34;bike:3\u0026#34;).Result() if e != nil { panic(e) } for _, i := range res { fmt.Println(i) } } INCR \u0026amp;\u0026amp; DECR è¿™ä¸¤ä¸ªå‘½ä»¤æŠŠå­—ç¬¦ä¸²å€¼è§£ææˆæ•°ï¼Œå¹¶åˆ†åˆ«è¿›è¡Œè‡ªå¢å’Œè‡ªå‡ï¼Œä½¿ç”¨çš„æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼ŒINCR keyå’ŒDECR keyå³å¯\næ¯”å¦‚ï¼š\n1 2 3 4 5 SET test 3 INCR test GET test DECR test GET test ä¸¤æ¬¡GETåˆ†åˆ«å¾—åˆ°4å’Œ3ï¼Œä¹Ÿå°±æ˜¯è‡ªå¢ä¸€æ¬¡ï¼Œç„¶åè‡ªå‡ä¸€æ¬¡ï¼Œæœ‰è¶£çš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªå‘½ä»¤éƒ½æ˜¯åŸå­çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥ä»»æ„åœ°åœ¨å¹¶å‘é‡Œè°ƒç”¨ä»–ä»¬è€Œä¸ä¼šå‡ºé—®é¢˜ï¼Œè¿™å¾—ç›Šäºredisçš„å•çº¿ç¨‹æœºåˆ¶\ngo-redis example 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{ Addr: \u0026#34;localhost:6379\u0026#34;, }) client.Set(ctx, \u0026#34;test\u0026#34;, 3, 0) client.Incr(ctx, \u0026#34;test\u0026#34;) res, _ := client.Get(ctx, \u0026#34;test\u0026#34;).Int() fmt.Println(res) client.Decr(ctx, \u0026#34;test\u0026#34;) res, _ = client.Get(ctx, \u0026#34;test\u0026#34;).Int() fmt.Println(res) } INCRBY \u0026amp;\u0026amp; DECRBY ä¸ä¸Šè¿°ä¸¤ä¸ªå‘½ä»¤åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯å¤šäº†æŒ‡å®šå¢å‡çš„æ•°ç›®ï¼Œæ¯”å¦‚\n1 2 3 4 5 SET test 2 INCRBY test 3 GET test DECRBY test 1 GET test ä¸¤æ¬¡GETåˆ†åˆ«è¾“å‡º5å’Œ4\ngo-redis example 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 package main import ( \u0026#34;context\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;github.com/redis/go-redis/v9\u0026#34; ) func main() { ctx := context.Background() client := redis.NewClient(\u0026amp;redis.Options{ Addr: \u0026#34;localhost:6379\u0026#34;, }) client.Set(ctx, \u0026#34;test\u0026#34;, 2, 0) client.IncrBy(ctx, \u0026#34;test\u0026#34;, 3) res, _ := client.Get(ctx, \u0026#34;test\u0026#34;).Int() fmt.Println(res) client.DecrBy(ctx, \u0026#34;test\u0026#34;, 1) res, _ = client.Get(ctx, \u0026#34;test\u0026#34;).Int() fmt.Println(res) } Stringçš„é™åˆ¶ é»˜è®¤æƒ…å†µä¸‹ï¼Œå•ä¸ª Redis å­—ç¬¦ä¸²çš„æœ€å¤§å¤§å°ä¸º 512 MBã€‚\nå›é¡¾ ä»Šå¤©è¯´åˆ°è¿™é‡Œå·®ä¸å¤šå°±æŠŠStringså¸¸è§çš„å‘½ä»¤è¯´å®Œäº†ï¼Œæˆ‘ä»¬è¯´äº†ï¼š\nSET \u0026amp;\u0026amp; GET\nMSET \u0026amp;\u0026amp; MGET\nINCR \u0026amp;\u0026amp; DECR\nINCRBY \u0026amp;\u0026amp; DECRBY\næ›´å¤šStringsç›¸å…³çš„å‘½ä»¤\n","date":"2025-02-15T02:00:00Z","permalink":"https://dingdinglz.github.io/p/redis%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%97%851-strings/","title":"Rediså­¦ä¹ ä¹‹æ—…(1) Strings"},{"content":"æ¦‚è¿° å¾®æœåŠ¡æ¦‚è¿° è¿‘å‡ å¹´å¾®æœåŠ¡çš„æ¦‚å¿µéå¸¸ç«ï¼Œå„å¤§å¤§å‚ä¹Ÿéƒ½å·²ç»åœ¨å¾ˆå¤šé¡¹ç›®ä¸Šé‡‡ç”¨çš„å¾®æœåŠ¡å¼çš„è®¾è®¡ï¼Œç›¸æ¯”äºç›´æ¥ç”¨ä¸­é—´ä»¶åšè´Ÿè½½å‡è¡¡çš„è®¾è®¡ï¼Œå¾®æœåŠ¡çš„ä¼˜ç‚¹åœ¨äºå®ƒçš„æ¨¡å—å¼å¼€å‘ï¼Œæ”¯æŒçƒ­æ›´æ–°ï¼Œå¯¹åˆ†å¸ƒå¼æ›´åŠ å‹å¥½ã€‚\nå¯¹äºä¸€å®¶å¤§å…¬å¸è€Œè¨€ï¼Œæ¨¡å—å¼çš„å¼€å‘ï¼Œä»¥åŠä¿æŒäº§å“çš„ç¨³å®šæ€§åŠå…¶é‡è¦ï¼Œå‰è€…å¯ä»¥é€šè¿‡å¾®æœåŠ¡è®¾è®¡ï¼Œåè€…å¯ä»¥é€šè¿‡åœ¨åˆ†å¸ƒå¼æ¶æ„ä¸‹ï¼Œæ‰¾ä¸ªç”¨æˆ·é‡å°çš„æ—¶é—´æ®µåˆ†æ‰¹æ¬¡æ›´æ–°æ¥åšåˆ°ã€‚\né€šå¸¸æ¥è¯´ï¼Œå¾®æœåŠ¡æ¶æ„ç”±å¾ˆå¤šå¾®æœåŠ¡ï¼ˆè´Ÿè´£å®ç°ä¸åŒçš„åŠŸèƒ½ï¼‰å’Œä¸€ä¸ªä¸­å¿ƒç½‘å…³æ¥å®ç°ï¼Œä¸­å¿ƒç½‘å…³è´Ÿè´£åšè´Ÿè½½å‡è¡¡å’ŒæœåŠ¡æ²»ç†ï¼Œä»¥åŠå…¶ä»–çš„ç»Ÿä¸€å¤„ç†è¯·æ±‚ã€‚æ¯ä¸ªå•ä¸€çš„å¾®æœåŠ¡æä¾›ä¸åŒçš„åŠŸèƒ½ã€‚\nå¤§å®¶è¾ƒä¸ºç†ŸçŸ¥çš„rpcå°±æ˜¯ä¸­å¿ƒç½‘å…³ä¸å¾®æœåŠ¡ç›´æ¥æ²Ÿé€šçš„æ–¹å¼ä¹‹ä¸€ã€‚\né‚£ä¹ˆï¼Œæƒ³è¦å®ç°ä¸€ä¸ªå¾®æœåŠ¡æ¶æ„çš„åº”ç”¨è¦è€ƒè™‘çš„ç‚¹éå¸¸ä¹‹å¤šï¼ŒåŒ…æ‹¬æœåŠ¡æ²»ç†ï¼Œè´Ÿè½½å‡è¡¡ï¼Œç†”æ–­ï¼Œä¸»ä»åŒæ­¥ç­‰ç­‰å†…å®¹ã€‚æˆ‘ä¹Ÿå› æ­¤å¾ˆé•¿æ—¶é—´å¯¹äºå¾®æœåŠ¡çš„äº†è§£åªåœç•™åœ¨æ¦‚å¿µé˜¶æ®µã€‚\nè¿‘æœŸå‚ä¸åˆ°çŸ¥æ˜“é¡¹ç›®çš„å¼€å‘ä¸­ï¼Œä¾¿å†³å®šé‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œåœ¨ä¸€æ¬¡æ¬¡å°è¯•ä¸­ï¼Œå‘ç°äº†æœ¬æ–‡è¦ä»‹ç»çš„éå¸¸å¥½ç”¨ï¼Œè®©å¼€å‘è€…ä¸“æ³¨äºé€»è¾‘çš„å¾®æœåŠ¡æ¡†æ¶go-zero\ngo-zeroæ¦‚è¿° go-zeroæ˜¯ä¸€ä¸ªé›†æˆäº†å„ç§å·¥ç¨‹å®è·µçš„ web å’Œ rpc æ¡†æ¶ã€‚é€šè¿‡å¼¹æ€§è®¾è®¡ä¿éšœäº†å¤§å¹¶å‘æœåŠ¡ç«¯çš„ç¨³å®šæ€§ï¼Œç»å—äº†å……åˆ†çš„å®æˆ˜æ£€éªŒã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œä½ èƒ½æƒ³åˆ°è¦å®ç°çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå·²ç»å®Œå…¨è¢«å†…ç½®åœ¨äº†go-zeroè¿™ä¸ªæ¡†æ¶ä¸­ã€‚\næœ¬æ–‡å®æˆ˜å†…å®¹æ¦‚è¿° æˆ‘ä»¬ç”¨ä¹¦åº—æœåŠ¡åšç¤ºä¾‹ï¼Œå¹¶ä¸”å®ç°å…¶ä¸­çš„å¢åŠ ä¹¦ç›®å’Œæ£€æŸ¥ä»·æ ¼è¿™ä¸¤ä¸ªåŠŸèƒ½ï¼Œæ¥æ¨¡æ‹Ÿå®é™…é¡¹ç›®å¼€å‘çš„æµç¨‹ã€‚\né‚£ä¹ˆï¼ŒLet\u0026rsquo;s go!!\nç¯å¢ƒå‡†å¤‡ å®‰è£…golang ä¸Šå®˜ç½‘æˆ–è€…é•œåƒç«™ä¸‹è½½å³å¯ï¼Œåˆ«å¿˜è®°é…ç½®go packageçš„ä»£ç†\nå¯ç”¨çš„ä¸€ä¸ªä»£ç†ï¼šä¸ƒç‰›äº‘\nå®‰è£…mysql æˆ‘ä»¬é€šè¿‡mysqlä½œä¸ºæ•°æ®åº“æ¥å­˜å‚¨å›¾ä¹¦ã€‚\næˆ‘æ¨èç›´æ¥ä½¿ç”¨dockerçš„mysqlé•œåƒæ¥å¯åŠ¨mysqlï¼Œä¾¿äºç®¡ç†ã€‚\nä¹Ÿå¯ä»¥åœ¨æœ¬æœºå®‰è£…mysqlï¼Œå®‰åˆ©ä¸‹ä¹‹å‰æˆ‘å¼€å‘è¿‡çš„ä¸€æ¬¾mysqlç®¡ç†å·¥å…·ï¼šMysqlManager: å¯è§†åŒ–ç®¡ç†mysqlï¼Œæ–°å»ºåº“ï¼Œåˆ é™¤åº“ï¼Œæ›´æ”¹å¯†ç ï¼Œåˆå§‹åŒ–mysqlï¼Œå¯åŠ¨ï¼Œå…³é—­ç­‰æ—¥å¸¸æ“ä½œã€‚\nå®‰è£…etcd æˆ‘ä»¬ç”¨etcdä½œä¸ºæœåŠ¡å‘ç°ä¸­å¿ƒï¼Œetcdæ˜¯ä¸€æ¬¾goå¼€å‘çš„é«˜æ€§èƒ½çš„é…ç½®ä¸­å¿ƒ\nReleases Â· etcd-io/etcd Â· GitHub ä¸‹è½½å¹¶è¿è¡Œå³å¯\nå®‰è£…protoc-gen-go rpcåè®®çš„ä»£ç ç”Ÿæˆå™¨ï¼Œç”¨ä¸‹é¢çš„ä»£ç å®‰è£…å³å¯\n1 go get -u github.com/golang/protobuf/protoc-gen-go@v1.3.2 å®‰è£…goctl goctlæ˜¯go-zeroæä¾›çš„ä¸€æ¬¾ä»£ç ç”Ÿæˆå·¥å…·ï¼Œç”¨äºç”Ÿæˆgo-zeroæ¡†æ¶çš„ä»£ç ï¼ŒåŠ é€Ÿå¼€å‘é€Ÿåº¦\n1 go get -u github.com/zeromicro/go-zero/tools/goctl@latest åˆ›å»ºç›®å½• ä¸‹é¢åˆ›å»ºä¸€ä¸ªç›®å½•bookstore\nåœ¨ç›®å½•ä¸­æ‰§è¡Œgo mod initå‘½ä»¤åˆå§‹åŒ–é¡¹ç›®\n1 go mod init bookstore ç¼–å†™ä¸­å¿ƒç½‘å…³ åœ¨ä¸Šä¸€æ­¥ä¸­æˆ‘ä»¬å®‰è£…äº†goctlï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç”Ÿæˆå¹¶ç¼–å†™apiæ–‡ä»¶ï¼Œæ¥è®©goctlå¸®æˆ‘ä»¬ç”Ÿæˆä»£ç ï¼Œè¿…é€Ÿçš„æŠŠå¾®æœåŠ¡çš„æ¡†æ¶å¤§å®¶èµ·æ¥ã€‚\nåˆ›å»ºapiæ–‡ä»¶ é¦–å…ˆï¼Œåˆ›å»ºapiæ–‡ä»¶å¤¹å¹¶è¿›å…¥ï¼Œåœ¨æ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œ\n1 goctl api -o bookstore.api å¯ä»¥çœ‹åˆ°ç›®å½•ä¸‹å·²ç»æ–°å»ºäº†bookstore.apiæ–‡ä»¶ã€‚\nç¼–è¾‘å®ƒï¼Œæˆ‘ä»¬æŠŠè¯¥é¡¹ç›®çš„apiè®¾è®¡ä¸ºå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 type ( addReq { book string `form:\u0026#34;book\u0026#34;` price int64 `form:\u0026#34;price\u0026#34;` } addResp { ok bool `json:\u0026#34;ok\u0026#34;` } ) type ( checkReq { book string `form:\u0026#34;book\u0026#34;` } checkResp { found bool `json:\u0026#34;found\u0026#34;` price int64 `json:\u0026#34;price\u0026#34;` } ) service bookstore-api { @handler AddHandler get /add (addReq) returns (addResp) @handler CheckHandler get /check (checkReq) returns (checkResp) } typeç”¨æ³•å’Œgoä¸€è‡´ï¼Œserviceç”¨æ¥å®šä¹‰get/post/head/deleteç­‰apiè¯·æ±‚ï¼Œè§£é‡Šå¦‚ä¸‹ï¼š\nservice bookstore-api {è¿™ä¸€è¡Œå®šä¹‰äº†serviceåå­— @handlerå®šä¹‰äº†æœåŠ¡ç«¯handleråå­— get /add(addReq) returns(addResp)å®šä¹‰äº†getæ–¹æ³•çš„è·¯ç”±ã€è¯·æ±‚å‚æ•°ã€è¿”å›å‚æ•°ç­‰ apiæ–‡ä»¶çš„å…·ä½“è¯­æ³•å¯ä»¥å‰å¾€å®˜ç½‘æŸ¥çœ‹ã€‚\nç‚¹æˆ‘ï¼Œç‚¹æˆ‘æŸ¥çœ‹å…·ä½“è¯­æ³•\nç„¶åæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨goctlä¸ºæˆ‘ä»¬ä¸€é”®å¼ç”Ÿæˆä»£ç \nç”Ÿæˆç½‘å…³ä»£ç  1 goctl api go -api bookstore.api -dir . ç”Ÿæˆçš„æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 api â”œâ”€â”€ bookstore.api // apiå®šä¹‰ â”œâ”€â”€ bookstore.go // mainå…¥å£å®šä¹‰ â”œâ”€â”€ etc â”‚ â””â”€â”€ bookstore-api.yaml // é…ç½®æ–‡ä»¶ â””â”€â”€ internal â”œâ”€â”€ config â”‚ â””â”€â”€ config.go // å®šä¹‰é…ç½® â”œâ”€â”€ handler â”‚ â”œâ”€â”€ addhandler.go // å®ç°addHandler â”‚ â”œâ”€â”€ checkhandler.go // å®ç°checkHandler â”‚ â””â”€â”€ routes.go // å®šä¹‰è·¯ç”±å¤„ç† â”œâ”€â”€ logic â”‚ â”œâ”€â”€ addlogic.go // å®ç°AddLogic â”‚ â””â”€â”€ checklogic.go // å®ç°CheckLogic â”œâ”€â”€ svc â”‚ â””â”€â”€ servicecontext.go // å®šä¹‰ServiceContext â””â”€â”€ types â””â”€â”€ types.go // å®šä¹‰è¯·æ±‚ã€è¿”å›ç»“æ„ä½“ æ­¤æ—¶ç½‘å…³ä¾¿æ˜¯ç¬¦åˆæˆ‘ä»¬apiæ–‡ä»¶ä¸­å£°æ˜çš„ç»“æ„ã€‚\nä½ å¯ä»¥ç›´æ¥åœ¨apiæ–‡ä»¶å¤¹go buildæ¥ç”Ÿæˆç½‘å…³çš„å¯æ‰§è¡Œæ–‡ä»¶\nå¦‚æœé‡åˆ°ä¾èµ–ç›¸å…³çš„æŠ¥é”™ï¼Œè®°å¾—go mod tidyæ›´æ–°ä¸‹ä¾èµ–å“¦\næ€»ç»“ ç›®å‰çš„è¿™ä¸ªä¸­å¿ƒç½‘å…³å¹¶æ²¡æœ‰å®ç°å¯¹åº”çš„åŠŸèƒ½ï¼Œåªæ˜¯ä¸€ä¸ªç©ºå£³å­ï¼Œä¸‹é¢è®©æˆ‘ä»¬åˆ†åˆ«å®Œæˆaddå’Œcheckè¿™éƒ¨åˆ†çš„å¾®æœåŠ¡ã€‚\nç¼–å†™å¾®æœåŠ¡ add rpcæœåŠ¡ åœ¨bookstoreä¸‹åˆ›å»ºrpcç›®å½•ã€‚\nåœ¨rpcç›®å½•ä¸­åˆ†åˆ«åˆ›å»ºaddå’Œcheckçš„æ–‡ä»¶å¤¹ã€‚\né¦–å…ˆæˆ‘ä»¬æ¥ç¼–å†™addçš„æœåŠ¡å£°æ˜ï¼Œè¿›å…¥addæ–‡ä»¶å¤¹ä¸­\né€šè¿‡å‘½ä»¤ç”Ÿæˆrpcå£°æ˜çš„æ–‡ä»¶æ¨¡ç‰ˆ\n1 goctl rpc template -o add.proto ä¿®æ”¹æ–‡ä»¶å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 syntax = \u0026#34;proto3\u0026#34;; package add; option go_package = \u0026#34;./add\u0026#34;; message addReq { string book = 1; int64 price = 2; } message addResp { bool ok = 1; } service adder { rpc add(addReq) returns(addResp); } è¯¥æ–‡ä»¶æ˜¯ç”¨æ¥ä¸ºgrpcå®šä¹‰å¾®æœåŠ¡ä¼ è¾“çš„æ ¼å¼å’Œç›¸å…³ä¿¡æ¯ã€‚\né€šè¿‡ä¸‹é¢çš„å‘½ä»¤ç”Ÿæˆrpcçš„ä»£ç \n1 goctl rpc protoc add.proto --go_out=. --go-grpc_out=. --zrpc_out=. æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 rpc/add â”œâ”€â”€ add // pb.go â”‚ â”œâ”€â”€ add.pb.go â”‚ â””â”€â”€ add_grpc.pb.go â”œâ”€â”€ add.go // mainå‡½æ•°å…¥å£ â”œâ”€â”€ add.proto // protoæºæ–‡ä»¶ â”œâ”€â”€ adder // rpc client call entry â”‚ â””â”€â”€ adder.go â”œâ”€â”€ etc // yamlé…ç½®æ–‡ä»¶ â”‚ â””â”€â”€ add.yaml â””â”€â”€ internal â”œâ”€â”€ config // yamlé…ç½®æ–‡ä»¶å¯¹åº”çš„ç»“æ„ä½“å®šä¹‰ â”‚ â””â”€â”€ config.go â”œâ”€â”€ logic // ä¸šåŠ¡é€»è¾‘ â”‚ â””â”€â”€ addlogic.go â”œâ”€â”€ server // rpc server â”‚ â””â”€â”€ adderserver.go â””â”€â”€ svc // èµ„æºä¾èµ– â””â”€â”€ servicecontext.go æ­¤æ—¶çš„add rpcå·²ç»ç¼–å†™å®Œæˆï¼ŒåŒæ ·æ˜¯å¯ä»¥go buildå¹¶è¿è¡Œçš„\ncheck rpcæœåŠ¡ ä¸add rpcæœåŠ¡æƒ³ä¼¼\n1 goctl rpc template -o check.proto ä¿®æ”¹check.protoå¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 syntax = \u0026#34;proto3\u0026#34;; package check; option go_package = \u0026#34;./check\u0026#34;; message checkReq { string book = 1; } message checkResp { bool found = 1; int64 price = 2; } service checker { rpc check(checkReq) returns(checkResp); } ç”Ÿæˆä»£ç ï¼š\n1 goctl rpc protoc check.proto --go_out=. --go-grpc_out=. --zrpc_out=. etc/check.yamlæ–‡ä»¶é‡Œå¯ä»¥ä¿®æ”¹ä¾¦å¬ç«¯å£ç­‰é…ç½®\néœ€è¦ä¿®æ”¹etc/check.yamlçš„ç«¯å£ä¸º8081ï¼Œå› ä¸º8080å·²ç»è¢«addæœåŠ¡ä½¿ç”¨äº†\nä¸­å¿ƒç½‘å…³å¯¹æ¥å¾®æœåŠ¡ ä¿®æ”¹é…ç½®æ–‡ä»¶api/etc/bookstorrer-api.yamlï¼Œå¢åŠ å¦‚ä¸‹å†…å®¹\n1 2 3 4 5 6 7 8 9 10 Add: Etcd: Hosts: - localhost:2379 Key: add.rpc Check: Etcd: Hosts: - localhost:2379 Key: check.rpc é€šè¿‡etcdè‡ªåŠ¨å»å‘ç°å¯ç”¨çš„add/checkæœåŠ¡\nä¿®æ”¹api/internal/config/config.goå¦‚ä¸‹ï¼Œå¢åŠ add/checkæœåŠ¡ä¾èµ–\n1 2 3 4 5 type Config struct { rest.RestConf Add zrpc.RpcClientConf // æ‰‹åŠ¨ä»£ç  Check zrpc.RpcClientConf // æ‰‹åŠ¨ä»£ç  } ä¿®æ”¹api/internal/svc/servicecontext.goï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 type ServiceContext struct { Config config.Config Adder adder.Adder // æ‰‹åŠ¨ä»£ç  Checker checker.Checker // æ‰‹åŠ¨ä»£ç  } func NewServiceContext(c config.Config) *ServiceContext { return \u0026amp;ServiceContext{ Config: c, Adder: adder.NewAdder(zrpc.MustNewClient(c.Add)), // æ‰‹åŠ¨ä»£ç  Checker: checker.NewChecker(zrpc.MustNewClient(c.Check)), // æ‰‹åŠ¨ä»£ç  } } ä¿®æ”¹api/internal/logic/addlogic.goé‡Œçš„Addæ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 func (l *AddLogic) Add(req *types.AddReq) (resp *types.AddResp, err error) { // æ‰‹åŠ¨ä»£ç å¼€å§‹ r, err := l.svcCtx.Adder.Add(l.ctx, \u0026amp;adder.AddReq{ Book: req.Book, Price: req.Price, }) if err != nil { return nil, err } return \u0026amp;types.AddResp{ Ok: r.Ok, }, nil // æ‰‹åŠ¨ä»£ç ç»“æŸ } é€šè¿‡è°ƒç”¨adderçš„Addæ–¹æ³•å®ç°æ·»åŠ å›¾ä¹¦åˆ°bookstoreç³»ç»Ÿ\nä¿®æ”¹api/internal/logic/checklogic.goé‡Œçš„Checkæ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 func (l *CheckLogic) Check(req *types.CheckReq) (resp *types.CheckResp,err error) { // æ‰‹åŠ¨ä»£ç å¼€å§‹ r, err := l.svcCtx.Checker.Check(l.ctx, \u0026amp;checker.CheckReq{ Book: req.Book, }) if err != nil { logx.Error(err) return \u0026amp;types.CheckResp{}, err } return \u0026amp;types.CheckResp{ Found: r.Found, Price: r.Price, }, nil // æ‰‹åŠ¨ä»£ç ç»“æŸ } é€šè¿‡è°ƒç”¨checkerçš„Checkæ–¹æ³•å®ç°ä»bookstoreç³»ç»Ÿä¸­æŸ¥è¯¢å›¾ä¹¦çš„ä»·æ ¼\nå®šä¹‰æ•°æ®åº“è¡¨ç»“æ„ï¼Œå¹¶ç”ŸæˆCRUDä»£ç  å¥½çš„ï¼Œåšåˆ°ç›®å‰è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ä¸­å¿ƒç½‘å…³çš„å…¨éƒ¨å†…å®¹ï¼Œä¸‹é¢æˆ‘ä»¬å°±éœ€è¦æŒ¨ä¸ªå®ç°addã€checkä¸¤ä¸ªæœåŠ¡çš„å…·ä½“åŠŸèƒ½ã€‚\næ•°æ®åº“æ“ä½œæ— ç–‘æ˜¯ä¸»è¦çš„ã€‚\nè®©æˆ‘ä»¬æ¥å®šä¹‰æ•°æ®åº“è¡¨ç»“æ„ï¼Œå¹¶ç”ŸæˆCRUDä»£ç \nbookstoreä¸‹åˆ›å»ºrpc/modelç›®å½•\nå®šä¹‰è¡¨ç»“æ„ åœ¨rpc/modelç›®å½•ä¸‹ç¼–å†™åˆ›å»ºbookè¡¨çš„sqlæ–‡ä»¶book.sqlï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 CREATE TABLE `book` ( `book` varchar(255) NOT NULL COMMENT \u0026#39;book name\u0026#39;, `price` int NOT NULL COMMENT \u0026#39;book price\u0026#39;, PRIMARY KEY(`book`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4; åœ¨mysqlæ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªåº“ï¼Œå¹¶è¿è¡Œè¿™ä¸ªsqlæ–‡ä»¶å»ºç«‹è¡¨book\né€šè¿‡goctlå‘½ä»¤ç”ŸæˆCRUDä»£ç  rpc/modelç›®å½•ä¸‹æ‰§è¡Œè¯¥å‘½ä»¤\n1 goctl model mysql ddl -c -src book.sql -dir . ç”Ÿæˆåçš„æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š\n1 2 3 4 rpc/model â”œâ”€â”€ book.sql â”œâ”€â”€ bookstoremodel.go // CRUD+cacheä»£ç  â””â”€â”€ vars.go // å®šä¹‰å¸¸é‡å’Œå˜é‡ amazingï¼Œcurdçš„ç»“æ„å·²ç»å…¨éƒ¨ç”Ÿæˆï¼Œæˆ‘ä»¬åªè¦è°ƒç”¨å³å¯ã€‚\nrpcä¸­å¤„ç†æ•°æ®åº“ ä¿®æ”¹rpc/add/etc/add.yamlå’Œrpc/check/etc/check.yamlï¼Œå¢åŠ å¦‚ä¸‹å†…å®¹ï¼š\n1 2 DataSource: root:@tcp(localhost:3306)/gozero # mysqlé“¾æ¥åœ°å€ï¼Œæ»¡è¶³ $user:$password@tcp($ip:$port)/$db?$queries æ ¼å¼å³å¯ ä¿®æ”¹rpc/add/internal/config/config.goå’Œrpc/check/internal/config/config.goï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 type Config struct { zrpc.RpcServerConf DataSource string // æ‰‹åŠ¨ä»£ç  } å¢åŠ äº†mysqlé…ç½®\nä¿®æ”¹rpc/add/internal/svc/servicecontext.goå’Œrpc/check/internal/svc/servicecontext.goï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 type ServiceContext struct { c config.Config Model model.BookModel // æ‰‹åŠ¨ä»£ç  } func NewServiceContext(c config.Config) *ServiceContext { return \u0026amp;ServiceContext{ c: c, Model: model.NewBookModel(sqlx.NewMysql(c.DataSource), c.Cache), // æ‰‹åŠ¨ä»£ç  } } ä¿®æ”¹rpc/add/internal/logic/addlogic.goï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 func (l *AddLogic) Add(in *add.AddReq) (*add.AddResp, error) { // æ‰‹åŠ¨ä»£ç å¼€å§‹ _, err := l.svcCtx.Model.Insert(l.ctx,\u0026amp;model.Book{ Book: in.Book, Price: in.Price, }) if err != nil { return nil, err } return \u0026amp;add.AddResp{ Ok: true, }, nil // æ‰‹åŠ¨ä»£ç ç»“æŸ } ä¿®æ”¹rpc/check/internal/logic/checklogic.goï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 func (l *CheckLogic) Check(in *check.CheckReq) (*check.CheckResp, error) { // æ‰‹åŠ¨ä»£ç å¼€å§‹ resp, err := l.svcCtx.Model.FindOne(l.ctx,in.Book) if err != nil { return nil,err } return \u0026amp;check.CheckResp{ Found: true, Price: resp.Price, }, nil // æ‰‹åŠ¨ä»£ç ç»“æŸ } è¿™å‡ æ­¥æ˜¯åœ¨è°ƒç”¨æ•°æ®åº“å­˜å‚¨æ•°æ®ï¼Œæ‰€è§å³æ‰€å¾—ã€‚\næµ‹è¯• æˆ‘ä»¬åˆ†åˆ«åœ¨addï¼Œcheckï¼Œapiæ–‡ä»¶å¤¹ä¸­è¿è¡Œgo build\nç”Ÿæˆäº†add.exeï¼Œcheck.exeï¼Œapi.exe\né¦–å…ˆè¿è¡Œetcdï¼Œå¯åŠ¨mysql\nå†ä¾æ¬¡è¿è¡Œaddï¼Œcheckå’Œapiï¼ˆaddå’Œcheckè¿è¡Œé¡ºåºæ— æ‰€è°“ï¼‰å³å¯å¯åŠ¨æœåŠ¡\nè®©æˆ‘ä»¬ç”¨curlè°ƒç”¨æµ‹è¯•ä¸€ä¸‹\nadd 1 curl -i \u0026#34;http://localhost:8888/add?book=go-zero\u0026amp;price=10\u0026#34; è¿”å›\n1 2 3 4 5 6 HTTP/1.1 200 OK Content-Type: application/json Date: Thu, 03 Sep 2020 09:42:13 GMT Content-Length: 11 {\u0026#34;ok\u0026#34;:true} æˆåŠŸæ·»åŠ äº†ä¸€æœ¬ä¹¦\ncheck 1 curl -i \u0026#34;http://localhost:8888/check?book=go-zero\u0026#34; è¿”å›å¦‚ä¸‹\n1 2 3 4 5 6 HTTP/1.1 200 OK Content-Type: application/json Date: Thu, 03 Sep 2020 09:47:34 GMT Content-Length: 25 {\u0026#34;found\u0026#34;:true,\u0026#34;price\u0026#34;:10} æˆåŠŸæŸ¥è¯¢åˆ°äº†è¿™æœ¬ä¹¦ï¼\næœ¬æ–‡æ‰€åšé¡¹ç›®çš„å®Œæ•´ä»£ç  zero-examples/bookstore at main Â· zeromicro/zero-examples Â· GitHub\nåæ€ä¸æ€»ç»“ æœ¬æ–‡æ‰€åšçš„äº‹æƒ…å…¶å®ä»…ä»…æ˜¯æ­å»ºäº†ä¸€ä¸ªå¾®æœåŠ¡çš„ä½“ç³»ï¼Œç„¶åå®ç°äº†ä¸¤ä¸ªéå¸¸ç®€å•çš„åŠŸèƒ½\nçœŸå®çš„é¡¹ç›®ä¸­éœ€è¦å®Œæˆå®Œæ•´çš„é€»è¾‘ï¼Œå¹¶å®Œæˆå…¶ä»–åŠŸèƒ½ï¼Œæ¯”å¦‚redisç¼“å­˜ï¼Œé™æµå™¨ï¼Œé‰´æƒç­‰ç­‰ï¼Œè¿™äº›åœ¨go-zeroä¸­éƒ½ä¸ºæˆ‘ä»¬æä¾›äº†ç°æˆçš„ç»„ä»¶ï¼Œä¸å¾—ä¸è¯´ï¼Œgo-zeroæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ¡†æ¶ï¼ŒåŒæ—¶ï¼Œç”±äºè¢«ä¼—å¤šå…¬å¸ç”¨äºçœŸå®é¡¹ç›®ï¼Œç¨³å®šæ€§ä¸å®‰å…¨æ€§ä¹Ÿæ˜¯å¯ä»¥ä¿éšœçš„ã€‚\nå‚è€ƒèµ„æ–™ zero-doc/docs/zero/bookstore.md at main Â· zeromicro/zero-doc Â· GitHub\nGo-zero\n","date":"2025-01-15T02:00:00Z","permalink":"https://dingdinglz.github.io/p/golang%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98/","title":"Golangå¾®æœåŠ¡å®æˆ˜"},{"content":"æœ¬æ–‡æœ€ç»ˆå®ç°æ•ˆæœ æ­å»ºå‡ºä¸€ä¸ªåœ¨å›½å†…å¯è®¿é—®çš„gemini api(ç¬¦åˆopenai apiè§„èŒƒ)ï¼Œå¹¶ç»‘å®šåˆ°è‡ªå®šä¹‰åŸŸåä¸Šã€‚\nå…¨æ–‡free of chargeï¼Œä¼Ÿå¤§ï¼æ„Ÿè°¢æä¾›æœåŠ¡çš„å…¬å¸ä»¬ã€‚\nå¦‚æœä¸æƒ³æ‰‹åŠ¨éƒ¨ç½²çš„å…„å¼Ÿä»¬ï¼Œå¯ä»¥è®¿é—®æˆ‘éƒ¨ç½²å¥½çš„apiã€‚\n1 https://gemini.dinglz.us.kg/v1 æœ¬æ–‡åŒ…å«å†…å®¹ åœ¨us.kgä¸Šæ³¨å†Œä¸€ä¸ªåŸŸåå¹¶æ‰˜ç®¡åˆ°cloudflareä¸Š\néƒ¨ç½²openai-geminiåˆ°cloudflare workersä¸Š\nç”³è¯·gemini apikeyå¹¶æµ‹è¯•å¯ç”¨æ€§\nè‹¥å·²æœ‰åŸŸåå¹¶ä¸”å·²ç»æ‰˜ç®¡åˆ°cloudflareä¸Šå¯ä»¥è·³è¿‡ç¬¬ä¸€æ­¥ã€‚\næ³¨å†ŒåŸŸå US.KG â€“ A Free name for everyone æ˜¯ä¸€ä¸ªä¸ºå¼€å‘è€…ä»¬å…è´¹æä¾›åŸŸåçš„ç½‘ç«™ï¼Œé€šè¿‡ç”³è¯·ï¼Œä½ å¯ä»¥è·å¾—ä¸€ä¸ªå…è´¹çš„\u0026quot;*.us.kg\u0026quot;çš„åŸŸå\næ­£å¦‚ä½ æ‰€è§ï¼Œæˆ‘çš„blogä¾¿æ˜¯é€šè¿‡github pageséƒ¨ç½²åœ¨dinglz.us.kgä¸Š\næ³¨å†Œè´¦å·ï¼Œå¹¶å‘é€issue è¿›å…¥ä¸Šé¢çš„ç½‘å€æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œç„¶åæŒ‰ç…§è¦æ±‚ä¸ºè¯¥å¹³å°çš„githubé¡¹ç›®ç‚¹ä¸Šstarï¼Œå¹¶å‘é€ä¸€ä¸ªissueï¼ˆç½‘ç«™å†…è¯´æ˜éå¸¸è¯¦ç»†ï¼Œåœ¨æ­¤ä¸åœ¨èµ˜è¿°ï¼‰\nåˆ›å»ºåŸŸå åˆ›å»ºä¸€ä¸ªæ²¡è¢«å ç”¨çš„åŸŸå\nå‰å¾€cloudflareåˆ›å»ºåŸŸå Cloudflare | Web Performance \u0026amp; Security è¿›å…¥è¯¥ç½‘ç«™æ³¨å†Œä¸€ä¸ªè´¦å·\nåˆ›å»ºä¸€ä¸ªåŸŸ\nè¾“å…¥åˆšåˆšæ³¨å†Œçš„åŸŸåï¼Œç‚¹å‡»ç»§ç»­ï¼Œæ¯”å¦‚gemini.us.kg\né€‰æ‹©freeè®¡åˆ’\nç‚¹ç»§ç»­å‰å¾€æ¿€æ´»\nç„¶åæˆ‘ä»¬å°±èƒ½çœ‹åˆ°ç»™æˆ‘ä»¬æä¾›çš„åç§°æœåŠ¡å™¨\nå°†å®ƒä»¬å¤åˆ¶åˆ°åˆšåˆšåˆ›å»ºåŸŸåæ‰€éœ€è¦çš„Name Server1å’ŒName Server2\næ³¨å†Œï¼\nåœ¨cloudflareä¸­ç‚¹å‡»ç«‹å³æ£€æŸ¥åç§°æœåŠ¡å™¨ï¼Œç­‰å¾…å‡ åˆ†é’Ÿæˆ–è€…å‡ å°æ—¶åï¼Œå³å¯åœ¨cloudflareé‡Œç®¡ç†æ³¨å†Œçš„åŸŸåï¼ŒåŒ…æ‹¬å¯ä»¥è§£æåˆ°ä½ çš„æœåŠ¡å™¨ä¸Šï¼Œè§£æåˆ°github pagesä¸Šç­‰ï¼Œæˆ‘ä»¬ä¸‹é¢çš„æ“ä½œéœ€è¦å°†è¯¥åŸŸåç»‘å®šåˆ°cloudflare workerä¸Šã€‚\nä½ å¯èƒ½ä¼šé‡åˆ°è§£æåˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šä½†æ— æ³•ä½¿ç”¨çš„æƒ…å†µï¼Œè¿™æ˜¯å› ä¸ºå›½å†…æœåŠ¡å™¨ä½¿ç”¨åŸŸåéœ€è¦æå‰å¤‡æ¡ˆï¼ŒåŸŸåå¤‡æ¡ˆåå³å¯ä½¿ç”¨ï¼Œæœ¬æ–‡æ— éœ€è¿›è¡Œå¤‡æ¡ˆï¼ˆcloudflareæ˜¯å›½å¤–å‚å•†ï¼Œå˜»å˜»ï¼‰\néƒ¨ç½²openai-gemini å¾ˆå¥½ï¼Œç›®å‰ä¸ºæ­¢æˆ‘ä»¬å·²ç»æˆåŠŸç™½å«–äº†ä¸€ä¸ªåŸŸåï¼Œå¹¶æŠŠå®ƒæ‰˜ç®¡åˆ°äº†cloudflareä¸Š\nä¸‹é¢æˆ‘ä»¬åˆ©ç”¨github-actionså’Œcloudflare workersæ¥åˆ›å»ºæˆ‘ä»¬çš„api\né¦–å…ˆæ‰“å¼€è¯¥é¡¹ç›®GitHub - PublicAffairs/openai-gemini: Gemini âœ OpenAI API proxy. Serverless!\nå¾€ä¸‹åˆ’ï¼Œæ‰¾åˆ°deploy to cloudflareï¼Œdeploy with workersæŒ‰é’®ï¼ˆæœ¬æ–‡åªä»‹ç»cloudflare workerséƒ¨ç½²æ–¹æ³•ï¼Œæ‰˜ç®¡åˆ°å…¶ä»–å¹³å°ä¹Ÿæ˜¯okçš„ï¼Œæ¯”å¦‚vercelï¼Œä¸è¿‡vercelåŒæ ·ä¸èƒ½åœ¨å›½å†…è®¿é—®ï¼Œä¸ç¬¦åˆæˆ‘ä»¬çš„ä½¿ç”¨éœ€æ±‚ï¼‰\næŒ‰ç…§é¡ºåºå¾€ä¸‹å³å¯\nå…¶ä¸­è·å–account idå’Œapikeyéƒ½æ˜¯cloudflareçš„\nè¿™ä¸€æ­¥è¿›è¡Œä¸‹è¯´æ˜ã€‚\naccount id ç‚¹è¿›å®ƒæä¾›ç»™ä½ çš„é“¾æ¥ï¼Œå³ä¾§å³å¯çœ‹åˆ°account id\nå¦‚æœä½ çœ‹ä¸åˆ°çš„è¯ï¼Œéšä¾¿åˆ›å»ºä¸€ä¸ªworkersï¼Œå°±èƒ½çœ‹åˆ°ï¼Œè·å–åˆ°idååˆ äº†éšä¾¿åˆ›å»ºçš„å³å¯ã€‚\napikey ç‚¹å‡»åˆ›å»ºä»¤ç‰Œ\nç‚¹å‡»ç¼–è¾‘ Cloudflare Workersçš„æ¨¡ç‰ˆ\nç”¨æˆ·èµ„æºé€‰æ‹©æ‰€æœ‰èµ„æº\nåŒºåŸŸèµ„æºé€‰æ‹©æ‰€æœ‰åŒºåŸŸ\nç‚¹å‡»ç»§ç»­ï¼Œå³å¯è·å¾—apikey\nå¥½çš„ï¼Œå®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œæ¥åˆ°cloudflare workersé¢æ¿ï¼Œå¯ä»¥çœ‹åˆ°geminiæœåŠ¡å·²ç»æˆåŠŸéƒ¨ç½²å•¦ï¼\nç‚¹è¿›å»ï¼Œç‚¹å‡»è®¾ç½®ï¼Œæ·»åŠ ä¸€ä¸ªåŸŸå\næ·»åŠ çš„åŸŸåå¯ä»¥æ˜¯ä½ åˆšåˆšç¬¬ä¸€æ­¥æ‰˜ç®¡è¿›cloudflareçš„åŸŸåï¼Œä¹Ÿå¯ä»¥æ˜¯è¯¥åŸŸåçš„å­åŸŸåã€‚\nç¥è´ºï¼ä½ æ·»åŠ çš„åŸŸåå³ä¸ºç¬¦åˆopenaièŒƒå¼çš„apiã€‚\nè°ƒç”¨å¹¶æµ‹è¯• å¥½çš„ï¼Œç›®å‰æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªgeminiçš„å›½å†…oepnaièŒƒå¼çš„apiã€‚\nä¸‹é¢æˆ‘ä»¬éœ€è¦ç”³è¯·ä¸€ä¸ªgeminiçš„apikeyï¼ŒGemini æ§åˆ¶å°ï¼Œå‰å¾€å…¶ä¸­ç”³è¯·å³å¯ã€‚\nä¸‹é¢è®©æˆ‘ä»¬æ¥è°ƒç”¨å§ã€‚\næˆ‘ä¹‹å‰ä¸ºçŸ¥æ˜“è®¾è®¡äº†ä¸€ä¸ªè°ƒç”¨æ”¯æŒopenaièŒƒå¼çš„aiçš„å¾®æœåŠ¡ï¼Œæˆ‘ç›´æ¥åˆ©ç”¨å®ƒè¿›è¡Œæµ‹è¯•\nå¤ªå¥½äº†ï¼Œæˆ‘ä»¬æˆåŠŸäº†ï¼\npyè°ƒç”¨ é¡ºä¾¿ç»™å‡ºä¸€ä¸ªpythonè°ƒç”¨çš„demo\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 from openai import OpenAI client = OpenAI( api_key = \u0026#34;åˆšåˆšç”³è¯·çš„geminiçš„apikey\u0026#34;, base_url = \u0026#34;https://ä½ æ·»åŠ çš„åŸŸå/v1\u0026#34;, ) completion = client.chat.completions.create( model = \u0026#34;æ¨¡å‹å\u0026#34;, messages = [ {\u0026#34;role\u0026#34;: \u0026#34;system\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;æç¤ºè¯\u0026#34;}, {\u0026#34;role\u0026#34;: \u0026#34;user\u0026#34;, \u0026#34;content\u0026#34;: \u0026#34;é—®é¢˜\u0026#34;} ], temperature = 0.3, ) print(completion.choices[0].message.content) æ”¯æŒçš„æ¨¡å‹åˆ—è¡¨ å¯ä»¥ç”¨è·å–æ¨¡å‹åˆ—è¡¨çš„apiæŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥ä¸Šgeminiçš„å®˜ç½‘æŸ¥çœ‹ã€‚\nå‚è€ƒèµ„æ–™ GitHub - PublicAffairs/openai-gemini: Gemini âœ OpenAI API proxy. Serverless! ä¼Ÿå¤§çš„geminiè½¬openaiæ ¼å¼çš„apiä¸­é—´ä»¶ï¼Œæ”¯æŒéƒ¨ç½²åˆ°å„ç§æ‰˜ç®¡å¹³å°ä¸Š\ncloudflare æ„Ÿè°¢ä¼Ÿå¤§çš„cloudflareæä¾›cloudflare workers\nUS.KG â€“ A Free name for everyone æ„Ÿè°¢ä¼Ÿå¤§çš„us.kgä¸ºå¼€å‘è€…ä»¬æä¾›å…è´¹çš„åŸŸå\nã€Cloudflareä¸­è½¬é¡¶çº§å¤§æ¨¡å‹APIï¼Œå›½å†…å…è´¹çˆ½ç”¨ï¼ŒGeminiç¼–ç¨‹ï¼ŒéŸ³è§†é¢‘ï¼Œå¤šæ¨¡æ€èƒ½åŠ›æµ‹è¯•ã€‘ æ„Ÿè°¢ä¼Ÿå¤§çš„åšä¸»åˆ†äº«å‡ºæ­å»ºæ–¹æ³•ï¼Œä¸ºæœ¬æ–‡æä¾›åŸºæœ¬æ€è·¯\n","date":"2025-01-10T02:00:00Z","permalink":"https://dingdinglz.github.io/p/%E9%83%A8%E7%BD%B2%E5%9B%BD%E5%86%85gemini/","title":"éƒ¨ç½²å›½å†…gemini"},{"content":"ç®€ä»‹ æœ¬æ–‡å°†å€ŸåŠ©Oh My Poshç¾åŒ–ç»ˆç«¯ï¼Œæœ‰å¤šæ¬¾çš®è‚¤å¯é€‰ã€‚\næœ€ç»ˆå¤§æ¦‚èƒ½è¾¾åˆ°è¿™ä¸ªæ•ˆæœï¼ˆä¸€ç§ï¼‰ï¼š\næ³¨æ„ï¼šæœ¬æ–‡ä»…ä»‹ç»powershellçš„å®‰è£…æ–¹å¼ï¼Œcmdã€bashç­‰å¯å‰å¾€å®˜ç½‘æ‰¾åˆ°å®‰è£…æ–¹å¼ã€‚\nå®‰è£… 1 Set-ExecutionPolicy Bypass -Scope Process -Force; Invoke-Expression ((New-Object System.Net.WebClient).DownloadString(\u0026#39;https://ohmyposh.dev/install.ps1\u0026#39;)) ä¸ºäº†ä½¿ PATH é‡æ–°åŠ è½½ï¼Œå»ºè®®é‡å¯æ‚¨çš„ç»ˆç«¯ã€‚å¦‚æœ oh-my-posh æœªè¢«è¯†åˆ«ä¸ºå‘½ä»¤ï¼Œæ‚¨å¯ä»¥å†æ¬¡è¿è¡Œå®‰è£…ç¨‹åºï¼Œæˆ–è€…æ‰‹åŠ¨å°†å…¶æ·»åŠ åˆ° PATH ä¸­ã€‚ä¾‹å¦‚ï¼š\n1 $env:Path += \u0026#34;;C:\\Users\\user\\AppData\\Local\\Programs\\oh-my-posh\\bin\u0026#34; æŒ‘é€‰çš®è‚¤ å®‰è£…å®Œæˆåï¼Œå‰å¾€æœ¬é¡µé¢æŒ‘é€‰ä¸€æ¬¾å¿ƒä»ªçš„çš®è‚¤ï¼Œå°†å…¶ä¸‹è½½ä¸‹æ¥ï¼Œä¿å­˜è‡³ä¸€ä¸ªJSONæ–‡ä»¶\né…ç½®ç»ˆç«¯ æ‰“å¼€ç»ˆç«¯è„šæœ¬é…ç½®æ–‡ä»¶\n1 notepad $PROFILE å½“ä¸Šè¿°å‘½ä»¤å‡ºç°é”™è¯¯æ—¶ï¼Œè¯·ç¡®ä¿å…ˆåˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œå³æ‰§è¡Œä¸‹é¢çš„è¯­å¥ï¼Œé¡ºåˆ©æ‰§è¡Œåˆ™ä¸ç”¨æ‰§è¡Œä¸‹é¢çš„è¯­å¥ã€‚\n1 New-Item -Path $PROFILE -Type File -Force åœ¨æ‰“å¼€çš„è®°äº‹æœ¬çš„æœ«å°¾åŠ ä¸Š\n1 oh-my-posh init pwsh --config \u0026#34;ä½ åˆšåˆšä¸‹è½½ä¸‹æ¥çš„é‚£ä¸ªjsonæ–‡ä»¶çš„ç»å¯¹åœ°å€\u0026#34; | Invoke-Expression ä¿å­˜ï¼Œå¹¶é‡å¯ç»ˆç«¯ï¼Œä½ å°±èƒ½å¾—åˆ°ä¸€ä¸ªå¥½çœ‹çš„ç»ˆç«¯å•¦ã€‚\nEnjoy it\n","date":"2024-12-17T02:00:00Z","permalink":"https://dingdinglz.github.io/p/powershell%E7%9A%84%E7%BE%8E%E5%8C%96/","title":"PowerShellçš„ç¾åŒ–"},{"content":"ä»€ä¹ˆæ˜¯JWT jwtï¼Œå…¨ç§°JSON Web Tokenï¼Œæ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡†ï¼ˆRFC 7519ï¼‰ï¼Œç”¨äºåœ¨ç½‘ç»œåº”ç”¨ç¯å¢ƒé—´å®‰å…¨åœ°ä¼ è¾“ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯å¯ä»¥è¢«éªŒè¯å’Œä¿¡ä»»ï¼Œå› ä¸ºå®ƒä»¬æ˜¯æ•°å­—ç­¾åçš„ã€‚JWTå¯ä»¥ä½¿ç”¨ç§˜å¯†ï¼ˆä½¿ç”¨HMACç®—æ³•ï¼‰æˆ–ä½¿ç”¨RSAæˆ–ECDSAçš„å…¬é’¥/ç§é’¥å¯¹è¿›è¡Œç­¾åã€‚\nJWTçš„ç”¨é€” JWTçš„ä¸»è¦ç›®çš„æ˜¯åœ¨å„æ–¹ä¹‹é—´ä¼ é€’å£°æ˜ã€‚å£°æ˜æ˜¯å¯¹å®ä½“ï¼ˆé€šå¸¸æ˜¯ç”¨æˆ·ï¼‰çš„æŸäº›å±æ€§çš„æ–­è¨€ï¼Œä¾‹å¦‚èº«ä»½ã€è®¿é—®æƒé™ç­‰ã€‚è¿™äº›å£°æ˜ä»¥ç´§å‡‘çš„å½¢å¼ç¼–ç ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œéå¸¸é€‚åˆåœ¨Webç¯å¢ƒä¸­ä½¿ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨HTTPå¤´éƒ¨ä¸­ä½œä¸ºæ‰¿è½½ä»¤ç‰Œï¼ˆBearer Tokenï¼‰ã€‚\nåœ¨æˆ‘ä»¬è®¾è®¡ç½‘ç«™æ—¶ï¼Œç»å¸¸åº”ç”¨jwtç”¨æ¥é‰´æƒï¼Œåˆ¤æ–­ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ï¼Œä»Šå¤©ä¸»è¦ä»‹ç»åˆ©ç”¨GitHub - golang-jwt/jwt: Go implementation of JSON Web Tokens (JWT).åŒ…ï¼Œå®ç°Goè¯­è¨€ä¸‹çš„jwtç”Ÿæˆå’Œè§£æã€‚\nä¾‹å¦‚ï¼Œåœ¨ä¸­é—´ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®è¿‡æœŸæ—¥æœŸï¼Œç„¶åè§£æjwtï¼Œæ¥åˆ¤æ–­ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ã€‚\nå®‰è£… 1 go get -u github.com/golang-jwt/jwt/v5 ç”Ÿæˆ æœ¬æ–‡ä»‹ç»å¦‚ä½•ç¼–ç å’Œè§£ç ä¸€ä¸ªè‡ªå®šä¹‰ç»“æ„ä½“\nä¸ºæ¨¡æ‹ŸçœŸå®ä½¿ç”¨ç¯å¢ƒï¼Œæˆ‘ä»¬é¦–å…ˆå®šä¹‰ä¸€ä¸ªç»“æ„ä½“ç±»å‹ï¼Œå¦‚ä¸‹ï¼ŒåŒ…å«ç”¨æˆ·åå’Œidå­—æ®µ\n1 2 3 4 5 type UserJWTModel struct { ID int Username string jwt.RegisteredClaims } jwt.RegisteredClaimsé‡ŒåŒ…å«äº†ä¸€äº›jwtçº¦å®šå¥½çš„å­—æ®µï¼Œæ¯”å¦‚ExpiresAtï¼Œå¯ä»¥çº¦å®šjwtçš„è¿‡æœŸæ—¶é—´ã€‚ä»¥åŠå…¶ä»–å­—æ®µï¼Œä¸‹é¢æˆ‘ä»¬ä»…ä»…ç”¨åˆ°äº†ExpiresAtï¼Œæ›´è¯¦ç»†çš„è¯·æŸ¥é˜…jwtçš„æ–‡æ¡£ã€‚\nç„¶åæ–°å»ºä¸€ä¸ªtokenï¼Œå¡«å…¥æ•°æ®\n1 2 3 4 5 6 7 token := jwt.NewWithClaims(jwt.SigningMethodHS256, UserJWTModel{ 1, \u0026#34;dinglz\u0026#34;, jwt.RegisteredClaims{ ExpiresAt: jwt.NewNumericDate(time.Now().Add(time.Minute * 10)), }, }) è¿™é‡Œçº¦å®šå¥½è¿‡æœŸæ—¶é—´æ˜¯ååˆ†é’Ÿå\nç„¶åç”¨ä¸€ä¸ªpasswordç”Ÿæˆjwt\n1 2 t, _ := token.SignedString([]byte(\u0026#34;password\u0026#34;)) fmt.Println(t) å®Œæ•´ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; \u0026#34;github.com/golang-jwt/jwt/v5\u0026#34; ) type UserJWTModel struct { ID int Username string jwt.RegisteredClaims } func main() { token := jwt.NewWithClaims(jwt.SigningMethodHS256, UserJWTModel{ 1, \u0026#34;dinglz\u0026#34;, jwt.RegisteredClaims{ ExpiresAt: jwt.NewNumericDate(time.Now().Add(time.Minute * 10)), }, }) t, _ := token.SignedString([]byte(\u0026#34;password\u0026#34;)) fmt.Println(t) } è§£æ 1 2 3 4 5 6 tokenAfter, e := jwt.ParseWithClaims(t, \u0026amp;UserJWTModel{}, func(t *jwt.Token) (interface{}, error) { return []byte(\u0026#34;password\u0026#34;), nil }) if e != nil { panic(e.Error()) } tæ˜¯æˆ‘ä»¬ä¸Šé¢ç”Ÿæˆçš„å­—ç¬¦ä¸²ï¼Œç„¶åé€‰æ‹©è§£æçš„æ¨¡å‹ï¼Œæœ€ååœ¨ä¼ å›åŠ å¯†æ—¶çš„å¯†ç ï¼Œå³å¯å¾—åˆ°è§£æåçš„tokenï¼Œå¦‚æœè¿‡æœŸæˆ–è€…å¯†ç é”™è¯¯ç­‰ä¼šä½¿e!=nilï¼Œå› æ­¤å¯ä»¥é€šè¿‡æ˜¯å¦é”™è¯¯æ¥åˆ¤æ–­ç™»å½•æ˜¯å¦è¿‡æœŸã€‚\nå–å›æˆ‘ä»¬è§£æåçš„ç»“æ„ä½“\n1 cliamAfter := tokenAfter.Claims.(*UserJWTModel) ç»éªŒè¯ï¼Œæˆ‘ä»¬å–å‡ºäº†ä¼ è¿›å»çš„æ•°æ®ã€‚\nå®Œæ•´ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; \u0026#34;github.com/golang-jwt/jwt/v5\u0026#34; ) type UserJWTModel struct { ID int Username string jwt.RegisteredClaims } func main() { token := jwt.NewWithClaims(jwt.SigningMethodHS256, UserJWTModel{ 1, \u0026#34;dinglz\u0026#34;, jwt.RegisteredClaims{ ExpiresAt: jwt.NewNumericDate(time.Now().Add(time.Minute * 10)), }, }) t, _ := token.SignedString([]byte(\u0026#34;password\u0026#34;)) fmt.Println(t) tokenAfter, e := jwt.ParseWithClaims(t, \u0026amp;UserJWTModel{}, func(t *jwt.Token) (interface{}, error) { return []byte(\u0026#34;password\u0026#34;), nil }) if e != nil { panic(e.Error()) } cliamAfter := tokenAfter.Claims.(*UserJWTModel) fmt.Println(cliamAfter) } å®é™…åº”ç”¨ æ¯”å¦‚æˆ‘ä»¬å¯ä»¥åœ¨ç™»å½•åå¾€cookieä¸­å­˜å…¥jwtï¼Œç„¶ååœ¨éœ€è¦é‰´æƒçš„åœ°æ–¹ç”¨ä¸­é—´ä»¶è§£æä»–ï¼Œå¦‚æœèƒ½æˆåŠŸåˆ™ä¸ç”¨éªŒè¯å…¶ä»–å†…å®¹ï¼Œå› ä¸ºåœ¨æŸç§ç¨‹åº¦ä¸Šæˆ‘ä»¬å¯ä»¥è®¤ä¸ºjwtä¸ä¼šè¢«ä¼ªé€ ã€‚\n","date":"2024-11-29T02:00:00Z","permalink":"https://dingdinglz.github.io/p/jwt%E7%9A%84%E5%BA%94%E7%94%A8/","title":"JWTçš„åº”ç”¨"},{"content":"å›é¡¾ æœ¬ç³»åˆ—çš„ç¬¬ä¸€ç¯‡æ–‡ç« å†™å‡ºæ¥åï¼Œæˆ‘å‘ç»™äº†å‡ ä½æœ‹å‹å¸®æˆ‘å‚è€ƒï¼Œæƒ³å¾—å‡ºä¸€äº›æ”¹è¿›çš„æ„è§ï¼Œç„¶åæˆ‘å‘ç°ï¼Œå¦‚æœå¯¹äºçœŸæ­£é›¶åŸºç¡€çš„è¯»è€…æ¥è¯´ï¼Œä»–ä»¬è¦å­¦ä¹ çš„æ˜¾ç„¶è¿˜æœ‰å¦‚ä½•ä¸‹è½½å®‰è£…ä½¿ç”¨è‡ªå·±çš„IDEï¼Œå¯¹æ­¤æˆ‘åœ¨ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­åªæ˜¯æµ…æµ…åœ°èŠäº†ä¸€ä¸‹ã€‚åœ¨æœ¬ç³»åˆ—çš„åç»­æ–‡ç« ä¸­ï¼Œæˆ‘ä¹Ÿæ²¡æ‰“ç®—è®²è¿™éƒ¨åˆ†å†…å®¹ï¼Œå¦‚æœæ— æ³•è®©è‡ªå·±çš„ä»£ç è·‘èµ·æ¥çš„è¯è¯·è‡ªè¡Œç™¾åº¦å§ï¼Œè®©æˆ‘ä»¬æŠŠé‡ç‚¹æ”¾åœ¨ä»£ç æœ¬èº«ä¸Šã€‚\nfirst try ä¸‹é¢æˆ‘ä»¬å°†æ¥å®Œæˆæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªcè¯­è¨€ç¨‹åºã€‚ä¸€ä¸²å‘½ä»¤ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªå¼€å§‹æ‰§è¡Œçš„åœ°æ–¹ï¼Œå°±å¥½åƒä¸€æ¡çº¿è·¯å¿…é¡»æœ‰ä¸€ä¸ªèµ·ç‚¹ã€‚æˆ‘ä»¬çš„ç¨‹åºå°†ä»å“ªé‡Œå¼€å§‹è¿è¡Œï¼Ÿä»è¿™é‡Œçš„è®²è§£æˆ–è®¸å°±å¯ä»¥çœ‹å‡ºæœ¬ç³»åˆ—æ–‡ç« çš„æ€è·¯ä¸å¸¸è§„cè¯­è¨€æ•™ç¨‹çš„åŒºåˆ«ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†é¦–å…ˆä»‹ç»å‡½æ•°çš„æ¦‚å¿µã€‚\n1 2 3 4 5 int main() { return 0; } è¿™æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„cè¯­è¨€ç¨‹åºï¼Œæ­£å¦‚æˆ‘ä»¬æ‰€è§åˆ°çš„ï¼Œä»–ä»€ä¹ˆä¹Ÿæ²¡æœ‰åšã€‚\nè¿™é‡Œå…¶å®å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œå³mainå‡½æ•°ï¼ˆmainä¸­æ–‡æ˜¯ä¸»è¦çš„æ„æ€ï¼Œmainå‡½æ•°æ˜¯æ•´ä¸ªç¨‹åºçš„å…¥å£ï¼Œæˆ‘éå¸¸æ¨èè¿™ç§ä»¥å•è¯å«ä¹‰è®°å¿†çš„æ–¹å¼æ¥è¿›è¡Œç¼–ç¨‹å­¦ä¹ ï¼‰é‚£ä¹ˆä»€ä¹ˆæ˜¯å‡½æ•°å‘¢ï¼Ÿ\nå‡½æ•° è®©æˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ä½ è¦å¼€å£è¯´è¯ï¼Œè¿™åœ¨cè¯­è¨€ä¸­å¯èƒ½ä½“ç°ä¸ºåœ¨å±å¹•ä¸Šæ˜¾ç¤ºä¸€äº›å†…å®¹ï¼Œå³è¾“å‡ºï¼Œé‚£ä¹ˆä»¥æˆ‘ä»¬ç›®å‰çš„çŸ¥è¯†ï¼Œå¦‚ä½•è¾“å‡ºå‘¢ï¼Ÿ\nå¾ˆæ˜æ˜¾ï¼Œä»¥æˆ‘ä»¬ç›®å‰çš„æ°´å¹³ä»€ä¹ˆä¹Ÿåšä¸äº†ã€‚ä½†æ˜¯cè¯­è¨€ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç³»åˆ—å·¥å…·ä»¥è¾¾åˆ°ä¸åŒçš„ç›®çš„ï¼Œä¾‹å¦‚å¦‚æœç›®å‰æˆ‘ä»¬éœ€è¦è¾“å‡ºï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦çŸ¥é“è¾“å‡ºçš„åŸç†æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬åªéœ€è¦å‘å‡ºæŒ‡ä»¤è¾“å‡ºå³å¯ï¼Œè¿™ä¸€ä¸ªä¸ªå®ç°ä¸åŒåŠŸèƒ½çš„å·¥å…·åœ¨cè¯­è¨€é‡Œæ˜¯å‡½æ•°ï¼Œé€šè¿‡ä½¿ç”¨ä¸åŒçš„å‡½æ•°ï¼Œä¾¿å¯ä»¥å®ç°ä¸åŒçš„åŠŸèƒ½ã€‚\nä¸ºäº†æ‹“å±•æ€§è€ƒè™‘ï¼Œå‡½æ•°åˆ†ä¸ºè‡ªå®šä¹‰å‡½æ•°å’Œåº“å‡½æ•°ï¼Œå‰è€…ç”±ç”¨æˆ·è‡ªå·±ç¼–å†™ï¼Œæˆ–è€…ä½¿ç”¨åˆ«äººå†™å¥½çš„ï¼Œè€Œåè€…ç”±cè¯­è¨€æä¾›ã€‚\næˆ‘ä»¬åœ¨çœ‹å›æˆ‘ä»¬åˆšåˆšå†™å¥½çš„ç¨‹åºï¼Œæ•´ä¸ªç¨‹åºä»…ä»…åšäº†ä¸€ä»¶äº‹ï¼Œå°±æ˜¯å®šä¹‰å¹¶å®ç°mainå‡½æ•°ï¼ˆåé¢èŠå‡½æ•°é‚£å—çš„æ—¶å€™ä¼šè¯¦ç»†é˜è¿°è¿™ä¸€éƒ¨åˆ†ï¼Œç°åœ¨è®°ä½æ ¼å¼å³å¯ï¼‰æˆ‘ä»¬å°†ä»£ç å†™åœ¨mainå‡½æ•°çš„å‡½æ•°ä½“å†…ï¼ˆå³ä¸¤ä¸ªå¤§æ‹¬å·ä¸­é—´ï¼Œreturnè¯­å¥çš„ä¸Šé¢ï¼‰å³å¯ç¼–å†™ä¸»ä½“çš„åŠŸèƒ½ã€‚\nmainå‡½æ•°å°±æ˜¯æ•´ä¸ªç¨‹åºçš„å…¥å£ï¼Œä¸€ä¸ªç¨‹åºç”±mainå‡½æ•°å¼€å§‹æ‰§è¡Œï¼Œç°é˜¶æ®µåˆå­¦è€…ä»¬å¯ä»¥ç†è§£ä¸ºç¨‹åºä»…åšäº†ä¸€ä»¶äº‹ï¼Œå°±æ˜¯è°ƒç”¨mainå‡½æ•°ã€‚\ncè¯­è¨€çš„è¾“å‡º åˆšåˆšä»‹ç»åˆ°åº“å‡½æ•°ä¸ºæˆ‘ä»¬æä¾›äº†ç§ç§åŠŸèƒ½ï¼Œé‚£ä¹ˆä¸“èŒè¾“å‡ºçš„åº“å‡½æ•°ä¾¿æ˜¯printfï¼Œé‚£ä¹ˆæƒ³è¦ä½¿ç”¨å‡½æ•°ï¼Œæˆ‘ä»¬å¿…é¡»åŒ…å«å‡½æ•°æ‰€åœ¨çš„å¤´æ–‡ä»¶ï¼Œå¤´æ–‡ä»¶æ˜¯å­˜æ”¾å‡½æ•°çš„åœ°æ–¹ï¼ŒæŠŠå‡½æ•°ç†è§£æˆä¸€ä¸ªä¸ªå·¥å…·çš„è¯ï¼Œé‚£ä¹ˆå¤´æ–‡ä»¶å°±æ˜¯å­˜æ”¾å·¥å…·çš„ç®±å­ï¼Œæƒ³è¦ä½¿ç”¨å·¥å…·ä¹‹å‰ï¼Œæˆ‘ä»¬å°±å¾—æŠŠç®±å­ç»™æ‹¿è¿›æ¥ï¼Œè¿™ä¸ªæ‹¿ç®±å­çš„å‘½ä»¤å°±æ˜¯includeã€‚includeå‘½ä»¤é€šå¸¸å†™åœ¨æ¯ä¸ª.cæ–‡ä»¶çš„æœ€ä¸Šæ–¹ï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨æŸä¸ªå‡½æ•°çš„è¯ï¼Œä½ å¿…é¡»åŒ…å«ä»–æ‰€åœ¨çš„å¤´æ–‡ä»¶ã€‚\næ¯”å¦‚printfå¹¶ä½äºå¤´æ–‡ä»¶stdio.hä¸­\nincludeçš„å…·ä½“ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹\n1 #include\u0026lt;å¤´æ–‡ä»¶å\u0026gt; æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨printfä¹‹å‰ï¼Œå¿…é¡»\n1 #include\u0026lt;stdio.h\u0026gt; åˆšåˆšæ‰€è¯´çš„ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠä»£ç å†™åœ¨ä¸»å‡½æ•°çš„å‡½æ•°ä½“é‡Œï¼Œé‚£ä¹ˆæˆ‘è¾“å‡ºHello,worldçš„ä»£ç ä¾¿å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 #include \u0026lt;stdio.h\u0026gt; int main() { printf(\u0026#34;Hello,world!\u0026#34;); return 0; } è¿™ä¸ªç‰ˆæœ¬å¯èƒ½å°±æ˜¯ä½ è§åˆ°æœ€å¤šçš„æ‰€è°“cè¯­è¨€çš„helloï¼Œworldã€‚\nä»è¿™ä¸ªä¾‹å­ä¸­ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œå‡½æ•°çš„è°ƒç”¨æ–¹æ³•æ˜¯å‡½æ•°å(å‚æ•°1ï¼Œå‚æ•°2\u0026hellip;)ã€‚\nåŒæ—¶ï¼Œæ¯è¡Œä»£ç çš„åé¢éƒ½éœ€è¦åŠ ä¸Š;ã€‚\n\u0026ldquo;Hello,world\u0026quot;ä½œä¸ºæˆ‘ä»¬çš„å‚æ•°1ï¼Œç”¨åŒå¼•å·æ‰©äº†èµ·æ¥ï¼Œè¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„é‡ï¼Œè¿™å°†åœ¨æˆ‘ä»¬åé¢è®¨è®ºå˜é‡çš„æ—¶å€™è¯´åˆ°ã€‚\næ€»ç»“ çœ‹å®Œè¿™ä¸€ç¯‡ï¼Œä½ å°±å­¦ä¼šäº†è¾“å‡ºï¼Œä¹Ÿæ­å»ºèµ·äº†ç¨‹åºçš„åŸºæœ¬æ¡†æ¶çš„é€»è¾‘ã€‚è®©æˆ‘ä»¬printfä¸€ä¸‹æœ‰æ„æ€çš„ä¸œè¥¿å§ï¼Œæ¯”å¦‚printf(\u0026ldquo;c is the best language\u0026rdquo;); \u0026#x1f602; è®©æˆ‘ä»¬å°è¯•è¾“å‡ºä¸€äº›åˆ«çš„æœ‰æ„æ€çš„ä¸œè¥¿å§ã€‚\n","date":"2024-11-22T02:00:00Z","permalink":"https://dingdinglz.github.io/p/learning-c%E8%AF%AD%E8%A8%802/","title":"Learning Cè¯­è¨€(2)"},{"content":"ä¸ºä»€ä¹ˆè¦å†™è¿™ä¸ªç³»åˆ— èº«è¾¹å¾ˆå¤šæœ‹å‹åˆšå¼€å§‹å­¦cï¼Œä»¥å‰ä»æ¥æ²¡æœ‰æ¥è§¦è¿‡ç¼–ç¨‹è¯­è¨€ï¼Œç”šè‡³æ²¡æœ‰æ¥è§¦è¿‡è®¡ç®—æœºï¼Œå¯¹äºcè¯­è¨€å­˜åœ¨ä¸€ç§æƒ§æ€•çš„å¿ƒç†ï¼ŒæŠŠå®ƒå½“æˆäº†æŸç§ç‰¹åˆ«é«˜ç«¯çš„ä¸œè¥¿ã€‚\nå¾ˆå¤šäººçœ‹ä¼¼ä¼šå†™cè¯­è¨€ï¼Œå®é™…ä¸Šä¸èƒ½ç†è§£èƒŒåçš„åŸç†ï¼Œåªèƒ½ç›²ç›®çš„å¥—ä»£ç æ¨¡æ¿ï¼Œå¯¼è‡´åç»­çš„å­¦ä¹ å¡ä½ï¼Œä¸”æ²¡æœ‰è‡ªå·±çš„åˆ›æ–°èƒ½åŠ›ã€‚\nè¿™ä¸ªç³»åˆ—æƒ³åšåˆ°ä»€ä¹ˆï¼Ÿ ä»¥æˆ‘çš„æ€è·¯ä»é›¶å¼€å§‹å±‚å±‚æ·±å…¥cè¯­è¨€\nè®²æ¸…æ¥šcè¯­è¨€åŸºç¡€ä»£ç çš„æ¦‚å¿µå’Œç¼–å†™æ–¹æ³•\nwarning æœ¬ç³»åˆ—ä»¥æˆ‘çš„æ€è·¯æ¨è¿›ï¼Œå¯èƒ½ä¸å¸¸è§çš„cè¯­è¨€æ•™ç¨‹çš„å­¦ä¹ è·¯å¾„å¤§ç›¸å¾„åº­\nå»ºè®®é˜…è¯»æœ¬æ–‡å‰å…ˆæŒæ¡ä¸€éƒ¨åˆ†cè¯­è¨€çŸ¥è¯†ï¼Œä»¥æˆ‘ç›®å‰çš„æƒ³æ³•ä»…ä»…æ˜¯è§£å†³ä¸€äº›æ–°æ‰‹åªä¼šå†™ä¸æ‡‚é“ç†ï¼Œä¸èƒ½ä¸¾ä¸€åä¸‰çš„é—®é¢˜ã€‚\né‚£ä¹ˆè®©æˆ‘ä»¬å¼€å§‹å§\ncè¯­è¨€ç®€è¿° ç”¨é€” ä»»ä½•ç¼–ç¨‹è¯­è¨€éƒ½èµ·åˆ°äº†è®©è®¡ç®—æœºæ‰§è¡Œæˆ‘ä»¬æƒ³è®©ä»–æ‰§è¡Œçš„å‘½ä»¤çš„ä½œç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´å†™ä¸€ä¸ªåº”ç”¨ï¼Œåœ¨windowsä¸Šå¯èƒ½æ˜¯.exeæ–‡ä»¶ã€‚\nç¼–ç¨‹è¯­è¨€ç»•å¼€äº†åº•å±‚çš„å¤æ‚ï¼Œè®©æˆ‘ä»¬ä»¥ä¸€ç§äººç±»å¯ä»¥ç†è§£çš„æ–¹å¼ç¼–å†™æˆ‘ä»¬æƒ³è¦çš„ç¨‹åºã€‚cä½œä¸ºä¸€ç§é«˜çº§è¯­è¨€ï¼Œä»æŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œæ˜¯å…·æœ‰æé«˜çš„å¯è¯»æ€§çš„ã€‚\næƒ³è®©ç¨‹åºå®ç°æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ï¼Œå°±éœ€è¦å†™å‡ºå¯¹åº”çš„ä»£ç ã€‚å› æ­¤ï¼Œå®ç°ä¸€ä¸ªç¨‹åºä»…ä»…éœ€è¦æˆ‘ä»¬æŠŠä¸€æ­¥ä¸€æ­¥çš„ä»£ç å†™åœ¨ä¸€èµ·ï¼Œå†™ä»£ç ä¹Ÿä¸æ˜¯ç”µè§†é‡Œæ‰€å¹å˜˜çš„é‚£æ ·æ— æ¯”é«˜ç«¯çš„ä¸œè¥¿ï¼Œä»–åªéœ€è¦æˆ‘ä»¬å†™ï¼Œå†™ä¸€ç§è®¡ç®—æœºèƒ½å¤Ÿç†è§£çš„è¯­è¨€ï¼Œå»å‘½ä»¤è®¡ç®—æœºåšæˆ‘ä»¬æƒ³è®©ä»–åšçš„äº‹ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆç¼–ç¨‹è¯­è¨€è¢«å«åšè¯­è¨€äº†å§ï¼Œå½“ç„¶è®¡ç®—æœºä¸ä¼šè¿é€†æˆ‘ä»¬çš„å‘½ä»¤ï¼ˆåœ¨æŸç§ç¨‹åº¦ä¸Šï¼‰ï¼Œè€Œå¬ä½ è¯´è¯çš„äººå¯ä¸ä¸€å®šã€‚\nç¼–è¯‘ å…ˆå»é™¤æ‰è¿™ç§ç¼–ç¨‹å¥½å‰å®³å•Šçš„æ€æƒ³ï¼Œé‚£æˆ‘ä»¬å¼€å§‹æ­£å¼è¿›å…¥è¿™é—¨è¯­è¨€ã€‚\né¦–å…ˆæˆ‘ä»¬è¦æ¸…æ¥šçš„äº‹ï¼Œè®¡ç®—æœºå¹¶ä¸èƒ½ç›´æ¥è¯»æ‡‚ç¼–ç¨‹è¯­è¨€ï¼Œè¿™å¾ˆé—æ†¾ï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©æŸç§å·¥å…·æŠŠç¼–ç¨‹è¯­è¨€ç»™è½¬æ¢æˆè®¡ç®—æœºå¯ä»¥ç›´æ¥æ‰§è¡Œçš„ä¸œè¥¿ã€‚\næˆ‘ä»¬æŠŠæºç ï¼ˆä¹Ÿå°±æ˜¯cè¯­è¨€çš„ä»£ç ï¼‰éƒ½æ”¾åœ¨cè¯­è¨€çš„æºæ–‡ä»¶é‡Œï¼Œä¹Ÿå°±æ˜¯.cæ–‡ä»¶ã€‚.cæ–‡ä»¶æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œé‡Œé¢å†™ç€æˆ‘çš„ä»£ç ã€‚æˆ‘ä»¬ç°åœ¨éœ€è¦ä¸€ç§å·¥å…·æŠŠè¿™ä¸ª.cæ–‡ä»¶è½¬æ¢æˆå¯æ‰§è¡Œçš„æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯windowsä¸‹çš„exeæ–‡ä»¶ï¼Œå°±éœ€è¦ç”¨åˆ°ç¼–è¯‘å™¨ã€‚\nç¼–è¯‘å™¨çš„ä½œç”¨ç›®å‰å¯ä»¥ç†è§£ä¸ºæºç -\u0026gt;å¯æ‰§è¡Œç¨‹åºã€‚cè¯­è¨€æ¯”è¾ƒçŸ¥åçš„ç¼–è¯‘å™¨æœ‰gccç­‰ã€‚\nè¿™ä¸ªæ—¶å€™å¤§å®¶å¯èƒ½å°±è¦é—®äº†ï¼Œæˆ‘å¹³å¸¸åœ¨ideé‡Œå†™ä»£ç ï¼Œç›´æ¥å°±èƒ½ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰ç”¨åˆ°ç¼–è¯‘å™¨å‘¢ã€‚å…¶å®ç”Ÿæˆçš„è¿‡ç¨‹æ˜¯ç”±ideè¿›è¡Œäº†ç¼–è¯‘å™¨çš„è°ƒç”¨ã€‚ä½ ä»¬ä½¿ç”¨çš„ä¸€äº›ideä¾‹å¦‚VSå’ŒDev-cppå°±æ˜¯è‡ªå¸¦ç¼–è¯‘å™¨çš„ï¼Œä»–ä»¬è°ƒç”¨äº†è‡ªå¸¦çš„ç¼–è¯‘å™¨è¿›è¡Œç”Ÿæˆï¼Œå› æ­¤ä½ å¯èƒ½å¹¶æ²¡æœ‰æ¥è§¦åˆ°ç¼–è¯‘å™¨çš„ä½¿ç”¨ã€‚å¦‚æœä½ ç”¨çš„æ˜¯VSCODEçš„è¯ï¼Œé‚£ä¹ˆä½ åœ¨é…ç½®cè¯­è¨€ç¯å¢ƒçš„æ—¶å€™åº”è¯¥ç»å†è¿‡äº†ç¼–è¯‘å™¨çš„é…ç½®ï¼Œé‚£ä¹ˆä½ åº”è¯¥å¯ä»¥ç†è§£ç¼–è¯‘å™¨çš„ä½œç”¨äº†\nä¹Ÿæ˜¯æ¯”è¾ƒæ¨èå¤§å®¶ä½¿ç”¨ä¸‹vscï¼Œè‡ªè¡Œé…ç½®ä¸€ä¸‹ç¯å¢ƒå¯ä»¥åŠ æ·±å¯¹ä¸Šè¿°æ¦‚å¿µçš„ç†è§£ï¼Œä¸è¿‡æ–°æ‰‹ä½¿ç”¨devæˆ–è®¸ä¹Ÿæ˜¯æœ‰å¥½å¤„çš„ï¼Œå› ä¸ºæ²¡æœ‰å®æ—¶æç¤ºæˆ–è®¸å¯ä»¥æå‡ä½ å¯¹åŸºç¡€çŸ¥è¯†çš„ç†è§£å’Œè®°å¿†å§ã€‚\nè¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸å°‘äººè®¤ä¸ºä¸€ä¸ªåº”ç”¨åªèƒ½æœ‰ä¸€ä¸ªæºæ–‡ä»¶ï¼Œå…¶å®ä¸æ˜¯çš„ï¼Œä¸€ä¸ªåº”ç”¨å¯ä»¥å†™æˆå¾ˆå¤šä¸ªcæ–‡ä»¶ï¼Œæ¯”å¦‚æŠŠä¸åŒçš„åŠŸèƒ½å†™åœ¨ä¸åŒçš„æ–‡ä»¶é‡Œï¼Œæœ€åç”¨å¤´æ–‡ä»¶è¿æ¥ï¼Œè¿™å°†åœ¨æˆ‘ä»¬åç»­èŠåˆ°å‡½æ•°çš„æ—¶å€™å†æè¿™ä¸€ç‚¹ã€‚\nä½¿ç”¨gccç¼–è¯‘ ä¾‹å¦‚ï¼ŒæŠŠ1.cæ–‡ä»¶ç¼–è¯‘æˆ1.exe\n1 gcc 1.c -o 1.exe ç¼–è¯‘å¤šä¸ªæ–‡ä»¶ç”Ÿæˆä¸€ä¸ªåº”ç”¨\nä¾‹å¦‚ï¼š\n1 gcc 1.c 2.c 3.c -o 1.exe -oæ˜¯objectçš„æ„æ€ï¼Œå¯ä»¥ç†è§£ä¸ºç”Ÿæˆ1.exe\næ€»ç»“ æœ¬æ–‡ä½œä¸ºè¯¥ç³»åˆ—çš„å¼€å‘ä¹‹ä½œï¼Œä»…ä»…å” å®Œäº†å‰ç½®çš„ä¸€äº›ä¸œè¥¿å’Œæˆ‘æƒ³è¯´çš„ä¸€äº›è¯ï¼Œä¸‹ä¸€ç¯‡æ–‡ç« å°†å¼€å§‹è¿›å…¥å…·ä½“çš„ä»£ç ã€‚\n","date":"2024-11-21T02:00:00Z","permalink":"https://dingdinglz.github.io/p/learning-c%E8%AF%AD%E8%A8%801/","title":"Learning Cè¯­è¨€(1)"},{"content":"äºŒå‰æ ‘ä»‹ç» äºŒå‰æ ‘_ç™¾åº¦ç™¾ç§‘\näºŒå‰æ ‘ç”±ä¸€ä¸ªä¸ªèŠ‚ç‚¹æ„æˆï¼Œæœ€ä¸Šæ–¹æ˜¯æ ¹èŠ‚ç‚¹ï¼Œä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½æœ‰å®ƒçš„å·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹ï¼Œç”±å·¦èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘å«åšå·¦å­æ ‘ï¼Œç”±å³èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘å«åšå³å­æ ‘ã€‚\nå¦‚å›¾ä¸ºä¸€é¢—æœ‰ä¸ƒä¸ªèŠ‚ç‚¹çš„äºŒå‰æ ‘ï¼ŒèŠ‚ç‚¹1ä¾¿æ˜¯è¿™é¢—æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œè€Œçº¢åœˆ1ä¸ºæ ¹èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œçº¢åœˆ2ä¸ºæ ¹èŠ‚ç‚¹çš„å³å­æ ‘ã€‚\nå¦‚ä½•æè¿°ä¸€é¢—æ ‘ é™¤äº†åƒè¿™æ ·ç›´æ¥ç”»ä¸€å¼ å›¾å‡ºæ¥ï¼Œå¦‚ä½•æè¿°ä¸€é¢—æ ‘å‘¢ï¼Ÿ\næè¿°èŠ‚ç‚¹çš„å¯¹åº”å…³ç³»ï¼šæ¯”å¦‚ï¼Œç›´æ¥å™è¿°èŠ‚ç‚¹1ä¸ºæ ¹èŠ‚ç‚¹ï¼Œ2å’Œ3åˆ†åˆ«ä¸º1çš„å·¦å­æ ‘å’Œå³å­æ ‘ã€‚å†æè¿°2çš„å·¦å­æ ‘å’Œå³å­æ ‘æœ‰ç­‰ç­‰ã€‚\nè¿™æ ·ç›´æ¥å™è¿°å›ºç„¶å¯è¡Œï¼Œä¸‹é¢ç»™å¤§å®¶ä»‹ç»å‡ ç§å¸¸è§çš„éå†æ ‘çš„æ–¹å¼ã€‚\nå±‚åºéå† å³æŒ‰ç…§æ¯å±‚æè¿°è¿™é¢—æ ‘çš„å…ƒç´ ã€‚è‡ªä¸Šè€Œä¸‹ï¼Œè‡ªå·¦è€Œå³ã€‚\næŒ‰ç…§ä¸Šå›¾ï¼Œè¯¥æ ‘çš„å±‚åºéå†ä¸ºï¼š\n1 1 2 3 4 5 6 7 å‰åºéå† ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼ŒæŒ‰ç…§ç”±èŠ‚ç‚¹æœ¬èº«ï¼Œå·¦èŠ‚ç‚¹ï¼Œå³èŠ‚ç‚¹çš„å½¢å¼è¾“å‡ºå€¼ã€‚å¦‚æœè¯¥èŠ‚ç‚¹æœ‰å·¦å­æ ‘å’Œå³å­æ ‘ï¼Œä¹ŸæŒ‰ç…§è¯¥é¡ºåºã€‚\næŒ‰ç…§ä¸Šå›¾ï¼Œè¯¥æ ‘çš„å‰åºéå†ä¸ºï¼š\n1 1 2 4 5 3 6 7 ä¸­åºéå† ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼ŒæŒ‰ç…§ç”±å·¦èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹æœ¬èº«ï¼Œå³èŠ‚ç‚¹çš„å½¢å¼è¾“å‡ºå€¼ã€‚å¦‚æœè¯¥èŠ‚ç‚¹æœ‰å·¦å­æ ‘å’Œå³å­æ ‘ï¼Œä¹ŸæŒ‰ç…§è¯¥é¡ºåºã€‚\næŒ‰ç…§ä¸Šå›¾ï¼Œè¯¥æ ‘çš„ä¸­åºéå†ä¸ºï¼š\n1 4 2 5 1 6 3 7 ååºéå† ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼ŒæŒ‰ç…§ç”±å·¦èŠ‚ç‚¹ï¼Œå³èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹æœ¬èº«çš„å½¢å¼è¾“å‡ºå€¼ã€‚å¦‚æœè¯¥èŠ‚ç‚¹æœ‰å·¦å­æ ‘å’Œå³å­æ ‘ï¼Œä¹ŸæŒ‰ç…§è¯¥é¡ºåºã€‚\næŒ‰ç…§ä¸Šå›¾ï¼Œè¯¥æ ‘çš„ååºéå†ä¸ºï¼š\n1 4 5 2 6 7 3 1 æ³¨æ„ è¿™å››ç§éå†æ–¹æ³•ä¸­ï¼Œä»ç»™ä¸¤ç§éå†æ–¹æ³•ï¼Œå¯ä»¥å¸®æˆ‘ä»¬å¾—åˆ°ä¸€é¢—ç¡®å®šçš„æ ‘ã€‚\nå»ºæ ‘ åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­å¦‚ä½•è¡¨ç¤ºå‡ºä¸€æ£µæ ‘ï¼Ÿ\næˆ‘ä»¬å…ˆæ¥æƒ³æƒ³æ¯ä¸ªèŠ‚ç‚¹çš„ç‰¹æ€§ï¼Œé¦–å…ˆï¼Œæ¯ä¸ªèŠ‚ç‚¹è‡ªèº«éƒ½æœ‰ä¸€ä¸ªå€¼ï¼Œç„¶åå®ƒå¯èƒ½æœ‰å·¦èŠ‚ç‚¹æˆ–è€…å³èŠ‚ç‚¹ã€‚ï¼ˆå¦‚æœè¿™ä¸ªèŠ‚ç‚¹æ—¢æ²¡æœ‰å·¦èŠ‚ç‚¹ï¼Œä¹Ÿæ²¡æœ‰å³èŠ‚ç‚¹çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹è¢«ç§°ä¸ºå¶å­èŠ‚ç‚¹ã€‚ï¼‰é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªç»“æ„ä½“æ¥è¡¨ç¤ºæ¯ä¸ªèŠ‚ç‚¹ã€‚\n1 2 3 4 5 6 struct Node { Node * left,* right; // å·¦èŠ‚ç‚¹çš„æŒ‡é’ˆå’Œå³èŠ‚ç‚¹çš„æŒ‡é’ˆ int value; // æœ¬èº«çš„å€¼ Node():left(NULL),right(NULL){}; // åˆå§‹åŒ–å·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹ä¸ºç©º }; ç”±äºæˆ‘ä»¬ä¸æ¸…æ¥šæ ‘çš„å¤§å°ï¼Œå› æ­¤æˆ‘ä»¬å¯¹äºæ¯ä¸ªèŠ‚ç‚¹éƒ½é‡‡ç”¨åŠ¨æ€æ·»åŠ çš„æ–¹æ³•ã€‚è¿™ä¸ªæ—¶å€™å°±è¦ç”¨åˆ° new å’Œ delete å…³é”®å­—ã€‚newå¯ä»¥åŠ¨æ€ç”³è¯·ä¸€ä¸ªå†…å­˜ç”¨äºå¯¹åº”çš„èŠ‚ç‚¹ï¼Œdeleteå¯ä»¥åˆ é™¤(æˆ–è€…è¯´å½’è¿˜æ›´åˆé€‚ä¸€ç‚¹)æ‰ç”³è¯·çš„å†…å­˜ã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ç›´æ¥æ–°å»ºä¸€ä¸ªèŠ‚ç‚¹ã€‚\n1 2 3 4 Node * newnode() { return new Node(); } é‚£æˆ‘ä»¬å°±å¯ä»¥è¿™æ ·æ„å»ºä¸€æ£µæ ‘ã€‚\n1 2 3 4 5 6 Node * root = newnode(); // æ„å»ºæ ¹èŠ‚ç‚¹ root-\u0026gt;value = 1; root-\u0026gt;left = newnode(); // æ„å»ºæ ¹èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ root-\u0026gt;left-\u0026gt;value = 2; root-\u0026gt;right = newnode(); // å³èŠ‚ç‚¹ root-\u0026gt;right-\u0026gt;value = 3; å»ºå‡ºçš„æ ‘å¦‚å›¾ã€‚\ndfs é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•éå†è¿™é¢—æ ‘ï¼Ÿä»¥å‰åºéå†ä¸ºä¾‹ã€‚\n1 2 3 4 5 6 7 void dfs(Node * root) { cout \u0026lt;\u0026lt; root-\u0026gt;value \u0026lt;\u0026lt; \u0026#34; \u0026#34;; if(root-\u0026gt;left!=NULL) dfs(root-\u0026gt;left); if(root-\u0026gt;right!=NULL) dfs(root-\u0026gt;right); return; } è¿™ç§éå†æ–¹å¼è¢«ç§°ä½œæ·±åº¦ä¼˜å…ˆæœç´¢ã€‚é€šå¸¸ä½¿ç”¨é€’å½’çš„æ–¹å¼å®ç°ï¼Œæ—¢ç„¶æ˜¯ä¸­å·¦å³çš„é¡ºåºï¼Œé‚£ä¹ˆæ‹¿åˆ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°±ç«‹é©¬è¾“å‡ºè¿™ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œç„¶åå†é€’å½’çš„å»æœå®ƒçš„å·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹ï¼Œç›´åˆ°æœå®Œä¸ºæ­¢ã€‚\næˆ‘å¼€å§‹éå†çš„æ–¹å¼ä¾¿æ˜¯ï¼š\n1 dfs(root); åŒæ ·çš„ï¼Œæˆ‘ä»¬çš„deleteæ“ä½œä¹Ÿå¯ä»¥ç”¨dfsçš„å½¢å¼æ¥å†™ã€‚\nåˆ å®Œå®ƒçš„å·¦å³èŠ‚ç‚¹ï¼Œå†åˆ ä»–æœ¬èº«ã€‚\n1 2 3 4 5 6 7 void remove_tree(Node * u) { if(u==NULL) return; remove_tree(u-\u0026gt;left); remove_tree(u-\u0026gt;right); delete u; } bfs æ›¾ç»çš„åšå®¢ä¸­æˆ‘ä»‹ç»äº†stlçš„ç›¸å…³å†…å®¹ï¼Œé‚£ä¹ˆå€ŸåŠ©queueé˜Ÿåˆ—ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°å±‚åºéå†ã€‚è‡ªä¸Šè€Œä¸‹ï¼Œè‡ªå·¦è€Œå³ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 void bfs(Node * root) { queue\u0026lt;Node *\u0026gt; q; q.push(root); while(!q.empty()) { Node * cnt = q.front(); q.pop(); cout \u0026lt;\u0026lt; cnt-\u0026gt;value \u0026lt;\u0026lt; \u0026#34; \u0026#34;; if(cnt-\u0026gt;left!=NULL) queueTree.push(cnt-\u0026gt;left); if(cnt-\u0026gt;right!=NULL) queueTree.push(cnt-\u0026gt;right); } } é¦–å…ˆæŠŠç¬¬ä¸€å±‚çš„å…ƒç´ æ‰”è¿›é˜Ÿåˆ—ï¼Œä¹Ÿå°±æ˜¯æ ¹èŠ‚ç‚¹ï¼Œç„¶åä¾æ¬¡æ·»åŠ å·¦èŠ‚ç‚¹ï¼Œå³èŠ‚ç‚¹ï¼Œå·¦èŠ‚ç‚¹å†æ·»åŠ å·¦èŠ‚ç‚¹å³èŠ‚ç‚¹ã€‚\næ ¹æ®é˜Ÿåˆ—çš„ç‰¹æ€§ï¼Œå°±å¯ä»¥å®ç°è‡ªä¸Šè€Œä¸‹ï¼Œè‡ªå·¦è€Œå³åœ°è®¿é—®åˆ°æ¯ä¸€ä¸ªèŠ‚ç‚¹ã€‚\nè¿™ç§éå†çš„æ–¹æ³•è¢«ç§°åšå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚\nä¾‹é¢˜ uva122 é¢˜ç›®é“¾æ¥ï¼šTrees on the level - UVA 122 - Virtual Judge\né¢˜æ„ é¢˜æ„ä¸éš¾ç†è§£ï¼Œå³ä¸ºå…ˆå»ºæ ‘ï¼Œå†æŒ‰å±‚åºéå†è¾“å‡ºå…ƒç´ ã€‚\néš¾ç‚¹è§£æ æ¯ä¸ªè¾“å…¥çš„æ ¼å¼æ˜¾å¾—æœ‰äº›éš¾ä»¥å¤„ç† å¦‚ä½•åˆ¤æ–­æ˜¯å¦å­˜åœ¨é‡å¤èŠ‚ç‚¹ï¼Ÿ å¦‚ä½•åˆ¤æ–­å¿…è¦èŠ‚ç‚¹ä¸å­˜åœ¨ï¼Ÿ è®©æˆ‘ä»¬æŒ¨ä¸ªè§£æ\néš¾ç‚¹1ï¼šè¾“å…¥å¤„ç† è®©æˆ‘ä»¬ä»¥(7,LLL)ä¸ºä¾‹ã€‚\næˆ‘ä»¬ä»è¿™ä¸ªå­—ç¬¦ä¸²ä¸­è‡³å°‘åº”è¯¥è·å–åˆ°ä¸¤ä¸ªæ•°æ®ï¼Œå³èŠ‚ç‚¹çš„å€¼å’Œè¡¨ç¤ºä½ç½®çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨åˆ°stringç±»è‡ªå¸¦çš„findå‡½æ•°å’Œsubstrå‡½æ•°ã€‚\nfindå‡½æ•°å¯ä»¥æŸ¥æ‰¾åˆ°éœ€è¦æŸ¥æ‰¾çš„å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®(ä»0å¼€å§‹)\nsubstrå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå­å­—ç¬¦ä¸²å¼€å§‹çš„ä½ç½®ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºéœ€è¦æˆªå–çš„é•¿åº¦ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æœç´¢,çš„ä½ç½®ï¼Œç„¶ååˆ†åˆ«æˆªå–å³å¯ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹\n1 2 3 // nodeTenä¸ºç±»ä¼¼(7,LLL)çš„ç»“æ„ nodeTen.substr(nodeTen.find(\u0026#39;,\u0026#39;)+1,nodeTen.length() - nodeTen.find(\u0026#39;,\u0026#39;) - 2) // LLL atoi(nodeTen.substr(1,nodeTen.find(\u0026#39;,\u0026#39;)-1).c_str()) // 7 éš¾ç‚¹2ï¼šåˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦é‡å¤ åœ¨nodeç»“æ„ä½“ä¸­æ·»åŠ ä¸€ä¸ªboolç±»å‹çš„å˜é‡ç”¨äºè®°å½•ä¹‹å‰æ˜¯å¦èµ‹å€¼è¿‡å³å¯ã€‚\néš¾ç‚¹3ï¼šåˆ¤æ–­å¿…è¦èŠ‚ç‚¹ä¸å­˜åœ¨ æ·±æœæˆ–å¹¿æœä¸€éæ ‘ï¼Œå¦‚æœå­˜åœ¨èŠ‚ç‚¹æœªè¢«èµ‹å€¼ï¼Œåˆ™è¯´æ˜å¿…è¦èŠ‚ç‚¹ä¸å­˜åœ¨ã€‚\nç¤ºä¾‹ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 #include \u0026lt;iostream\u0026gt; #include \u0026lt;queue\u0026gt; using namespace std; struct Node { bool haveValue; Node * left,* right; int value; Node():haveValue(false),left(NULL),right(NULL){}; }; Node * root = NULL; Node * newnode() { return new Node(); } void remove_tree(Node * u) { if(u==NULL) return; remove_tree(u-\u0026gt;left); remove_tree(u-\u0026gt;right); delete u; } bool addNode(string ten,int value) { Node * currentNode = root; for(int i=0;i\u0026lt;ten.length();i++) { if(ten[i] == \u0026#39;L\u0026#39;) { if(currentNode-\u0026gt;left==NULL) currentNode-\u0026gt;left = newnode(); currentNode = currentNode-\u0026gt;left; } else { if(currentNode-\u0026gt;right==NULL) currentNode-\u0026gt;right = newnode(); currentNode = currentNode-\u0026gt;right; } } if(currentNode-\u0026gt;haveValue) { return false; } currentNode-\u0026gt;haveValue = true; currentNode-\u0026gt;value = value; return true; } int main() { string nodeTen; while(cin \u0026gt;\u0026gt; nodeTen) { remove_tree(root); root = newnode(); bool flag = true; flag = addNode(nodeTen.substr(nodeTen.find(\u0026#39;,\u0026#39;)+1,nodeTen.length() - nodeTen.find(\u0026#39;,\u0026#39;) - 2),atoi(nodeTen.substr(1,nodeTen.find(\u0026#39;,\u0026#39;)-1).c_str())); while(cin \u0026gt;\u0026gt; nodeTen \u0026amp;\u0026amp; nodeTen!=\u0026#34;()\u0026#34;) { if(flag) { flag = addNode(nodeTen.substr(nodeTen.find(\u0026#39;,\u0026#39;)+1,nodeTen.length() - nodeTen.find(\u0026#39;,\u0026#39;) - 2),atoi(nodeTen.substr(1,nodeTen.find(\u0026#39;,\u0026#39;)-1).c_str())); } } if(nodeTen == \u0026#34;()\u0026#34;) { if(!flag) { cout \u0026lt;\u0026lt; \u0026#34;not complete\\n\u0026#34;; continue; } else { bool rightAns = true; vector\u0026lt;int\u0026gt; ans; queue\u0026lt;Node *\u0026gt; queueTree; queueTree.push(root); while(!queueTree.empty()) { Node * cnt = queueTree.front(); queueTree.pop(); if(!cnt-\u0026gt;haveValue) { rightAns = false; break; } ans.push_back(cnt-\u0026gt;value); if(cnt-\u0026gt;left!=NULL) queueTree.push(cnt-\u0026gt;left); if(cnt-\u0026gt;right!=NULL) queueTree.push(cnt-\u0026gt;right); } if(!rightAns) { cout \u0026lt;\u0026lt; \u0026#34;not complete\u0026#34;; } else { for(auto i = ans.begin();i!=ans.end();i++) { cout \u0026lt;\u0026lt; *i; if(i!=ans.end()-1) { cout \u0026lt;\u0026lt; \u0026#34; \u0026#34;; } } } cout \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; } } } return 0; } uva548 é¢˜ç›®é“¾æ¥\nè¿™é¢˜å¾ˆæ˜¾ç„¶ç¬¦åˆæˆ‘ä»¬åˆšåˆšæåˆ°çš„ç»“è®ºï¼Œç»™å‡ºå››ç§éå†æ–¹å¼ä¸­çš„ä¸¤ç§ï¼Œä¸€å®šå¯ä»¥ç¡®å®šä¸€æ£µæ ‘ï¼Œè‡ªç„¶ä¹Ÿå°±å¯ä»¥è¾“å‡ºå…¶ç¬¬ä¸‰ç§éå†ã€‚\né‚£ä¹ˆæœ¬é¢˜ä¸­æ ¹æ®ä¸­åºå’Œååºï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•å»ºæ ‘å‘¢ï¼Ÿ\nä»¥è¿™ç»„æ•°æ®ä¸ºä¾‹\n1 2 3 2 1 4 5 7 6 3 1 2 5 6 7 4 ååºéå†çš„å½¢å¼æ˜¯å·¦å³ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœ€åä¸€ä¸ªå­èŠ‚ç‚¹ä¸€å®šæ˜¯è¿™æ£µæ ‘çš„æ ¹èŠ‚ç‚¹ã€‚\nè€Œä¸­åºéå†çš„å½¢å¼æ˜¯å·¦ä¸­å³ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ ¹èŠ‚ç‚¹çš„å·¦è¾¹æ˜¯å·¦å­æ ‘çš„ä¸­åºéå†ï¼Œæ ¹èŠ‚ç‚¹çš„å³è¾¹ä¸ºå³å­æ ‘çš„ä¸­åºéå†ã€‚\nå¯ä»¥å¾—å‡ºï¼Œå·¦å­æ ‘çš„å…ƒç´ ä¸ªæ•°ä¸º3ï¼Œå› ä¸ºååºéå†ä»¥å·¦å³ä¸­çš„å½¢å¼ï¼Œæ‰€ä»¥å·¦å­æ ‘çš„ååºéå†ä¸ºå‰ä¸‰ä¸ªå…ƒç´ ã€‚å³å­æ ‘å¯ä»¥ç±»æ¯”ã€‚\næ ¹æ®åˆ†æ²»çš„æ€æƒ³ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¦‚æ­¤ä¸æ–­çš„å»ºæ ‘ã€‚ç›´åˆ°ä¸­åºéå†å’Œååºéå†éƒ½åªæœ‰ä¸€ä¸ªå…ƒç´ ä¸ºæ­¢ã€‚\nå»ºæ ‘å®Œæˆï¼Œå†æ·±æœä¸€éç¡®å®šæœ€å°å€¼å³å¯ã€‚\nå› æ­¤ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼Œä»£ç ä¸­ç”¨åˆ°çš„æ–¹å¼æ˜¯ä»¥æ•°ç»„çš„å½¢å¼å»ºæ ‘ï¼ˆç”¨ä¸¤ä¸ªæ•°ç»„åˆ†åˆ«è¡¨ç¤ºå¯¹åº”èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹æ˜¯å•¥ï¼‰ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 #include \u0026lt;iostream\u0026gt; #include \u0026lt;sstream\u0026gt; using namespace std; int tree_zhong[10001]; int tree_hou[10001]; int lch[10001],rch[10001]; int n; void loadTree(string cmd,string pos) { stringstream s(cmd); n=0; int x; if(pos == \u0026#34;zhong\u0026#34;) { while(s\u0026gt;\u0026gt;x) { tree_zhong[n] = x; n++; } } else { while(s\u0026gt;\u0026gt;x) { tree_hou[n] = x; n++; } } } int buildTree(int l1,int r1,int l2,int r2) { if (l1\u0026gt;r1) { return -1; } int root = tree_hou[r2]; int p; for(int i=l1;i\u0026lt;=r1;i++) { if(tree_zhong[i] == root) { p = i; break; } } lch[p] = buildTree(l1,p-1,l2,l2+p-l1-1); rch[p] = buildTree(p+1,r1,l2+p-l1,r2-1); return p; } int sumMin = -1; int minID = -1; void dfs(int root,int sum) { sum += tree_zhong[root]; if(lch[root]==-1 \u0026amp;\u0026amp; rch[root]==-1) { if(sumMin == -1) { sumMin = sum; minID = root; } if(sum == sumMin) { if(tree_zhong[root] \u0026lt; tree_zhong[minID]) //ä¸åŠ è¿™ä¸ªåˆ¤æ–­uvaä¹Ÿè¿‡äº† { sumMin = sum; minID = root; } } if(sum \u0026lt; sumMin) { sumMin = sum; minID = root; } return; } if(lch[root]!=-1) { dfs(lch[root],sum); } if(rch[root]!=-1) { dfs(rch[root],sum); } } int main() { string cmd; while(getline(cin,cmd)) { sumMin = -1; minID = -1; loadTree(cmd,\u0026#34;zhong\u0026#34;); getline(cin,cmd); loadTree(cmd,\u0026#34;hou\u0026#34;); int root = buildTree(0,n-1,0,n-1); dfs(root,0); cout \u0026lt;\u0026lt; tree_zhong[minID] \u0026lt;\u0026lt; endl; } return 0; } uva839 é¢˜ç›®é“¾æ¥\nè¿™é¢˜è™½ç„¶ä¸€çœ¼çœ‹ä¸Šå»æ˜¯äºŒå‰æ ‘çš„å½¢å¼ï¼Œå®é™…ä¸Šå¹¶ä¸éœ€è¦å»ºæ ‘ã€‚\né€šè¿‡å¯¹äºå¼•ç”¨çš„å¦™ç”¨å¯ä»¥å®ç°åŒæ­¥å·¦å­æ ‘å’Œå³å­æ ‘çš„é‡é‡çš„ä½œç”¨ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼Œæ˜“æ‡‚ä½†æ€è·¯éš¾æƒ³ï¼Œå› ä¸ºå…¶ç‰¹æ®Šç»“æ„è¢«å¼•å…¥åˆ°è¯¥æ–‡ä¸­ã€‚\nç¤ºä¾‹ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 #include\u0026lt;iostream\u0026gt; using namespace std; bool solve(int \u0026amp; w) { int w1,l1,w2,l2; cin \u0026gt;\u0026gt; w1 \u0026gt;\u0026gt; l1 \u0026gt;\u0026gt; w2 \u0026gt;\u0026gt; l2; bool b1 = true,b2 = true; if(w1==0) b1 = solve(w1); if(w2==0) b2 = solve(w2); w = w1 + w2; return b1 \u0026amp;\u0026amp; b2 \u0026amp;\u0026amp; (w1*l1 == w2*l2); } int main() { int n; cin \u0026gt;\u0026gt; n; for(int i=1;i\u0026lt;=n;i++) { int w; if(solve(w)) { cout \u0026lt;\u0026lt; \u0026#34;YES\u0026#34; \u0026lt;\u0026lt; endl; } else { cout \u0026lt;\u0026lt; \u0026#34;NO\u0026#34; \u0026lt;\u0026lt; endl; } if(i!=n) { cout \u0026lt;\u0026lt; endl; } } return 0; } ","date":"2024-10-24T02:00:00Z","permalink":"https://dingdinglz.github.io/p/%E4%BA%8C%E5%8F%89%E6%A0%91/","title":"äºŒå‰æ ‘"},{"content":"å‰è¨€ é™¤äº†ä¸€äº›æ–°é¢–çš„è¯­æ³•ï¼Œcppä¸­ä»ç„¶æœ‰ä¸€éƒ¨åˆ†å¤šäºcçš„åœ°æ–¹ï¼Œä¾¿æ˜¯stlï¼ŒåŸºäºtemplateæŠ€æœ¯ä¸ºæˆ‘ä»¬å®ç°äº†ä¸€äº›å¯ç›´æ¥ä½¿ç”¨çš„æ•°æ®ç»“æ„ã€‚ä¾‹å¦‚æ ˆï¼Œé˜Ÿåˆ—ï¼Œmapç­‰ï¼Œæœ¬æ–‡å°±ä¸ºå¤§å®¶ä»‹ç»éƒ¨åˆ†stlã€‚\næ ˆ(stack) æ ˆçš„æ¦‚å¿µ æ‘˜è‡ªç™¾åº¦ç™¾ç§‘\nåœ¨ç™¾ç§‘ä¸­ï¼Œç»™å‡ºäº†æ ˆçš„åŸºæœ¬æ¦‚å¿µåŠå®ç°æ–¹æ³•ã€‚ä½†åœ¨cppä¸­ï¼Œæœ‰å®ç°å¥½çš„æ ˆï¼Œä½äºå¤´æ–‡ä»¶stackä¸­ã€‚\n1 #include \u0026lt;stack\u0026gt; é€šè¿‡stackçš„å½¢å¼å³å¯å£°æ˜ä¸€ä¸ªæ ˆã€‚Tä¸ºæ•°æ®ç±»å‹ã€‚\nä¾‹å¦‚ï¼š\n1 stack\u0026lt;int\u0026gt; s; é€šè¿‡pushæ–¹æ³•å’Œpopæ–¹æ³•åˆ†åˆ«å¯ä»¥å®ç°è¿›æ ˆå’Œå‡ºæ ˆçš„æ“ä½œã€‚\né€šè¿‡topæ–¹æ³•åˆ™å¯ä»¥è·å–æ ˆé¡¶å…ƒç´ ã€‚\nè¯·çœ‹ç¤ºä¾‹ä»£ç ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #include \u0026lt;iostream\u0026gt; #include \u0026lt;stack\u0026gt; using namespace std; int main() { stack\u0026lt;int\u0026gt; test; int t = 5; test.push(5); test.push(6); test.push(t); t = 10; test.push(9); test.pop(); cout \u0026lt;\u0026lt; test.top(); return 0; } vector Vectoråœ¨æˆ‘çœ¼é‡Œå¯ä»¥è§†ä½œä¸€ä¸ªåŠ¨æ€æ•°ç»„ï¼Œå¯¹äºæ— æ³•ç¡®å®šæ•°ç»„å…·ä½“ä¸Šé™çš„æƒ…å†µä¸‹ï¼Œvectoræ— ç–‘æ˜¯ä¸ªè¾ƒå¥½çš„é€‰æ‹©ã€‚vectorä½äºå¤´æ–‡ä»¶vectorä¸­ï¼Œä¸‹é¢ä¸ºå¤§å®¶ä»‹ç»å®ƒçš„ç›¸å…³ä½¿ç”¨æ–¹æ³•ã€‚\n1 #include \u0026lt;vector\u0026gt; å®šä¹‰ å®šä¹‰æ–¹æ³•ä¸æ ˆç±»ä¼¼ã€‚vectorå£°æ˜ä¸€ä¸ªvectorï¼Œä¾‹å¦‚\n1 vector\u0026lt;int\u0026gt; v; push_backæ–¹æ³• é€šè¿‡push_backæ–¹æ³•å¯ä»¥å¾€vectorä¸­å¡å…¥å…ƒç´ ï¼Œæ—¢ç„¶æˆ‘ä»¬æŠŠå®ƒå½“åšåŠ¨æ€æ•°ç»„æ¥ç†è§£ï¼Œé‚£ä¹ˆå°±æ˜¯å¾€åŠ¨æ€æ•°ç»„ä¸­åŠ å…¥å…ƒç´ ã€‚ä¾‹å¦‚ï¼š\n1 2 v.push_back(1); v.push_back(2); å°±æ˜¯å¾€vä¸­åŠ å…¥äº†ä¸¤ä¸ªå…ƒç´ ï¼Œåˆ†åˆ«æ˜¯1ï¼Œä¸2ã€‚\npop_backæ–¹æ³• é€šè¿‡pop_backæ–¹æ³•å¯ä»¥åˆ é™¤æœ€ååŠ å…¥çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´\n1 v.pop_back(); æ­¤æ—¶vä¸­çš„2è¢«å¼¹å‡ºï¼Œåªå‰©ä¸‹1ä¸€ä¸ªå…ƒç´ ã€‚\néå†vector æ­¤æ—¶éœ€è¦å¼•å…¥iteratorçš„æ¦‚å¿µï¼Œå¯ä»¥ç†è§£ä¸ºæŒ‡å‘vectorä¸­çš„å…ƒç´ çš„æŒ‡é’ˆã€‚\né€šè¿‡beginæ–¹æ³•å’Œendæ–¹æ³•ï¼Œå¯ä»¥è·å–æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ ï¼Œé€šè¿‡æŒ‡é’ˆè‡ªå¢çš„æ–¹æ³•å¯ä»¥å®ç°ä»ç¬¬ä¸€ä¸ªå…ƒç´ ä¸€ç›´éå†åˆ°æœ€åä¸€ä¸ªå…ƒç´ çš„æ•ˆæœã€‚\nä¾‹å¦‚ï¼Œå¦‚æœéœ€è¦éå†vï¼Œå¯ä»¥æ“ä½œå¦‚ä¸‹ã€‚\n1 2 3 4 for(auto i = v.begin();i!=v.end();i++) { cout \u0026lt;\u0026lt; (*i) \u0026lt;\u0026lt; \u0026#34; \u0026#34;; // iå¯ä»¥ç†è§£ä¸ºæ­¤æ—¶éå†åˆ°çš„å…ƒç´ çš„æŒ‡é’ˆï¼Œ*iå³å¯å–å‡ºå…ƒç´ ã€‚ } autoå…³é”®å­—å¯ä»¥è‡ªåŠ¨æ ¹æ®èµ‹å€¼çš„ç±»å‹æ¨å¯¼å‡ºæ–°å®šä¹‰å˜é‡çš„ç±»å‹ã€‚å±äºc++11æ–°å¢çš„ç‰¹æ€§ã€‚\næ­¤æ—¶å¯¹äºiæ¥è¯´ï¼Œæ¨å¯¼å‡ºçš„ç±»å‹ä¸ºvector::iteratorã€‚\nå¯¹äºå€’åºéå†ï¼Œvectoræä¾›äº†ä¸¤ä¸ªå¾ˆæœ‰æ„æ€çš„å‡½æ•°rbeginå’Œrendã€‚é€šè¿‡æŠŠä¸Šé¢ç¤ºä¾‹ä»£ç ä¸­çš„beginæ›¿æ¢æˆrbeginï¼ŒæŠŠendæ›¿æ¢æˆrendï¼Œå³å¯å®ç°å€’åºéå†çš„æ•ˆæœã€‚\nresizeæ–¹æ³• resizeæ–¹æ³•å¯ä»¥è°ƒæ•´vectorçš„å®¹é‡ï¼Œä»è€Œå®ç°æ‹“å±•æˆ–è€…ç¼©å‡vectorçš„æ•ˆæœã€‚\nå¦‚æœresizeåæ–°çš„å®¹é‡å°äºåŸvectorä¸­çš„å…ƒç´ çš„å®¹é‡ï¼Œåˆ™ä¼šåˆ é™¤å¤šå‡ºæ¥çš„ç›¸å¯¹åŠ å…¥ä½ç½®é åçš„å…ƒç´ ã€‚\nä¾‹å¦‚\n1 v.resize(0); å°†å®¹å™¨å¤§å°è°ƒæ•´ä¸ºé›¶ï¼Œè¿˜æœ‰ä¸€ä¸ªå¯ä»¥ç†è§£çš„æ„ä¹‰ï¼Œå³æ¸…ç©ºvectorã€‚\nç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; using namespace std; int main() { vector\u0026lt;int\u0026gt; test; test.push_back(5); test.pop_back(); test.push_back(4); test.push_back(5); test.push_back(2); test.push_back(3); test.resize(3); for(auto i = test.begin();i!=test.end();i++) { cout \u0026lt;\u0026lt; (*i) \u0026lt;\u0026lt; \u0026#34; \u0026#34;; } return 0; } é›†åˆ(set) setä½äºå¤´æ–‡ä»¶setä¸­\n1 #include \u0026lt;set\u0026gt; setè™½ç„¶æ„Ÿè§‰åœ¨æˆ‘æ—¥å¸¸å¼€å‘æˆ–è€…å†™é¢˜ä¸­ä½¿ç”¨ä¸å¤šï¼Œå¯èƒ½æ˜¯æˆ‘ä¹‹å‰å¹¶ä¸æ€ä¹ˆäº†è§£è¿™ä¸ªçš„åŸå› ï¼Œä½†å®ƒç¡®å®æ˜¯ä¸€ä¸ªå¾ˆæœ‰è¶£çš„ä¸œè¥¿ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œå®ƒåœ¨å½¢å¼ä¸Šç±»ä¼¼äºvectorï¼Œä½†æ˜¯è¦å¤šå‡ºä¸¤ä¸ªç‰¹æ€§ã€‚\nä¸å…è®¸é‡å¤å…ƒç´ çš„å­˜åœ¨ï¼Œå³ä½ å¯ä»¥æ’å…¥å¾ˆå¤šæ¬¡åŒä¸€ä¸ªå…ƒç´ (åˆæ³•)ï¼Œä½†setä¸­åªä¼šä¿ç•™ä¸€ä¸ªã€‚\nè‡ªåŠ¨æ’åºï¼ŒæŒ‰ç…§è‡ªå°åˆ°å¤§çš„é¡ºåºã€‚å› æ­¤ï¼Œä½¿ç”¨è‡ªå®šä¹‰ç±»å‹æ—¶ï¼Œåº”è¯¥æ³¨æ„å®ç°\u0026lt;ç¬¦å·ã€‚\nå®šä¹‰ setï¼ŒTä¸ºæ•°æ®ç±»å‹\n1 set\u0026lt;int\u0026gt; s; æ’å…¥å…ƒç´  insertæ–¹æ³•ï¼Œä¾‹å¦‚\n1 2 3 s.insert(1); s.insert(2); s.insert(3); åˆ é™¤å…ƒç´  eraseæ–¹æ³•å¯ä»¥åˆ é™¤å…ƒç´ ï¼Œä¾‹å¦‚\n1 s.erase(1); éå† ä¸vectorç›¸åŒï¼Œä¸åœ¨èµ˜è¿°ï¼Œä½†å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œvectoræ˜¯æŒ‰ç…§æ’å…¥é¡ºåºæ’åˆ—å…ƒç´ ï¼Œè€Œsetåˆ™æ˜¯æŒ‰ç…§å‡åºæ’åˆ—å…ƒç´ ã€‚\nç¤ºä¾‹ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 #include \u0026lt;iostream\u0026gt; #include \u0026lt;set\u0026gt; using namespace std; int main() { set\u0026lt;int\u0026gt; test; test.insert(5); test.insert(4); test.insert(5); test.insert(6); test.insert(5); test.insert(1); for(auto i = test.begin();i!=test.end();i++) { cout \u0026lt;\u0026lt; *i \u0026lt;\u0026lt; \u0026#34; \u0026#34;; } cout \u0026lt;\u0026lt; endl; for(auto i = test.rbegin();i!=test.rend();i++) { cout \u0026lt;\u0026lt; *i \u0026lt;\u0026lt; \u0026#34; \u0026#34;; } return 0; } é˜Ÿåˆ— é˜Ÿåˆ—çš„æ¦‚å¿µï¼šé˜Ÿåˆ—ï¼ˆå¸¸ç”¨æ•°æ®ç»“æ„ä¹‹ä¸€ï¼‰_ç™¾åº¦ç™¾ç§‘\ncppä¸­å®ç°äº†é˜Ÿåˆ—ï¼Œä½äºå¤´æ–‡ä»¶queueä¸­ã€‚\n1 #include \u0026lt;queue\u0026gt; å®šä¹‰æ–¹æ³•queueï¼ŒTä¸ºç±»å‹åã€‚\næ’å…¥ä¸å¼¹å‡º å³ä¸ºpushæ–¹æ³•ä¸popæ–¹æ³•ï¼Œä¸å‰é¢ä»‹ç»çš„å‡ ç§ç»“æ„ç±»ä¼¼ï¼Œä¸åœ¨èµ˜è¿°ï¼Œè¯·å¤§å®¶è‡ªè¡Œç†è§£ï¼Œä¹Ÿå¯ä»¥å‚ç…§ç¤ºä¾‹ä»£ç ã€‚\nè·å–é˜Ÿé¡¶å…ƒç´ å’Œé˜Ÿå°¾å…ƒç´  åˆ†åˆ«æ˜¯frontæ–¹æ³•å’Œbackæ–¹æ³•ï¼Œè¯¦è§ç¤ºä¾‹ã€‚\nä¼˜å…ˆé˜Ÿåˆ— ä¼˜å…ˆé˜Ÿåˆ—ä¸é˜Ÿåˆ—ç±»ä¼¼ï¼Œåªæ˜¯å¤šå‡ºäº†ä¸ªå‡åºæ’åˆ—çš„ç‰¹æ€§ï¼Œç±»å‹åä¸ºpriority_queueã€‚\nä½¿ç”¨æ–¹æ³•ä¸queueå®Œå…¨ç›¸åŒï¼Œåªæ˜¯å¤šå‡ºäº†ä¸€ä¸ªç±»ä¼¼äºè‡ªåŠ¨æ’åºçš„åŠŸèƒ½ã€‚\nç¤ºä¾‹ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 #include \u0026lt;iostream\u0026gt; #include \u0026lt;queue\u0026gt; using namespace std; int main() { queue\u0026lt;int\u0026gt; test; test.push(123); test.push(123121); test.push(222); test.pop(); cout \u0026lt;\u0026lt; test.back() \u0026lt;\u0026lt; test.front(); cout \u0026lt;\u0026lt; endl; priority_queue\u0026lt;int\u0026gt; test2; test2.push(5); test2.push(9); test2.push(2); test2.push(4); test2.push(1); test2.push(3); test2.pop(); cout \u0026lt;\u0026lt; test2.top(); return 0; } map mapæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼Œä½äºå¤´æ–‡ä»¶mapä¸­\n1 #include \u0026lt;map\u0026gt; å®ƒçš„å®šä¹‰å½¢å¼ä¸ºmap\u0026lt;T1,T2\u0026gt;ï¼ŒT1ä¸ºé”®çš„ç±»å‹ï¼ŒT2ä¸ºå€¼çš„ç±»å‹ã€‚\nä¸€ä¸ªç¡®å®šçš„é”®å¯¹åº”ä¸€ä¸ªç¡®å®šçš„å€¼ã€‚\nä¾‹å¦‚ï¼š\n1 2 3 4 map\u0026lt;string,int\u0026gt; test; test[\u0026#34;a\u0026#34;] = 1; test[\u0026#34;b\u0026#34;] = 2; test[\u0026#34;a\u0026#34;] = 3; è¯¥æ®µä»£ç ä¸­å…ˆæ˜¯å®šä¹‰äº†ä¸€ä¸ªmapå˜é‡ã€‚\nç„¶åå»æ·»åŠ é”®å€¼å¯¹ã€‚ç”±äºé”®ä¸å€¼æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œç°åœ¨mapä¸­å®é™…ä¸Šåªå­˜åœ¨ä¸¤ä¸ªé”®å€¼å¯¹ï¼Œå³a-\u0026gt;3ï¼Œb-\u0026gt;2ã€‚\nè¯¥ä¾‹å­å¾ˆå¥½çš„ä½“ç°äº†é”®å€¼å¯¹çš„æ“ä½œæ–¹æ³•ã€‚å³å˜é‡å[é”®] = å€¼çš„æ–¹æ³•è¿›è¡Œæ“ä½œã€‚\nç”¨äºåˆ¤æ–­mapä¸­æ˜¯å¦å­˜åœ¨ç‰¹å®šçš„é”®ï¼Œæä¾›äº†countæ–¹æ³•ï¼Œå¯ä»¥æˆ–è®¸å¯¹åº”é”®çš„æ•°é‡ã€‚ï¼ˆå…¶å®ä¹Ÿåªæœ‰1å’Œ0ï¼Œå› ä¸ºä¸€ä¸ªé”®åªå¯¹åº”ä¸€ä¸ªå€¼ã€‚æ‰€ä»¥ä¸ºä»€ä¹ˆä¸è®¾è®¡æˆexistçš„å½¢å¼å‘¢ï¼‰\nä¸‹é¢æ˜¯ç¤ºä¾‹ä»£ç \n1 2 3 4 5 6 7 8 9 10 11 12 13 #include \u0026lt;iostream\u0026gt; #include \u0026lt;map\u0026gt; using namespace std; int main() { map\u0026lt;string,int\u0026gt; test; test[\u0026#34;a\u0026#34;] = 1; test[\u0026#34;b\u0026#34;] = 2; test[\u0026#34;a\u0026#34;] = 3; cout \u0026lt;\u0026lt; test.count(\u0026#34;a\u0026#34;) \u0026lt;\u0026lt; endl; cout \u0026lt;\u0026lt; test[\u0026#34;a\u0026#34;] \u0026lt;\u0026lt; endl; return 0; } ç›¸å…³ç»ƒä¹  uva442 é¢˜ç›®é“¾æ¥ï¼šMatrix Chain Multiplication - UVA 442 - Virtual Judge\næ¶‰åŠåˆ°æ ˆå’Œmapçš„ä½¿ç”¨ï¼Œç»™å‡ºç¤ºä¾‹ä»£ç ï¼Œè¯·å¤§å®¶è‡ªè¡Œç†è§£ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 #include \u0026lt;iostream\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;stack\u0026gt; using namespace std; struct Matrix { Matrix(int a=0,int b=0):a(a),b(b){} int a; int b; }; int main() { map\u0026lt;char,Matrix\u0026gt; MatrixMap; int n; cin \u0026gt;\u0026gt; n; for(int i=1;i\u0026lt;=n;i++) { char cnt1; int cnt2,cnt3; cin \u0026gt;\u0026gt; cnt1 \u0026gt;\u0026gt; cnt2 \u0026gt;\u0026gt; cnt3; MatrixMap[cnt1] = Matrix(cnt2,cnt3); } string inputCom; while(cin \u0026gt;\u0026gt; inputCom) { stack\u0026lt;Matrix\u0026gt; cheng; int ans = 0; bool success = true; for(int i=0;i\u0026lt;inputCom.length();i++) { if(inputCom[i]!=\u0026#39;(\u0026#39; \u0026amp;\u0026amp; inputCom[i]!=\u0026#39;)\u0026#39;) { cheng.push(MatrixMap[inputCom[i]]); } if(inputCom[i] == \u0026#39;)\u0026#39;) { Matrix m1 = cheng.top(); cheng.pop(); Matrix m2 = cheng.top(); cheng.pop(); if(m1.a != m2.b) { success = false; break; } ans += m2.a * m2.b * m1.b; cheng.push(Matrix(m2.a,m1.b)); } } if(!success) { cout \u0026lt;\u0026lt; \u0026#34;error\u0026#34; \u0026lt;\u0026lt; endl; } else { cout \u0026lt;\u0026lt; ans \u0026lt;\u0026lt; endl; } } return 0; } uva514 é¢˜ç›®é“¾æ¥ï¼šRails - UVA 514 - Virtual Judge\næ¶‰åŠåˆ°é˜Ÿåˆ—å’Œæ ˆçš„ä½¿ç”¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 #include\u0026lt;iostream\u0026gt; #include\u0026lt;stack\u0026gt; #include\u0026lt;queue\u0026gt; using namespace std; int main() { int n; while(cin \u0026gt;\u0026gt; n \u0026amp;\u0026amp; n!=0) { int cnt; while(cin \u0026gt;\u0026gt; cnt \u0026amp;\u0026amp; cnt != 0) { queue\u0026lt;int\u0026gt; rail; stack\u0026lt;int\u0026gt; realRail; rail.push(cnt); for(int i=2;i\u0026lt;=n;i++) { int _cnt; cin \u0026gt;\u0026gt; _cnt; rail.push(_cnt); } for(int i=1;i\u0026lt;=n;i++) { realRail.push(i); while(!realRail.empty() \u0026amp;\u0026amp; !rail.empty() \u0026amp;\u0026amp; realRail.top() == rail.front()) { rail.pop(); realRail.pop(); } } if(!rail.empty()) { cout \u0026lt;\u0026lt; \u0026#34;No\u0026#34; \u0026lt;\u0026lt; endl; } else { cout \u0026lt;\u0026lt; \u0026#34;Yes\u0026#34; \u0026lt;\u0026lt; endl; } } cout \u0026lt;\u0026lt; endl; } return 0; } æ€»ç»“ ä¸Šè¿°é¢˜ç›®ç¦»å¼€stlå½“ç„¶èƒ½åšï¼Œä½†ä½¿ç”¨ç»™å‡ºçš„stlæ˜¾å¾—å¯è¯»æ€§æ›´é«˜å¹¶ä¸”æ›´åŠ æ–¹ä¾¿ï¼Œä½¿å¼€å‘æ•ˆç‡å¤§å¤§å¢å¼ºã€‚åœ¨è®¤è¯†åˆ°stlä¾¿åˆ©æ€§çš„åŒæ—¶åº”è¯¥äº†è§£stlçš„æ•ˆç‡ç›¸å¯¹ä¸é«˜ï¼Œåœ¨éƒ¨åˆ†oié¢˜ä¸­å¯èƒ½ä¼šå¯¼è‡´è¶…æ—¶ç­‰é—®é¢˜ï¼Œéœ€è¦æ–Ÿé…Œä½¿ç”¨ã€‚\n","date":"2024-10-23T02:00:00Z","permalink":"https://dingdinglz.github.io/p/%E6%B5%85%E8%B0%88stl/","title":"æµ…è°ˆSTL"},{"content":"ç®€è¿° è‡ªä»é…·Qæ—¶ä»£å¼€å§‹ä¹ƒè‡³æ›´æ—©æ—¶æœŸï¼ŒQQæœºå™¨äººä¾¿å‡ºç°åœ¨å¤§å®¶çš„è§†é‡é‡Œï¼Œç”±äºè¢«ä½¿ç”¨äºä¸€äº›ä¸æ­£å½“é¢†åŸŸä»¥åŠæŸäº›ä¸å¯å‘Šäººçš„åŸå› ï¼ŒQQ Robotè¢«QQå®˜æ–¹banäº†å¾ˆé•¿æ—¶é—´ï¼Œç›´åˆ°æœ€è¿‘å®˜æ–¹æ”¾å‡ºäº†éƒ¨åˆ†æœºå™¨äººæƒé™ï¼Œä»¥åŠonebotç­‰å¯¹äºåè®®çš„è´¡çŒ®ï¼ŒQQ Robotæ¢å¤äº†éƒ¨åˆ†åŠŸèƒ½ï¼Œdingbotä¾¿ç”±äºæœ¬ä½œè€…çš„éœ€æ±‚é‡æ„å‡ºäº†v2ç‰ˆæœ¬ã€‚\né“¾æ¥ï¼šhttps://github.com/dingdinglz/dingbot\nå·²æ”¯æŒåŠŸèƒ½ è¯·ç§»æ­¥githubæŸ¥çœ‹\nå®ç°æ–¹æ³• golang + html\ngolangä¸‹å¯¹æ¥Lagrangeï¼Œä»¥fiberæ¡†æ¶ä½œä¸ºwebæ¡†æ¶ï¼Œhtmlä»¥layuiæ„å»ºå‰ç«¯ç•Œé¢\nç”»å»Š ç¼–è¯‘æ–¹æ³• å‰ç½®æ¡ä»¶ å®‰è£…golang\nç¼–è¯‘æ–¹æ³• 1 go build äº§ç‰© å°†æ‰€å¾—çš„dingbot.exeï¼ˆå…¶ä»–ç³»ç»Ÿåç¼€å¯èƒ½ä¸åŒï¼‰ä¸webæ–‡ä»¶å¤¹å¤åˆ¶åˆ°æ–°çš„æ–‡ä»¶å¤¹ä¸­ï¼Œæ­¤æ—¶çš„dingbotå¯ä»¥ç›´æ¥è¿è¡Œã€‚\næ­¤æ—¶ä½ çš„æ–‡ä»¶å¤¹ç»“æ„åº”è¯¥ä¸º\n1 2 - dingbot[.exe] - web è¿è¡Œæ–¹æ³• æ‰“å¼€dingbotå¯æ‰§è¡Œæ–‡ä»¶ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨ä¼šä¸ºä½ æ‰“å¼€åˆå§‹åŒ–ç•Œé¢ï¼Œå®Œæˆè®¾ç½®åé‡å¯dingbotå³å¯ã€‚\né¦–å…ˆåœ¨è´¦å·è®¾ç½®æ ä¸­ä¿å­˜QQè´¦å·ä¸å¯†ç ï¼Œç‚¹å‡»ä¿å­˜ã€‚\nç‚¹å‡»ä¸‹æ–¹ç™»å½•è¿›è¡Œç™»å½•ï¼Œåˆæ¬¡ç™»å½•éœ€è¦æ‰«æäºŒç»´ç ã€‚åç»­ç™»å½•å¦‚sigæœªå¤±æ•ˆå¯ç›´æ¥ç™»å½•ã€‚\næç¤ºç™»å½•æˆåŠŸåæœºå™¨äººä¾¿è¿›å…¥æ­£å¸¸è¿è¡ŒçŠ¶æ€ã€‚\nå…³é”®è¯å›å¤ ç‚¹å‡»åˆ›å»ºå¯ä»¥åˆ›å»ºæ–°çš„å…³é”®è¯ã€‚\nç²¾ç¡®è¯†åˆ«ä¸ºæ¶ˆæ¯å¿…é¡»å®Œç¾ç¬¦åˆå…³é”®è¯æ‰ä¼šå‘é€å›å¤å†…å®¹ã€‚\néç²¾ç¡®è¯†åˆ«åˆ™å¦‚æœæ¶ˆæ¯åŒ…å«å…³é”®è¯å³å‘é€å›å¤å†…å®¹ã€‚\nç¾¤æ¥æ”¶å¼€å…³ \u0026amp;\u0026amp; å¥½å‹æ¥æ”¶å¼€å…³ å¼€å¯åæœºå™¨äººæ‰ä¼šå¯¹å¯¹åº”ç¾¤å’Œå¥½å‹çš„æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚å¦åˆ™dingbotè‡ªå¸¦åŠŸèƒ½ä¸æ’ä»¶åŠŸèƒ½æ— æ³•åœ¨å¯¹åº”çš„å¯¹è¯ä¸­ç”Ÿæ•ˆã€‚\næ’ä»¶ æ–°å»ºæ’ä»¶åå³ä¼šä¸ºä½ åˆ›å»ºä¸€ä¸ªæ–°çš„æ’ä»¶æºç ï¼Œç‚¹å‡»ç¼–è¾‘åä¼šè¿›å…¥æ’ä»¶ç¼–è¾‘å™¨ä¸­è¿›è¡Œç¼–è¾‘ã€‚\nä¸€ä¸ªå®Œæ•´çš„æ’ä»¶è‡³å°‘æ‹¥æœ‰æ’ä»¶ä¿¡æ¯æä¾›äº‹ä»¶ï¼Œå³äº‹ä»¶ä¸­ç¬¬ä¸€ä¸ªï¼Œå°†å…¶æ‹–è‡³ç¼–è¾‘å™¨ä¸­ï¼Œç”¨æ–‡æœ¬å¡«å……ç›¸å…³ä¿¡æ¯å³å¯ã€‚\näº‹ä»¶ æ‰€æœ‰çš„äº‹ä»¶çš„å®ç°æ–¹æ³•éƒ½æ‹–è‡³äº‹ä»¶å†…éƒ¨å¤„ç†ã€‚\nåœ¨å¯¹åº”çš„äº‹ä»¶ä¸­å¯ä»¥ä½¿ç”¨å¯¹åº”çš„å‚æ•°ã€‚\nä¿å­˜ ç¼–è¾‘å®Œæ’ä»¶åè®°å¾—ä¿å­˜ï¼Œå¦åˆ™ä¸‹æ¬¡å°†ä¸¢å¤±ä¸Šæ¬¡ç¼–è¾‘ã€‚\nç”Ÿæˆ æ’ä»¶ç¼–è¾‘å®Œåæ— æ³•ç«‹å³è¿›å…¥å·¥ä½œçŠ¶æ€ï¼Œç‚¹å‡»ç”Ÿæˆæ’ä»¶åæ‰ä¼šç”Ÿæˆæ­£å¼çš„æ’ä»¶æ–‡ä»¶ï¼Œè‹¥ä½ å¯ä»¥åœ¨æ’ä»¶åˆ—è¡¨ä¸­çœ‹åˆ°è¯¥æ’ä»¶ï¼Œå³ä¸ºç”ŸæˆæˆåŠŸï¼Œå¹¶è¿›å…¥å·¥ä½œçŠ¶æ€ã€‚\næ’ä»¶çš„è·å– å½“ç„¶ï¼Œé™¤äº†è‡ªå·±ç¼–å†™æ’ä»¶ä»¥å¤–ï¼Œå¯ä»¥ä»ç¤¾åŒºä¸‹è½½ä»–äººåˆ¶ä½œå®Œæˆçš„æ’ä»¶ï¼Œå¤åˆ¶åˆ°å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸­ï¼Œè‹¥ä½ å¯ä»¥åœ¨æ’ä»¶åˆ—è¡¨ä¸­çœ‹åˆ°è¯¥æ’ä»¶ï¼Œå³ä¸ºæ·»åŠ æˆåŠŸã€‚\n","date":"2024-10-16T02:00:00Z","permalink":"https://dingdinglz.github.io/p/dingbot-v2/","title":"dingbot v2"}]